/*! (c) gotoAndPlay | All rights reserved */
(window["webpackJsonpapplication"] = window["webpackJsonpapplication"] || []).push([["module-13"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-SG": "./node_modules/moment/locale/en-SG.js",
	"./en-SG.js": "./node_modules/moment/locale/en-SG.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) { // check for number or string
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return id;
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/components/charts/chart-utils.js":
/*!**********************************************!*\
  !*** ./src/components/charts/chart-utils.js ***!
  \**********************************************/
/*! exports provided: getFormattedDateTime, getBasicSharedTemplate, getMemorySharedTemplate, getMemoryValueAxisLabelTemplate, getNetworkSharedTemplate, getNetworkValueAxisLabelTemplate, getUserCountSharedTemplate, getTimeRangeTooltipTemplate, getWRBytesLabelTemplate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFormattedDateTime", function() { return getFormattedDateTime; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBasicSharedTemplate", function() { return getBasicSharedTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMemorySharedTemplate", function() { return getMemorySharedTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMemoryValueAxisLabelTemplate", function() { return getMemoryValueAxisLabelTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNetworkSharedTemplate", function() { return getNetworkSharedTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNetworkValueAxisLabelTemplate", function() { return getNetworkValueAxisLabelTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getUserCountSharedTemplate", function() { return getUserCountSharedTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTimeRangeTooltipTemplate", function() { return getTimeRangeTooltipTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getWRBytesLabelTemplate", function() { return getWRBytesLabelTemplate; });
/* harmony import */ var _utils_utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/utilities */ "./src/utils/utilities.js");


function getFormattedDateTime(date, format = 'dd MMM HH:mm:ss')
{
	return kendo.toString(date, format);
}

function getBasicSharedTemplate(valueFormat = '{0}') {
	return kendo.template(`
		<div class="chart-tooltip-category"><strong>#: category #</strong></div>
		# for (var i = 0; i < points.length; i++) { #
		<div>
			<i class="fas fa-square" style="color: #: points[i].color # "></i>
			#: points[i].series.name# : #: kendo.format('${valueFormat}', points[i].value) #
		</div>
		# } #
	`);
}

function getMemorySharedTemplate() {
	return function(dataItem) {
		dataItem.bytesToSize = _utils_utilities__WEBPACK_IMPORTED_MODULE_0__["bytesToSize"]; // Pass bytesToSize utility function to template
		return kendo.template(`
			<div class="chart-tooltip-category"><strong>#: category #</strong></div>
			# for (var i = 0; i < points.length; i++) { #
			<div>
				<i class="fas fa-square" style="color: #: points[i].color # "></i>
				#: points[i].series.name# : #: bytesToSize(points[i].value) #
			</div>
			# } #
		`)(dataItem);
	};
}

function getMemoryValueAxisLabelTemplate() {
	return function(dataItem) {
		dataItem.bytesToSize = _utils_utilities__WEBPACK_IMPORTED_MODULE_0__["bytesToSize"]; // Pass bytesToSize utility function to template
		return kendo.template(`
			#: bytesToSize(value) #
		`)(dataItem);
	};
}

function getNetworkSharedTemplate(categoryFormat = 'dd MMM HH:mm:ss') {
	return function(dataItem) {
		dataItem.kBytesToSize = _utils_utilities__WEBPACK_IMPORTED_MODULE_0__["kBytesToSize"]; // Pass kBytesToSize utility function to template
		return kendo.template(`
			<div class="chart-tooltip-category"><strong>#: kendo.toString(category, '${categoryFormat}') #</strong></div>
			# for (var i = 0; i < points.length; i++) { #
			<div>
				<i class="fas fa-square" style="color: #: points[i].color # "></i>
				#: points[i].series.name# : #: kBytesToSize(points[i].value, 1, '', '/s') #
			</div>
			# } #
		`)(dataItem);
	};
}

function getNetworkValueAxisLabelTemplate() {
	return function(dataItem) {
		dataItem.kBytesToSize = _utils_utilities__WEBPACK_IMPORTED_MODULE_0__["kBytesToSize"]; // Pass kBytesToSize utility function to template
		return kendo.template(`
			#: kBytesToSize(value, 1, '', '/s') #
		`)(dataItem);
	};
}

function getUserCountSharedTemplate(categoryFormat = 'dd MMM HH:mm:ss') {
	return function(dataItem) {
		return kendo.template(`
			<div class="chart-tooltip-category"><strong>#: kendo.toString(category, '${categoryFormat}') #</strong></div>
			# for (var i = 0; i < points.length; i++) { #
			<div>
				<i class="fas fa-square" style="color: #: points[i].color # "></i>
				#: points[i].series.name# : #: points[i].value #
			</div>
			# } #
		`)(dataItem);
	};
}

function getTimeRangeTooltipTemplate() {
	return function(dataItem) {
		dataItem.getTooltipString = function(v1, v2) {
			if (v1 == v2)
			{
				if (v2 == -24)
					v2 = -23;

				v1 = v2 - 1;
			}

			let start = Math.abs(v1);
			let end = Math.abs(v2);

			return `From ${start} hour${start != 1 ? 's' : ''} ago to ${end > 0 ? ('to ' + end + ' hour' + (end != 1 ? 's' : '') + ' ago') : 'now'}`;
		}; // Pass utility function to template
		return kendo.template(`
			#: getTooltipString(selectionStart, selectionEnd) #
		`)(dataItem);
	};
}

function getWRBytesLabelTemplate() {
	return function(dataItem) {
		return kendo.template(`
			#: value # #: dataItem.unit #
		`)(dataItem);
	};
}


/***/ }),

/***/ "./src/components/charts/user-count-chart.js":
/*!***************************************************!*\
  !*** ./src/components/charts/user-count-chart.js ***!
  \***************************************************/
/*! exports provided: UserCountChart */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserCountChart", function() { return UserCountChart; });
/* harmony import */ var _chart_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chart-utils */ "./src/components/charts/chart-utils.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);



class UserCountChart extends HTMLElement
{
	constructor()
	{
	    super();

		// Create chart html
		let chartHtml = $('<div>');
		$(this).append(chartHtml);

		// Initialize chart
		this._chartWidget = this._initChartWidget(chartHtml);
	}

	_initChartWidget(chartHtml)
	{
		return chartHtml.kendoChart({
			transitions: false,
			chartArea: {
				height: 270,
				background: 'transparent'
			},
	        legend: {
	            visible: false
	        },
	        seriesDefaults: {
	            type: 'area',
	            labels: {
	                visible: false,
	                format: '{0}',
	                background: 'transparent'
	            },
	        },
	        series: [{
				name: 'Users',
	            field: 'users',
	            categoryField: 'time',
				color: '#fd7d24',
				line: {
					width: 2
				}
	        }],
	        valueAxis: {
	            labels: {
	                format: '{0}',
	            },
	            line: {
	                visible: false
	            },
				min: 0,
	        },
	        categoryAxis: {
				majorGridLines: {
	                visible: true,
					step: 60
	            },
				majorTicks: {
					visible: true,
					step: 60
				},
				labels: {
					visible: true,
					step: 60
				},
				baseUnit: 'minutes',
				type: 'date',
	        },
	        tooltip: {
				shared: true,
	            visible: true,
				sharedTemplate: Object(_chart_utils__WEBPACK_IMPORTED_MODULE_0__["getUserCountSharedTemplate"])('dd MMM HH:mm'),
				background: '#e4e4e4'
	        }
	    }).data('kendoChart');
	}

	redraw()
	{
		this._chartWidget.redraw();
	}

	set range(values)
	{
		this._range = values;

		this._updateXAxisLimits();
	}

	get range()
	{
		return this._range;
	}

	addHistoryEntries(userCountData, samplingRateSeconds)
	{
		let date = new Date();
		let start = moment__WEBPACK_IMPORTED_MODULE_1__(date);
		start.subtract((samplingRateSeconds * userCountData.length), 's')

		let dataSource = new kendo.data.DataSource();

		for (let i = 1; i < userCountData.length; i++)
		{
			let date = start.clone();
			date.add(i * samplingRateSeconds, 's');

			this.addEntry(userCountData[i], dataSource, date.toDate(), false);
		}

		// Assign datasource to chart
		this._chartWidget.setDataSource(dataSource);

		// Update axis
		this._updateXAxisLimits();
	}

	addEntry(userCount, dataSource = null, date = null, updateAxis = true)
	{
		if (date == null)
			date = new Date();

		let newEntry = {
			time: date,
			users: userCount
		};

		// Add entry to data source
		if (dataSource == null)
			dataSource = this._dataSource;

		dataSource.add(newEntry);

		if (updateAxis)
			this._updateXAxisLimits();
	}

	_updateXAxisLimits()
	{
		let ds = this._dataSource;

		if (ds.total() > 0)
		{
			const chartMinimum = moment__WEBPACK_IMPORTED_MODULE_1__(this._lastDate).add(this._range[0], 'h');
			const chartMaximum = moment__WEBPACK_IMPORTED_MODULE_1__(this._lastDate).add(this._range[1], 'h');

			this._chartWidget.options.categoryAxis.min = chartMinimum.toDate();
			this._chartWidget.options.categoryAxis.max = chartMaximum.toDate();

			this._chartWidget.redraw();
		}
	}

	get _dataSource()
	{
		return this._chartWidget.dataSource;
	}
}

// DEFINE COMPONENT
if (!window.customElements.get('user-count-chart'))
	window.customElements.define('user-count-chart', UserCountChart);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/components/match-expression-builder.js":
/*!****************************************************!*\
  !*** ./src/components/match-expression-builder.js ***!
  \****************************************************/
/*! exports provided: MatchExpressionBuilder */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MatchExpressionBuilder", function() { return MatchExpressionBuilder; });
class MatchExpressionBuilder extends HTMLElement
{
	constructor()
	{
	    super();

		this.EXPRESSION_UPDATED_EVENT = 'expressionUpdated';

		this._dialog = $(`
			<div class="modal" id="matchExprBuilderModal" tabindex="-1" role="dialog" aria-labelledby="matchExprBuilderModalTitle" aria-hidden="true">
				<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title text-primary" id="matchExprBuilderModalTitle">...</h5>
						</div>
						<div class="modal-body p-0">
							<form class="bg-color-default p-3">
								<div class="d-inline-flex align-items-center radio-button-group inline-form-groups">
									<div class="custom-control custom-radio custom-control-inline mr-2">
										<input type="radio" id="andOperatorRB" name="operatorRBG" class="custom-control-input" value="AND" checked disabled>
										<label class="custom-control-label" for="andOperatorRB">AND</label>
									</div>
									<div class="custom-control custom-radio custom-control-inline mr-2">
										<input type="radio" id="orOperatorRB" name="operatorRBG" class="custom-control-input" value="OR" disabled>
										<label class="custom-control-label" for="orOperatorRB">OR</label>
									</div>
								</div>
								<div class="d-inline-block">
									<div class="inline-form-groups my-1">
										<input id="varNameCB"/>
									</div>
									<div class="inline-form-groups my-1">
										<input id="typeDD" class="matchTypeDropdown"/>
										<input id="conditionDD" class="matchConditionDropdown"/>
									</div>
								</div>
								<div class="d-inline inline-form-groups">
									<input id="valueIn" class="k-textbox mt-1" placeholder="Value"/>
									<button id="matchExprAddBt" type="button" class="k-button k-secondary mt-1"><i class="fas fa-plus mr-1"></i>Add</button>
								</div>
							</form>

							<div id="matchExprGrid" class="m-3"></div>
						</div>
						<div class="modal-footer d-flex">
							<div class="flex-grow-1 text-left">
								<button id="matchExprApplyBt" type="button" class="k-button k-primary mr-2"><i class="fas fa-check-circle mr-1"></i>Apply</button>
							</div>
							<div class="flex-grow-1 text-right">
								<button id="matchExprRemoveBt" type="button" class="k-button k-secondary" disabled><i class="fas fa-minus-circle mr-1"></i>Remove selected</button>
								<button id="matchExprClearBt" type="button" class="k-button k-secondary"><i class="fas fa-times-circle mr-1"></i>Clear All</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		`);

		$('#matchExprAddBt', this._dialog).on('click', $.proxy(this._onAddBtClick, this));
		$('#matchExprApplyBt', this._dialog).on('click', $.proxy(this._onApplyBtClick, this));
		$('#matchExprRemoveBt', this._dialog).on('click', $.proxy(this._onRemoveBtClick, this));
		$('#matchExprClearBt', this._dialog).on('click', $.proxy(this._onClearBtClick, this));

		// INITIALIZE FORM ITEMS

		this._varNameCb = $('#varNameCB', this._dialog).kendoComboBox({
			dataTextField: 'label',
			dataValueField: 'value',
			placeholder: 'Variable name',
		}).data('kendoComboBox');

		// Set types dropdown data source
		// NOTE: in order to avoid XxxMatch objects to be wrapped by Kendo data source, we have to pass them using _ property names
		let typeDS = [];

		// Boolean ----------------
		typeDS.push({
			label: 'Boolean',
			_value: SFS2X.BoolMatch.EQUALS,
			conditions: [
				{
					label: SFS2X.BoolMatch.EQUALS.symbol,
					_value: SFS2X.BoolMatch.EQUALS,
				},
				{
					label: SFS2X.BoolMatch.NOT_EQUALS.symbol,
					_value: SFS2X.BoolMatch.NOT_EQUALS,
				}
			]
		});

		// Number ----------------
		typeDS.push({
			label: 'Number',
			_value: SFS2X.NumberMatch.EQUALS,
			conditions: [
				{
					label: SFS2X.NumberMatch.EQUALS.symbol,
					_value: SFS2X.NumberMatch.EQUALS,
				},
				{
					label: SFS2X.NumberMatch.NOT_EQUALS.symbol,
					_value: SFS2X.NumberMatch.NOT_EQUALS,
				},
				{
					label: SFS2X.NumberMatch.GREATER_THAN.symbol,
					_value: SFS2X.NumberMatch.GREATER_THAN,
				},
				{
					label: SFS2X.NumberMatch.LESS_THAN.symbol,
					_value: SFS2X.NumberMatch.LESS_THAN,
				},
				{
					label: SFS2X.NumberMatch.GREATER_THAN_OR_EQUAL_TO.symbol,
					_value: SFS2X.NumberMatch.GREATER_THAN_OR_EQUAL_TO,
				},
				{
					label: SFS2X.NumberMatch.LESS_THAN_OR_EQUAL_TO.symbol,
					_value: SFS2X.NumberMatch.LESS_THAN_OR_EQUAL_TO,
				}
			]
		});

		// String ----------------
		typeDS.push({
			label: 'String',
			_value: SFS2X.StringMatch.EQUALS,
			conditions: [
				{
					label: SFS2X.StringMatch.EQUALS.symbol,
					_value: SFS2X.StringMatch.EQUALS,
				},
				{
					label: SFS2X.StringMatch.NOT_EQUALS.symbol,
					_value: SFS2X.StringMatch.NOT_EQUALS,
				},
				{
					label: SFS2X.StringMatch.CONTAINS.symbol,
					_value: SFS2X.StringMatch.CONTAINS,
				},
				{
					label: SFS2X.StringMatch.STARTS_WITH.symbol,
					_value: SFS2X.StringMatch.STARTS_WITH,
				},
				{
					label: SFS2X.StringMatch.ENDS_WITH.symbol,
					_value: SFS2X.StringMatch.ENDS_WITH,
				}
			]
		});

		this._typeDd = $('#typeDD', this._dialog).kendoDropDownList({
			dataSource: typeDS,
			dataTextField: 'label',
			dataValueField: '_value',
			optionLabel: {
				label: 'Type',
				_value: ''
			},
			optionLabelTemplate: '<span class="text-muted">#:label#</span>',
			change: $.proxy(function() {
				if (this._typeDd && this._typeDd.select())
				{
					let selectedType = this._typeDd.dataItem(this._typeDd.select());
					this._conditionDd.setDataSource(selectedType.conditions);
					this._conditionDd.select(1);
				}
			}, this)
		}).data('kendoDropDownList');

		this._conditionDd = $('#conditionDD', this._dialog).kendoDropDownList({
			dataTextField: 'label',
			dataValueField: '_value',
			optionLabel: {
				label: 'Condition',
				_value: ''
			},
			optionLabelTemplate: '<span class="text-muted">#:label#</span>',
		}).data('kendoDropDownList');

		this._valueIn = $('#valueIn', this._dialog);

		// INITIALIZE GRID

		this._grid = $('#matchExprGrid', this._dialog).kendoGrid({
			dataSource: [],
			resizable: true,
			selectable: 'row',
			change: $.proxy(this._onGridSelectionChange, this),
			noRecords: {
				template: 'No entries.'
			},
			columns: [
				{
					field: 'operator',
					title: 'Operator',
					width: 90
				},
				{
					field: 'label',
					title: 'Name',
					width: 120
				},
				{
					field: 'typeLabel',
					title: 'Type',
					width: 85
				},
				{
					field: 'symbol',
					title: 'Condition',
					width: 95
				},
				{
					field: 'value',
					title: 'Value',
					width: 200
				},
			]
		}).data('kendoGrid');
	}

	get title()
	{
		return $('#matchExprBuilderModalTitle', this._dialog).text();
	}

	set title(value)
	{
		$('#matchExprBuilderModalTitle', this._dialog).text(value);
	}

	get predefinedVarNames()
	{
		return this._predefinedVarNames;
	}

	set predefinedVarNames(value)
	{
		this._predefinedVarNames = value;

		this._varNameCb.setDataSource(value);
	}

	get filterExpression()
	{
		return this._filterExpression;
	}

	show()
	{
		this._dialog.modal({
			backdrop: 'static',
			keyboard: false,
			show: true
		});
	}

	_onGridSelectionChange()
	{
		var selectedRows = this._grid.select();
		var selectedDataItems = [];

		for (var i = 0; i < selectedRows.length; i++)
		{
			var dataItem = this._grid.dataItem(selectedRows[i]);
			selectedDataItems.push(dataItem);
		}

		// Enable/disable remove button
		$('#matchExprRemoveBt', this._dialog).attr('disabled', selectedDataItems.length == 0);
	}

	_onAddBtClick()
	{
		if (this._varNameCb.value() != '' && this._typeDd.select())
		{
			// Variable name and label
			let varName, varLabel;

			if (this._varNameCb.select() > -1)
			{
				let dataItem = this._varNameCb.dataItem(this._varNameCb.select());
				varName = dataItem.value;
				varLabel = dataItem.label;
			}
			else
				varName = varLabel = this._varNameCb.value();

			// Variable type's label
			let typeLabel = this._typeDd.dataItem(this._typeDd.select()).label;

			// Match condition
			let condition = this._conditionDd.dataItem(this._conditionDd.select())._value;

			// Expression operator
			let operator = this._grid.dataSource.total() > 0 ? $('input[name=operatorRBG]:checked', this._dialog).val() : null;

			// Variable value
			let val = this._valueIn.val();
			let varValue;

			if (condition instanceof SFS2X.BoolMatch)
				varValue = (val == 'true' ? true : false);
			else if (condition instanceof SFS2X.NumberMatch)
				varValue = (isNaN(Number(val)) ? 0 : Number(val));
			else
				varValue = val;

			// Add item to grid
			let exprPart = this._getExpressionPart(varLabel, varName, varValue, typeLabel, condition, operator);
			this._grid.dataSource.add(exprPart);

			// Reset inputs
			this._varNameCb.value('');
			this._valueIn.val('');

			// Enable operator radio buttons
			this._enableOperatorRb(true);
		}
	}

	_onApplyBtClick()
	{
		// Hide dialog
		this._dialog.modal('hide');

		// Clear grid selection
		this._grid.clearSelection();

		// Build final match expression
		this._filterExpression = null;

		if (this._grid.dataSource.total() > 0)
		{
			let expPart = this._grid.dataSource.at(0);
			this._filterExpression = new SFS2X.MatchExpression(expPart.name, expPart._condition, expPart.value);

			for (let i = 1; i < this._grid.dataSource.total(); i++)
			{
				expPart = this._grid.dataSource.at(i);

				if (expPart.operator == SFS2X.LogicOperator.AND.id)
					this._filterExpression = this._filterExpression.and(expPart.name, expPart._condition, expPart.value);
				else if (expPart.operator == SFS2X.LogicOperator.OR.id)
					this._filterExpression = this._filterExpression.or(expPart.name, expPart._condition, expPart.value);
			}
		}

		// Fire event
		let evt = new CustomEvent(this.EXPRESSION_UPDATED_EVENT, {
		    	detail: null,
				bubbles: false,
				cancelable: false
			});

		this.dispatchEvent(evt);
	}

	_onRemoveBtClick()
	{
		let dataItem = this._grid.dataItem(this._grid.select());
		this._grid.dataSource.remove(dataItem);

		// Clear grid selection
		this._grid.clearSelection();

		if (this._grid.dataSource.total() == 0)
		{
			// Disable operator radio buttons
			this._enableOperatorRb(false);
		}
		else
		{
			// Reset operator on first entry
			this._grid.dataSource.at(0).operator = null;
			this._grid.refresh();
		}
	}

	_onClearBtClick()
	{
		// Reset form
		$('#andOperatorRB', this._dialog).attr('checked', true);
		$('#orOperatorRB', this._dialog).attr('checked', false);
		this._enableOperatorRb(false);

		this._varNameCb.value('');
		this._typeDd.select(0);
		this._conditionDd.select(0);

		this._valueIn.val('');

		// Clear grid selection
		this._grid.clearSelection();

		// Clear table
		this._grid.setDataSource([]);
	}

	_getExpressionPart(varLabel, varName, varValue, typeLabel, condition, operator)
	{
		return {
			'label': varLabel,
			'name': varName,
			'value': varValue,
			'typeLabel': typeLabel,
			'symbol': condition.symbol,
			'operator': operator,
			'_condition': condition,
		};
	}

	_enableOperatorRb(enable)
	{
		$('#andOperatorRB', this._dialog).attr('disabled', !enable);
		$('#orOperatorRB', this._dialog).attr('disabled', !enable);
	}
}

// DEFINE COMPONENT
if (!window.customElements.get('match-expression-builder'))
	window.customElements.define('match-expression-builder', MatchExpressionBuilder);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/components/sidebar-layout.js":
/*!******************************************!*\
  !*** ./src/components/sidebar-layout.js ***!
  \******************************************/
/*! exports provided: SidebarLayout */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SidebarLayout", function() { return SidebarLayout; });
class SidebarLayout extends HTMLElement
{
	constructor()
	{
	    super();

		// Attach a shadow root
		const shadowRoot = this.attachShadow({mode: 'open'});
		shadowRoot.innerHTML = `
			<style>
				:host {
					display: flex;
					flex-direction: row;
				}

				@media (max-width: 575.98px) {
					:host(.split-xs) ::slotted(:not([aria-selected="true"])) {
						display: none !important;
				    }

					:host(.split-xs) ::slotted([aria-selected="true"]) {
						flex-grow: 1;
				    }
				}

				@media (max-width: 767.98px) {
					:host(.split-sm) ::slotted(:not([aria-selected="true"])) {
						display: none !important;
				    }

					:host(.split-sm) ::slotted([aria-selected="true"]) {
						flex-grow: 1;
				    }
				}

				@media (max-width: 991.98px) {
					:host(.split-md) ::slotted(:not([aria-selected="true"])) {
						display: none !important;
				    }

					:host(.split-md) ::slotted([aria-selected="true"]) {
						flex-grow: 1;
				    }
				}

				@media (max-width: 1199.98px) {
					:host(.split-lg) ::slotted(:not([aria-selected="true"])) {
						display: none !important;
				    }

					:host(.split-lg) ::slotted([aria-selected="true"]) {
						flex-grow: 1;
				    }
				}

				.side-col::slotted(*) {
				}

				.main-col::slotted(*) {
					flex-grow: 1;
				}
			</style>

			<slot class="side-col" name="side-column"></slot>
			<slot class="main-col" name="main-column"></slot>
		`;

		// Set initial selection
		this.selectedIndex = 0;
	}

	get selectedPanel()
	{
		return this._selectedPanel;
	}

	set selectedPanel(element) // 'side' or 'main'
	{
		if (element != null && element.parentNode == this)
		{
			this._selectedPanel = element;

			for (let element of this.children)
			{
				if (element == this._selectedPanel)
					element.setAttribute('aria-selected', 'true');
				else
					element.removeAttribute('aria-selected');
			}
		}
		else
		{
			console.error('Element is not a child of SidebarLayout');
		}
	}

	get selectedIndex()
	{
		return Array.from(this.children).indexOf(this._selectedPanel);
	}

	set selectedIndex(index)
	{
		if (this.children.length > 0)
		{
			if (this.children[index] == null)
			{
				console.error('Invalid SidebarLayout index');
				return;
			}

			let element = this.children[index];
			this.selectedPanel = element;
		}
	}
}

// DEFINE COMPONENT
if (!window.customElements.get('sidebar-layout'))
	window.customElements.define('sidebar-layout', SidebarLayout);


/***/ }),

/***/ "./src/modules/zone-monitor.js":
/*!*************************************!*\
  !*** ./src/modules/zone-monitor.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ZoneMonitor; });
/* harmony import */ var _base_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base-module */ "./src/modules/base-module.js");
/* harmony import */ var _components_sidebar_layout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/sidebar-layout */ "./src/components/sidebar-layout.js");
/* harmony import */ var _components_match_expression_builder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/match-expression-builder */ "./src/components/match-expression-builder.js");
/* harmony import */ var _utils_uibuilder_config_interface_builder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/uibuilder/config-interface-builder */ "./src/utils/uibuilder/config-interface-builder.js");
/* harmony import */ var _utils_utilities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/utilities */ "./src/utils/utilities.js");
/* harmony import */ var _utils_match_properties__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/match-properties */ "./src/utils/match-properties.js");
/* harmony import */ var _components_charts_user_count_chart__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/charts/user-count-chart */ "./src/components/charts/user-count-chart.js");
/* harmony import */ var _components_charts_chart_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/charts/chart-utils */ "./src/components/charts/chart-utils.js");









class ZoneMonitor extends _base_module__WEBPACK_IMPORTED_MODULE_0__["BaseModule"]
{
	constructor()
	{
	    super('zoneMonitor');

		this.MONITORED_TYPE_ZONE = 'zone';
		this.MONITORED_TYPE_ROOM = 'room';
		this.MONITORED_TYPE_USER = 'user';

		this.ANY_LABEL = '[any]';
		this.DEFAULT_GROUP_NAME = 'default';
		this.MAX_EXTENSION_LOG_SIZE = 300;
		this.KICK_BAN_DEFAULT_DELAY = 5;

		// Outgoing requests
		this.REQ_GET_DATA = 'getData';
		this.REQ_SET_ZONE_SETTINGS = 'setZoneSettings';
		this.REQ_SET_ROOM_SETTINGS = 'setRoomSettings';
		this.REQ_SET_USER_SETTINGS = 'setUserSettings';
		this.REQ_RELOAD_ZONE_EXT = 'reloadZoneExt';
		this.REQ_RELOAD_WORDS = 'reloadWords';
		this.REQ_KICK_USER = 'kickUser';
		this.REQ_BAN_USER = 'banUser';
		this.REQ_GET_ROOM_CONFIG = 'getRoomConfig';
		this.REQ_CREATE_ROOM = 'createRoom';
		this.REQ_REMOVE_ROOM = 'removeRoom';
		this.REQ_ADMIN_MSG = 'adminMsg';

		// Incoming responses
		this.RESP_DATA = 'data';
		this.RESP_UNEXPECTED_ERROR = 'unexpError';
		this.RESP_UPDATE_ERROR = 'updateError';
		this.RESP_ROOM_CONFIG = 'roomConfig';
		this.RESP_ROOM_CONFIG_ERROR = 'roomConfigErr';
		this.RESP_ROOM_CREATED = 'roomCreated';
		this.RESP_ROOM_CREATION_ERROR = 'roomError';
		this.RESP_LOG_MESSAGES = 'log'; // This response doesn't have a corresponding request because it is managed by a server event listener

		this._currentRequestId = -1;
	}

	//------------------------------------
	// COMMON MODULE INTERFACE METHODS
	// This members are used by the main controller
	// to communicate with the module's controller.
	//------------------------------------

	initialize(idData, shellController)
	{
		// Call super method
		super.initialize(idData, shellController);

		// Set monitoring interface
		this._setMonitoringInterface();

		// Initialize progress bar
		$('#znm-progressBar').kendoProgressBar({
			min: 0,
            max: 100,
			value: false,
            type: 'value',
            animation: {
                duration: 400
            }
        });

		// LISTS

		// Initialize interval dropdown
		this._intervalDropDown = $('#znm-intervalDD').kendoDropDownList({
			valueTemplate: '<span class="text-muted pr-1">Interval:</span><span>#:data.text#</span>',
			change: $.proxy(this._onUpdateIntervalChange, this)
		}).data('kendoDropDownList');

		// Initialize pane bar
		this._accordion = $('#znm-panelbar').kendoPanelBar({
            expandMode: 'single',
			change: $.proxy(this._onEntitiesPanelChange, this)
        }).data('kendoPanelBar');

		// Initialize lists
		this._zoneListBox = $("#znm-zoneList").kendoListBox({
			template: '<div>#:data.name# (#:data.users#)</div>',
			change: $.proxy(this._onZoneSelected, this)
		}).data('kendoListBox');

		this._zoneListBox.wrapper.find('.k-list').on('dblclick', '.k-item', $.proxy(this._onMonitorSelectionBtClick, this));

		this._roomListBox = $("#znm-roomList").kendoListBox({
			template: '<div>#:data.name# (#:data.users#)</div>',
			change: $.proxy(this._onRoomSelected, this)
		}).data('kendoListBox');

		this._roomListBox.wrapper.find('.k-list').on('dblclick', '.k-item', $.proxy(this._onMonitorSelectionBtClick, this));

		this._userListBox = $("#znm-userList").kendoListBox({
			template: '<div>#:data.name#</div>',
			change: $.proxy(this._onUserSelected, this)
		}).data('kendoListBox');

		this._userListBox.wrapper.find('.k-list').on('dblclick', '.k-item', $.proxy(this._onMonitorSelectionBtClick, this));

		// Initialize Room Groups dorpdown
		this._groupsDropDown = $('#znm-roomGroupsDD').kendoDropDownList({
			dataTextField: 'label',
  			dataValueField: 'name',
			change: $.proxy(this._onGroupChange, this)
		}).data('kendoDropDownList');

		// Build initial groups list
		this._setGroupsDataProvider(null);

		// // Create interface builder instances
		this._interfaceBuilder = new _utils_uibuilder_config_interface_builder__WEBPACK_IMPORTED_MODULE_3__["ConfigInterfaceBuilder"]();
		this._roomCreationIBuilder = new _utils_uibuilder_config_interface_builder__WEBPACK_IMPORTED_MODULE_3__["ConfigInterfaceBuilder"]();

		// Add listener to show limit warning tooltips
		$('#znm-panelbar').kendoTooltip({
			filter: 'i[title].limit-warning',
			position: 'right',
			width: '250px',
			content: function(e) {
				return `<div class="help-tooltip">${e.target.data('title')}</div>`;
			}
		});

		// ROOM CREATION PANEL

		// Add click listener to Create & Remove Room buttons
		$('#znm-createRoomBt').on('click', $.proxy(this._onCreateRoomBtClick, this));
		$('#znm-removeRoomBt').on('click', $.proxy(this._onRemoveRoomBtClick, this));

		// Configure room creation panel
		$('#znm-createRoomModal').modal({
			backdrop: 'static',
			keyboard: false,
			show: false,
		});

		// Add listener for room creation panel's create button click
		$('#znm-roomCreatorCreateBt').on('click', $.proxy(this._onRoomCreatorCreateBtClick, this));

		// Add listener for room creation panel hide
		$('#znm-createRoomModal').on('hidden.bs.modal', $.proxy(this._onCreateRoomModalHidden, this));

		// ROOM & USER FILTERING PANELS

		// Setup match expression builder panel for rooms
		this._roomFilter = document.getElementById('znm-roomFilter');
		this._roomFilter.title = 'Room Filter Expression Builder';
		this._roomFilter.predefinedVarNames = _utils_match_properties__WEBPACK_IMPORTED_MODULE_5__["RoomPropertiesData"].propertiesArray;
		$(this._roomFilter).on(this._roomFilter.EXPRESSION_UPDATED_EVENT, $.proxy(this._onRoomFilterUpdated, this));

		$('#znm-filterRoomBt').on('click', $.proxy(this._onShowRoomFilterBtClick, this));
		$('#znm-applyRoomFilterCB').on('change', $.proxy(this._onApplyBtChange, this));

		// Setup match expression builder panel for users
		this._userFilter = document.getElementById('znm-userFilter');
		this._userFilter.title = 'User Filter Expression Builder';
		this._userFilter.predefinedVarNames = _utils_match_properties__WEBPACK_IMPORTED_MODULE_5__["UserPropertiesData"].propertiesArray;
		$(this._userFilter).on(this._userFilter.EXPRESSION_UPDATED_EVENT, $.proxy(this._onUserFilterUpdated, this));

		$('#znm-filterUserBt').on('click', $.proxy(this._onShowUserFilterBtClick, this));
		$('#znm-applyUserFilterCB').on('change', $.proxy(this._onApplyBtChange, this));

		// MAIN CONTROLS

		$('#znm-monitorBt').on('click', $.proxy(this._onMonitorSelectionBtClick, this));
		$('#znm-sendMessageBt').on('click', $.proxy(this._onSendAdminMsgBtClick, this));
		$('#znm-messageIn').on('keyup', $.proxy(this._onSendAdminMsgInKeyUp, this));

		// MONITORING CONTROLS

		$('#znm-closeMonitorBt').on('click', $.proxy(this._onCloseMonitorBtClick, this));
		$('#znm-editBt').on('click', $.proxy(this._onEditBtClick, this));
		$('#znm-cancelBt').on('click', $.proxy(this._onCancelBtClick, this));
		$('#znm-submitBt').on('click', $.proxy(this._onSubmitBtClick, this));

		// Hide edit controls
		$('#znm-editControls').hide();

		// TOOLTIPS

		// Initialize help tooltips
		$('.custom-tab-content').kendoTooltip({
			filter: 'i[title].help',
			position: 'right',
			content: function(e) {
				return `<div class="help-tooltip">${e.target.data('title')}</div>`;
			}
		});

		// ZONE MONITOR ---------------------

		// Set reference to user count chart
		this._userCountChart = document.getElementById('znm-userCountChart');

		// Initialize time range slider
		this._timeSlider = $('#znm-timeSlider').kendoRangeSlider({
			min: -24,
            max: 0,
            smallStep: 1,
            largeStep: 0,
			change: $.proxy(this._onTimeRangeChange, this),
			tooltip: {
				template: Object(_components_charts_chart_utils__WEBPACK_IMPORTED_MODULE_7__["getTimeRangeTooltipTemplate"])()
			},
			leftDragHandleTitle: 'Drag',
			rightDragHandleTitle: 'Drag',
		}).data('kendoRangeSlider');

		// Reset time range on user count chart
		this._onTimeRangeChange();

		// Add button click listeners
		$('#znm-reloadWordsBt').on('click', $.proxy(this._onWordsReloadBtClick, this));
		$('#znm-reloadZoneExtBt').on('click', $.proxy(this._onZoneExtReloadBtClick, this));

		// Initialize extension log grid
		this._zoneExtLogGrid = $('#znm-zoneExtLogGrid').kendoGrid({
			dataSource: [],
			resizable: true,
			selectable: false,
			noRecords: {
				template: 'No entries.'
			},
			columns: [
				{
					field: 'timestamp',
					title: 'Timestamp',
					width: 180
				},
				{
					field: 'level',
					title: 'Level',
					width: 100
				},
				{
					field: 'message',
					title: 'Message',
					width: 400
				},
			],
			dataBound: function() {
			    this.content.scrollTop(this.tbody.height()); // Scroll to bottom
			}
		}).data('kendoGrid');

		// ROOM MONITOR ---------------------

		// Initialize extension log grid
		this._roomExtLogGrid = $('#znm-roomExtLogGrid').kendoGrid({
			dataSource: [],
			resizable: true,
			selectable: false,
			noRecords: {
				template: 'No entries.'
			},
			columns: [
				{
					field: 'timestamp',
					title: 'Timestamp',
					width: 180
				},
				{
					field: 'level',
					title: 'Level',
					width: 100
				},
				{
					field: 'message',
					title: 'Message',
					width: 400
				},
			],
			dataBound: function() {
			    this.content.scrollTop(this.tbody.height()); // Scroll to bottom
			}
		}).data('kendoGrid');

		// USER MONITOR ---------------------

		this._kickDelayIn = $('#znm-kickDelayNS').kendoNumericTextBox({
		    min: 0,
		    step: 1,
		    format: '#',
			placeholder: 'Delay (s)'
		}).data('kendoNumericTextBox');

		this._banModeDd = $('#znm-banModeDD').kendoDropDownList({
			dataSource: ['IP', 'NAME'],
			autoWidth: true,
			optionLabel: {
				text: 'Mode'
			},
			optionLabelTemplate: '<span class="text-muted">#:text#</span>',
		}).data('kendoDropDownList');

		this._banDurUnitDd = $('#znm-banDurationUnitDD').kendoDropDownList({
			autoWidth: true,
		}).data('kendoDropDownList');

		this._banDurationIn = $('#znm-banDurationNS').kendoNumericTextBox({
		    min: 1,
		    step: 1,
		    format: '#',
			placeholder: 'Duration'
		}).data('kendoNumericTextBox');

		this._banDelayIn = $('#znm-banDelayNS').kendoNumericTextBox({
		    min: 0,
		    step: 1,
		    format: '#',
			placeholder: 'Delay (s)'
		}).data('kendoNumericTextBox');

		// Add button click listeners
		$('#znm-kickBt').on('click', $.proxy(this._onKickBtClick, this));
		$('#znm-banBt').on('click', $.proxy(this._onBanBtClick, this));

		// Charts

		this._packetQueueChart = $('#znm-packetQueueChart').kendoChart({
			transitions: false,
			chartArea: {
				height: 100
			},
	        legend: {
	            visible: false
	        },
	        seriesDefaults: {
	            type: 'bar',
	            labels: {
	                visible: true,
	                format: '{0}%',
	                background: 'transparent',
					position: 'insideBase'
	            },
				gap: .5,
				spacing: 0,
				overlay: {
					gradient: 'none'
				},
				border: {
					width: 0
				}
	        },
	        series: [
				{
					name: 'Packet queue',
		            field: 'value',
		            categoryField: 'category',
					color: '#FB7D33'
		        }
			],
	        valueAxis: {
	            labels: {
	                format: '{0}%'
	            },
	            line: {
	                visible: false
	            },
				min: 0,
	    		max: 100
	        },
	        categoryAxis: {
	            majorGridLines: {
	                visible: false
	            },
				majorTicks: {
					visible: false
				},
				labels: {
					visible: false
				}
	        },
			tooltip: {
				visible: false,
	        }
	    }).data('kendoChart');

		this._droppedMsgChart = $('#znm-droppedMsgChart').kendoChart({
			transitions: false,
			chartArea: {
				height: 100
			},
	        legend: {
	            visible: false
	        },
	        seriesDefaults: {
	            type: 'bar',
	            labels: {
	                visible: true,
	                format: '{0}',
	                background: 'transparent',
					position: 'insideBase',
	            },
				gap: .5,
				spacing: 0,
				overlay: {
					gradient: 'none'
				},
				border: {
					width: 0
				}
	        },
	        series: [
				{
					name: 'Dropped messages',
		            field: 'value',
		            categoryField: 'category',
					color: '#FB7D33'
		        }
			],
	        valueAxis: {
	            labels: {
	                format: '{0}'
	            },
	            line: {
	                visible: false
	            },
				min: 0,
	        },
	        categoryAxis: {
	            majorGridLines: {
	                visible: false
	            },
				majorTicks: {
					visible: false
				},
				labels: {
					visible: false
				}
	        },
			tooltip: {
				visible: false,
	        }
	    }).data('kendoChart');

		this._writtenDataChart = $('#znm-writtenDataChart').kendoChart({
			transitions: false,
			chartArea: {
				height: 100
			},
	        legend: {
	            visible: false
	        },
	        seriesDefaults: {
	            type: 'bar',
	            labels: {
	                visible: true,
	                format: '{0}',
	                background: 'transparent',
					position: 'insideBase',
					template: Object(_components_charts_chart_utils__WEBPACK_IMPORTED_MODULE_7__["getWRBytesLabelTemplate"])(),
	            },
				gap: .5,
				spacing: 0,
				overlay: {
					gradient: 'none'
				},
				border: {
					width: 0
				}
	        },
	        series: [
				{
					name: 'Written data',
		            field: 'value',
		            categoryField: 'category',
					color: '#FB7D33'
		        }
			],
	        valueAxis: {
	            labels: {
	                format: '{0}'
	            },
	            line: {
	                visible: false
	            },
				min: 0,
	        },
	        categoryAxis: {
	            majorGridLines: {
	                visible: false
	            },
				majorTicks: {
					visible: false
				},
				labels: {
					visible: false
				}
	        },
			tooltip: {
				visible: false,
	        }
	    }).data('kendoChart');

		this._readDataChart = $('#znm-readDataChart').kendoChart({
			transitions: false,
			chartArea: {
				height: 100
			},
	        legend: {
	            visible: false
	        },
	        seriesDefaults: {
	            type: 'bar',
	            labels: {
	                visible: true,
	                format: '{0}',
	                background: 'transparent',
					position: 'insideBase',
					template: Object(_components_charts_chart_utils__WEBPACK_IMPORTED_MODULE_7__["getWRBytesLabelTemplate"])(),
	            },
				gap: .5,
				spacing: 0,
				overlay: {
					gradient: 'none'
				},
				border: {
					width: 0
				}
	        },
	        series: [
				{
					name: 'Read data',
		            field: 'value',
		            categoryField: 'category',
					color: '#FB7D33'
		        }
			],
	        valueAxis: {
	            labels: {
	                format: '{0}'
	            },
	            line: {
	                visible: false
	            },
				min: 0,
	        },
	        categoryAxis: {
	            majorGridLines: {
	                visible: false
	            },
				majorTicks: {
					visible: false
				},
				labels: {
					visible: false
				}
	        },
			tooltip: {
				visible: false,
	        }
	    }).data('kendoChart');

		//-------------------------------

		// Add listener to redraw all charts in case of window resize
		$(window).on('resize', $.proxy(this._onWindowResize, this));
		this._onWindowResize(); // Also do it immediately

		// Request data to server
		this._requestData(true);
	}

	destroy()
	{
		// Call super method
		super.destroy();

		// Close monitoring
		this._onCloseMonitorBtClick();

		// Remove doubleclick event listeners
		this._zoneListBox.wrapper.find('.k-list').off('dblclick');
		this._roomListBox.wrapper.find('.k-list').off('dblclick');
		this._userListBox.wrapper.find('.k-list').off('dblclick');

		// Remove other event listeners
		$('#znm-createRoomBt').off('click');
		$('#znm-removeRoomBt').off('click');
		$('#znm-roomCreatorCreateBt').off('click');
		$('#znm-filterRoomBt').off('click');
		$('#znm-applyRoomFilterCB').off('change');
		$('#znm-filterUserBt').off('click');
		$('#znm-applyUserFilterCB').off('change');
		$('#znm-monitorBt').off('click');
		$('#znm-sendMessageBt').off('click');
		$('#znm-messageIn').off('keyup');
		$('#znm-closeMonitorBt').off('click');
		$('#znm-editBt').off('click');
		$('#znm-cancelBt').off('click');
		$('#znm-submitBt').off('click');
		$(window).off('resize');
		$('#znm-reloadWordsBt').off('click');
		$('#znm-reloadZoneExtBt').off('click');
		$('#znm-kickBt').off('click');
		$('#znm-banBt').off('click');

		// Clear request scheduling
		clearTimeout(this._requestTimer);

		// Hide room creation panel
		$('#znm-createRoomModal').modal('hide');

		// Remove room creation panel listener
		$('#znm-createRoomModal').off('hidden.bs.modal');

		// Remove filter panels listeners
		$(this._roomFilter).off(this._roomFilter.EXPRESSION_UPDATED_EVENT);
		$(this._userFilter).off(this._userFilter.EXPRESSION_UPDATED_EVENT);
	}

	onExtensionCommand(command, data)
	{
		// Data received
		if (command == this.RESP_DATA)
		{
			// We have to check if the response id corresponds to the current request id;
			// if not, the response is discarded as it refers to an outdatet request
			const responseId = data.getInt('id');

			if (responseId == this._currentRequestId)
			{
				// --- ZONES LIST ---
				if (data.containsKey('zones'))
				{
					this._setZonesDataProvider(data.getSFSArray('zones'));

					if (this._selectedZone)
						this._setScopeLabel();
				}

				// --- ROOMS LIST ---
				if (data.containsKey('rooms'))
				{
					this._setGroupsDataProvider(data.getUtfStringArray('groups'));

					// -------------------------------

					// If a null rooms list is returned, the zone must have been deleted!
					if (!data.isNull('rooms'))
					{
						this._setRoomsDataProvider(data.getSFSArray('rooms'));

						if (!this._selectedRoom)
							this._setScopeLabel();

						// -------------------------------

						// Show warning if the rooms list exceeds the server-side limit
						if (data.containsKey('rSize'))
							this._showLimitExceededWarning($('#znm-roomListWarning'), 'The received list is incomplete, because its size (' + data.getInt('rSize') + ' Rooms) exceeded this client\'s limit of ' + data.getInt('rLimit') + '; you should refine your search');
						else
							this._showLimitExceededWarning($('#znm-roomListWarning'), '');
					}
					else
					{
						if (this._activePanelType == 'room')
						{
							this._accordion.select('[data-item-type="zone"]');
							this._accordion.expand('[data-item-type="zone"]');
							this._onZoneSelected();
							this._onEntitiesPanelChange();
						}
					}
				}

				// --- USERS LIST ---
				if (data.containsKey('users'))
				{
					// If a null users list is returned, the room must have been deleted!
					if (!data.isNull('users'))
					{
						this._setUsersDataProvider(data.getSFSArray('users'));

						// Show warning if the users list exceeds the server-side limit
						if (data.containsKey('uSize'))
							this._showLimitExceededWarning($('#znm-userListWarning'), 'The received list is incomplete, because its size (' + data.getInt('uSize') + ' users) exceeds this client\'s limit of ' + data.getInt('uLimit') + '; you should refine your search');
						else
							this._showLimitExceededWarning($('#znm-userListWarning'), '');
					}
					else
					{
						if (this._activePanelType == 'user')
						{
							this._accordion.select('[data-item-type="room"]');
							this._accordion.expand('[data-item-type="room"]');
							this._onRoomSelected();
							this._onEntitiesPanelChange();
						}
					}
				}

				// --- MONITORED DATA ---
				if (data.containsKey('monitored'))
				{
					const zone = data.getSFSObject('monitored').getUtfString('zone');
					const type = data.getSFSObject('monitored').getUtfString('type');
					const name = data.getSFSObject('monitored').getUtfString('name');

					if (zone == this._monitoredZone && type == this._monitoredType && name == this._monitoredName)
					{
						if (!data.getSFSObject('monitored').isNull('params'))
						{
							const params = data.getSFSObject('monitored').getSFSArray('params');

							this._setMonitoringInterface();

							// Build interface
							if (!this._isEditing)
							{
								this._interfaceBuilder.buildInterface(params, `znm-${this._monitoredType}TabNavigator`, true);

								if (!this._skipInitTabs)
								{
									$(`#znm-${this._monitoredType}TabNavigator #tabs`).scrollingTabs({
										bootstrapVersion: 4,
										scrollToTabEdge: true,
										enableSwiping: true,
										disableScrollArrowsOnFullyScrolled: true,
										cssClassLeftArrow: 'fa fa-chevron-left',
										cssClassRightArrow: 'fa fa-chevron-right'
									});

									this._skipInitTabs = true;

									// Set first tab panel as active
									this._interfaceBuilder.activateFirstTabPanel();

									// Redraw time range slider to set its width
									this._timeSlider.resize();

									// Add listener to redraw all charts on tab change
									// (to work around an issue with the chart resizing to default width when pane is hidden)
									$('a[data-toggle="tab"]').on('shown.bs.tab', $.proxy(this._onWindowResize, this));
								}
							}

							// Disable categories
							let disabledCat = (data.getSFSObject('monitored').containsKey('exclude') ? data.getSFSObject('monitored').getUtfStringArray('exclude') : []);

							for (let cat of disabledCat)
							{
								let navLink = $(`#znm-${this._monitoredType}TabNavigator #tabs #tab-${cat}`);

								navLink.addClass('disabled');
								navLink.attr('tabindex', -1);
								navLink.attr('aria-disabled', true);
							}

							if (this._monitoredType == this.MONITORED_TYPE_ZONE)
								this._showZoneTrafficData(data.getSFSObject('monitored').getSFSObject('traffic'));

							if (this._monitoredType == this.MONITORED_TYPE_USER)
							{
								// Stats
								this._showUserStatsData(data.getSFSObject('monitored').getSFSObject('stats'));

								// NPC
								const isNpc = data.getSFSObject('monitored').getBool('npc');

								// Disable kick and ban buttons
								$('#znm-kickBt').attr('disabled', isNpc);
								$('#znm-banBt').attr('disabled', isNpc);

								// Geo-location
								const geoLocData = data.getSFSObject('monitored').getSFSObject('geoLoc');
								this._setGeoLocationUI(geoLocData);
							}
						}
						else
						{
							// Show alert
							this.shellCtrl.showSimpleAlert(`The ${Object(_utils_utilities__WEBPACK_IMPORTED_MODULE_4__["capitalizeFirst"])(this._monitoredType)} being monitored is no more available on the server, please select another one.`, false);

							// Cancel monitoring
							this._onCloseMonitorBtClick();
						}
					}
				}
			}
		}

		else if (command == this.RESP_UPDATE_ERROR)
		{
			if (data.getUtfString('zone') == this._monitoredZone
				&& data.getUtfString('type') ==  this._monitoredType
				&& data.getUtfString('name') ==  this._monitoredName)
			{
				// Show alert
				this.shellCtrl.showSimpleAlert(`Unable to update ${Object(_utils_utilities__WEBPACK_IMPORTED_MODULE_4__["capitalizeFirst"])(this._monitoredType)} settings; the following error was reported: ${data.getUtfString('message')}.`);
			}
		}

		else if (command == this.RESP_ROOM_CONFIG)
		{
			// Re-enable Create button
			$('#znm-createRoomBt').attr('disabled', false);

			// Show Room creation panel
			this._showRoomCreationPanel(data.getSFSArray('settings'));
		}

		else if (command == this.RESP_ROOM_CONFIG_ERROR)
		{
			// Re-enable Create button
			$('#znm-createRoomBt').attr('disabled', false);

			// Show an alert
			this.shellCtrl.showSimpleAlert(data.getUtfString('error'));
		}

		else if (command == this.RESP_ROOM_CREATED)
		{
			// Re-enable room creation panel
			this._enableCreateRoomPanel(true);

			// Hide room creation panel
			$('#znm-createRoomModal').modal('hide');

			// Update rooms list
			this._requestData(true);
		}

		else if (command == this.RESP_ROOM_CREATION_ERROR)
		{
			// Display error message
			$('#znm-createRoomError').text(data.getUtfString('error'));
			$('#znm-createRoomError').show();

			// Re-enable room creation panel
			this._enableCreateRoomPanel(true);
		}

		// Unexpected error received
		// This error is returned in case something went wrong when retrieving the monitored entity parameters,
		// so we have to stop requesting the same entity
		else if (command == this.RESP_UNEXPECTED_ERROR)
		{
			// Cancel monitoring
			this._onCloseMonitorBtClick();

			// Show an alert
			this.shellCtrl.showSimpleAlert(data.getUtfString('error'));
		}

		// Extension (Zone or Room) log messages received
		else if (command == this.RESP_LOG_MESSAGES)
		{
			let logEntries = data.getSFSArray('entries');

			for (let e = 0; e < logEntries.size(); e++)
			{
				let logEntry = logEntries.getSFSObject(e);

				const logZone = logEntry.getUtfString('zone');
				const logRoom = logEntry.getUtfString('room');

				// Check if the zone is currently monitored
				if (this._monitoredZone == logZone)
				{
					// console.log(logEntry.getLong('time'))
					// console.log(new Date(logEntry.getLong('time'))

					let ele = {
						timestamp: kendo.toString(new Date(logEntry.getLong('time')), 'dd/MM/yyyy HH:mm:ss'),
						level: logEntry.getUtfString('level'),
						message: logEntry.getUtfString('msg'),
					};

					if (this._monitoredType == this.MONITORED_TYPE_ZONE && logRoom == '')
					{
						// Add to zone extension log
						this._addLogEntryToGrid(this._zoneExtLogGrid, ele);
					}
					else
					{
						if (this._monitoredType == this.MONITORED_TYPE_ROOM && this._monitoredName == logRoom)
						{
							// Add to room extension log
							this._addLogEntryToGrid(this._roomExtLogGrid, ele);
						}
					}
				}
			}
		}
	}

	//---------------------------------
	// UI EVENT LISTENERS
	//---------------------------------

	_onUpdateIntervalChange()
	{
		// Request data to server
		this._requestData(false);
	}

	_onEntitiesPanelChange()
	{
		// Set main controls state
		this._setMainControlsEnabled();

		// Request data to server
		this._requestData(true);
	}

	/**
	 * Update the Scope label in the Rooms panel.
	 */
	_onZoneSelected()
	{
		// Clear Room and User lists
		this._resetRoomList();
		this._resetUserList();

		// Set scope label
		this._setScopeLabel();

		// Enable/disable Room and User tools
		const disabled = this._selectedZone == undefined;

		// (NOTE: this enables/disables whole fieldset; this doesn't affect Kendo DropDown, so we have to do it manually)
		$('#roomTools').attr('disabled', disabled);
		$('#userTools').attr('disabled', disabled);

		this._groupsDropDown.enable(!disabled);

		// Set main controls state
		this._setMainControlsEnabled();
	}

	/**
	 * Update the Scope label in the Users panel.
	 */
	_onRoomSelected()
	{
		// Clear User list
		this._resetUserList();

		// Set scope label
		this._setScopeLabel();

		// Enable Remove button
		$('#znm-removeRoomBt').attr('disabled', this._selectedRoom == undefined);

		// Set main controls state
		this._setMainControlsEnabled();
	}

	/**
	 * Update the scope label in the Users panel.
	 */
	_onGroupChange()
	{
		// Clear Room and User lists
		this._resetRoomList();
		this._resetUserList();

		// Set scope label
		this._setScopeLabel();

		// Request data to server
		this._requestData(true);

		// Set main controls state
		this._setMainControlsEnabled();
	}

	_onUserSelected()
	{
		// Set main controls state
		this._setMainControlsEnabled();
	}

	/**
	 * Show room creation panel.
	 */
	_onCreateRoomBtClick()
	{
		// Disable Create button
		$('#znm-createRoomBt').attr('disabled', true);

		// Request default room settings to extension
		this.sendExtensionRequest(this.REQ_GET_ROOM_CONFIG);
	}

	/**
	 * Remove existing room.
	 */
	_onRemoveRoomBtClick()
	{
		this.shellCtrl.showConfirmWarning('Are you sure you want to remove the selected Room?', $.proxy(this._onRemoveRemoveConfirm, this));
	}

	_onRemoveRemoveConfirm()
	{
		const selectedZone = this._zoneListBox.dataItem(this._zoneListBox.select());
		let selectedRoom = this._roomListBox.dataItem(this._roomListBox.select());

		if (selectedRoom)
		{
			// Send request to server
			let params = new SFS2X.SFSObject();
			params.putUtfString('zone', selectedZone.name);
			params.putUtfString('room', selectedRoom.name);

			this.sendExtensionRequest(this.REQ_REMOVE_ROOM, params);

			// Request data to server to update the rooms list
			this._requestData(true);
		}
	}

	/**
	 * Remove content of room creation panel.
	 */
	_onCreateRoomModalHidden(e)
	{
		// If a nested modal is opened, its closing causes the parent modal to be closed too (Bootstrap doesn't support nested modals)
		// As a workaround, here we reset the css class 'modal-open' when the nested modal is closed and skip everything else
		// In addition we had to use a custom listener on the close/cancel buttons of the nested modal (see config-grid.js for example)
		if (e.target !== document.getElementById('znm-createRoomModal'))
		{
			$('body').addClass('modal-open')
			return;
		}

		// Destroy scrolling tabs in room creation panel
		$('#znm-roomCreatorTabNav #tabs').scrollingTabs('destroy');

		// Remove all tab navigator content
		this._roomCreationIBuilder.destroyInterface();

		// Remove listener for custom actions triggered by configuration interface
		$('#znm-roomCreatorTabNav').off('value-set');

		// Reset and hide error message
		this._resetRoomCreationError();
	}

	_onConfigValueSet(e) // SAME METHOD DUPLICATED IN zone-configurator.js
	{
		const configParam = e.target.data;

		// Handle extension name/type dropdowns update and update the main class dropdown datasource accordingly
		if (configParam.name == 'extension.name' || configParam.name == 'extension.type' || configParam.name == 'extension.filterClass')
		{
			// All involved ConfigFormItems must be available and initialized to proceed
			const nameFormItem = this._roomCreationIBuilder.getConfigFormItem('extension.name');
			const typeFormItem = this._roomCreationIBuilder.getConfigFormItem('extension.type');
			const classFormItem = this._roomCreationIBuilder.getConfigFormItem('extension.file');
			const filterFormItem = this._roomCreationIBuilder.getConfigFormItem('extension.filterClass');

			if (nameFormItem != null && typeFormItem != null && classFormItem != null && filterFormItem != null)
			{
				const source = nameFormItem.data;
				let classesList = [];

				let data = source.triggerData;
				for (let i = 0; i < data.size(); i++)
				{
					let ext = data.getSFSObject(i);

					if (ext.getUtfString('name') == nameFormItem.data.value && ext.getUtfString('type') == typeFormItem.data.value)
					{
						let classes = ext.getUtfString('classesString').split(',');

						if (filterFormItem.data.value == true)
						{
							let filteredClasses = classes.filter(_utils_utilities__WEBPACK_IMPORTED_MODULE_4__["filterClassName"]);
							classes = filteredClasses;
						}

						classesList = classesList.concat(classes);
					}
				}

				let currentClass = classFormItem.data.value;

				// If the classes list doesn't contain the current value, create an empty entry and reset the value
				if (classesList.indexOf(currentClass) < 0)
				{
					if (classesList.length == 0)
					{
						classesList.push('');
						currentClass = '';
					}
					else
						currentClass = classesList[0];
				}

				let mainClassDropDown = classFormItem._innerWidget;
				mainClassDropDown.setDataSource(classesList);

				classFormItem.data.value = currentClass;
				classFormItem._setWidgetValue();
			}
		}
	}

	_onRoomCreatorCreateBtClick()
	{
		// Reset and hide error message
		this._resetRoomCreationError();

		// Check validity
		if (this._roomCreationIBuilder.checkIsValid())
		{
			let changes = this._roomCreationIBuilder.getChangedData();

			if (changes.size() > 0)
			{
				// Check the room name against the rooms list (duplicate names not allowed!)
				if (true)//this._validateNewRoomName(changes))
				{
					// Disable room creation panel
					this._enableCreateRoomPanel(false);

					// Send settings to server instance
					let params = new SFS2X.SFSObject();
					params.putSFSArray('settings', changes);
					params.putUtfString('zName', this._zoneListBox.dataItem(this._zoneListBox.select()).name);
					params.putBool('notify', $('#znm-notifyClientsCB').prop('checked'));

					// Send settings to extension
					this.sendExtensionRequest(this.REQ_CREATE_ROOM, params);
				}
				else
				{}
			}
		}
		else
		{
			// Show alert
			this.shellCtrl.showSimpleAlert('Unable to submit Room configuration due to an invalid value; please verify the highlighted form fields in all tabs.', true);
		}
	}

	_onShowRoomFilterBtClick()
	{
		this._roomFilter.show();
	}

	_onShowUserFilterBtClick()
	{
		this._userFilter.show();
	}

	_onApplyBtChange()
	{
		// Request data to server
		this._requestData(true);
	}

	_onRoomFilterUpdated()
	{
		// Enable/disable "Apply" checkbox
		$('#znm-applyRoomFilterCB').attr('disabled', this._roomFilter.filterExpression == null);

		// Request data to server
		this._requestData(true);
	}

	_onUserFilterUpdated()
	{
		// Enable/disable "Apply" checkbox
		$('#znm-applyUserFilterCB').attr('disabled', this._userFilter.filterExpression == null);

		// Request data to server
		this._requestData(true);
	}

	_onMonitorSelectionBtClick()
	{
		if (this._selectedZone)
		{
			// Cancel previous monitoring
			this._onCloseMonitorBtClick();

			let getZoneUserCountHistory = false;

			this._monitoredZone = this._selectedZone.name;

			// Zone must be monitored
			if (this._activePanelType == 'zone')
			{
				this._monitoredType = this.MONITORED_TYPE_ZONE;
				this._monitoredName = this._monitoredZone;

				getZoneUserCountHistory = true;
			}

			// Room must be monitored
			if (this._activePanelType == 'room' && this._selectedRoom != undefined)
			{
				this._monitoredType = this.MONITORED_TYPE_ROOM;
				this._monitoredName = this._selectedRoom.name;
			}

			// User must be monitored
			if (this._activePanelType == 'user' && this._selectedUser != undefined)
			{
				this._monitoredType = this.MONITORED_TYPE_USER;
				this._monitoredName = this._selectedUser.name;
			}

			// Show loading bar
			this._switchView('znm-loading');

			// Request data to server
			this._requestData(true, getZoneUserCountHistory);
		}
	}

	_onSendAdminMsgInKeyUp(event)
	{
		if (event.key !== 'Enter')
			return;

		event.preventDefault();
		this._onSendAdminMsgBtClick();
	}

	_onSendAdminMsgBtClick()
	{
		if (this._selectedZone && $('#znm-messageIn').val() != '')
		{
			// Build request parameters
			let params = new SFS2X.SFSObject();

			// Always include zone
			params.putUtfString('zone', this._selectedZone.name);

			// Send message to room?
			if (this._activePanelType == 'room' && this._selectedRoom != undefined)
				params.putUtfString('room', this._selectedRoom.name);

			// Send message to user?
			if (this._activePanelType == 'user' && this._selectedUser != undefined)
				params.putUtfString('user', this._selectedUser.name);

			// Add message
			params.putUtfString('msg', $('#znm-messageIn').val());

			// Send request to extension
			this.sendExtensionRequest(this.REQ_ADMIN_MSG, params);

			// Clear text input
			$('#znm-messageIn').val('');
		}
	}

	_onCloseMonitorBtClick()
	{
		// Save ref. for later usage
		const monitoredType = this._monitoredType;

		this._monitoredZone = null;
		this._monitoredType = null;
		this._monitoredName = null;

		// Clear geolocation UI
		this._clearGeoLocationUI();

		// Clear log datagrids dataproviders
		// NOTE: a try-catch is used here because, for an unknown reason, Kendo is throwing an error when resetting the data sources when the module is destroyed
		try
		{
			this._zoneExtLogGrid.setDataSource([]);
			this._roomExtLogGrid.setDataSource([]);
		}
		catch (e) { /* Ignore */ }

		// Leave edit mode
		this._onCancelBtClick();

		// Rearrange monitoring interface
		this._setMonitoringInterface();

		// Clear tab navigator
		this._clearTabs(monitoredType);
	}

	_onEditBtClick()
	{
		if (!this._isEditing)
		{
			// Show edit controls
			$('#znm-editControls').show();

			// Hide edit button
			$('#znm-editBt').hide();

			// Enable editable fields
			this._interfaceBuilder.disableInterface(false);

			this._isEditMode = true;
		}
	}

	_onCancelBtClick()
	{
		if (this._isEditing)
		{
			// Hide edit controls
			$('#znm-editControls').hide();

			// Show edit button
			$('#znm-editBt').show();

			// Disable editable fields
			this._interfaceBuilder.disableInterface(true);

			this._isEditMode = false;

			// Hide validation messages
			this._interfaceBuilder.resetValidation();

			// Request data to update interface (updating suspended in edit mode)
			this._requestData(true);
		}
	}

	_onSubmitBtClick()
	{
		if (this._isEditing)
		{
			// Check validity
			if (this._interfaceBuilder.checkIsValid())
			{
				let changes = this._interfaceBuilder.getChangedData();

				if (changes.size() > 0)
				{
					//console.log(changes.getDump())

					// Send settings to server instance
					let params = new SFS2X.SFSObject();
					params.putSFSArray('settings', changes);
					params.putUtfString('zone', this._monitoredZone);

					if (this._monitoredType == this.MONITORED_TYPE_ROOM)
					{
						// Submit room settings
						params.putUtfString('room', this._monitoredName);
						this.sendExtensionRequest(this.REQ_SET_ROOM_SETTINGS, params);
					}
					else if (this._monitoredType == this.MONITORED_TYPE_USER)
					{
						// Submit user settings
						params.putUtfString('user', this._monitoredName);
						this.sendExtensionRequest(this.REQ_SET_USER_SETTINGS, params);
					}
					else
					{
						// Submit zone settings
						this.sendExtensionRequest(this.REQ_SET_ZONE_SETTINGS, params);
					}

					// Leave edit mode
					this._onCancelBtClick();
				}
			}
			else
			{
				// Show alert
				this.shellCtrl.showSimpleAlert('Unable to submit changes due to an invalid value; please verify the highlighted form fields in all tabs.', true);
			}
		}
	}

	_onTimeRangeChange()
	{
		let values = this._timeSlider.value();

		if (values[0] == values[1])
		{
			if (values[1] == -24)
				values[1] = -23;

			values[0] = values[1] - 1;

			// Reset the time range slider value (we need to use setTimeout
			// bacause doing it in the change event listener doesn't redraw the slider)
			setTimeout($.proxy( function(values) { this._timeSlider.value(values); }, this), 10, values);
		}

		this._userCountChart.range = values;
	}

	_onWindowResize()
	{
		// Redraw charts
		this._userCountChart.redraw();
		this._packetQueueChart.redraw();
		this._droppedMsgChart.redraw();
		this._writtenDataChart.redraw();
		this._readDataChart.redraw();

		// Redraw time range slider
		this._timeSlider.resize();
	}

	_onWordsReloadBtClick()
	{
		if (this._monitoredType == this.MONITORED_TYPE_ZONE)
		{
			// Send request to extension
			let params = new SFS2X.SFSObject();
			params.putUtfString('zone', this._monitoredName);

			this.sendExtensionRequest(this.REQ_RELOAD_WORDS, params);
		}
	}

	_onZoneExtReloadBtClick()
	{
		if (this._monitoredType == this.MONITORED_TYPE_ZONE)
		{
			// Send request to extension
			let params = new SFS2X.SFSObject();
			params.putUtfString('zone', this._monitoredName);

			this.sendExtensionRequest(this.REQ_RELOAD_ZONE_EXT, params);
		}
	}

	_onKickBtClick()
	{
		if (this._monitoredType == this.MONITORED_TYPE_USER)
		{
			// Send request to extension
			let params = new SFS2X.SFSObject();
			params.putUtfString('zone', this._monitoredZone);
			params.putUtfString('user', this._monitoredName);
			params.putUtfString('msg', $('#znm-kickMsgIn').val());
			params.putInt('delay', (this._kickDelayIn.value() != null ? Number(this._kickDelayIn.value()) : this.KICK_BAN_DEFAULT_DELAY));
			
			this.sendExtensionRequest(this.REQ_KICK_USER, params);

			// Reset message
			$('#znm-kickMsgIn').val('');
		}
	}

	_onBanBtClick()
	{
		if (this._monitoredType == this.MONITORED_TYPE_USER)
		{
			// Send request to extension
			let params = new SFS2X.SFSObject();
			params.putUtfString('zone', this._monitoredZone);
			params.putUtfString('user', this._monitoredName);
			params.putUtfString('msg', $('#znm-banMsgIn').val());
			params.putUtfString('mode', this._banModeDd.select() > 0 ? this._banModeDd.value() : 'NAME');
			params.putInt('delay', (this._banDelayIn.value() != null ? Number(this._banDelayIn.value()) : this.KICK_BAN_DEFAULT_DELAY));

			let duration = this._banDurationIn.value() != null ? Number(this._banDurationIn.value()) : 1;

			if (this._banDurUnitDd.value() == 'hours')
				duration = duration * 60;
			else if (this._banDurUnitDd.value() == 'days')
				duration = duration * 60 * 24;

			params.putInt('duration', duration);

			this.sendExtensionRequest(this.REQ_BAN_USER, params);

			// Reset message
			$('#znm-banMsgIn').val('');
		}
	}

	//------------------------------------
	// PRIVATE METHODS
	//------------------------------------

	_setMonitoringInterface()
	{
		const enabled = (this._monitoredType != null && this._monitoredName != null);

		// Show/hide header and footer
		if (enabled)
		{
			this._switchView(`znm-${this._monitoredType}Monitor`);

			// Header title
			let title = 'Now monitoring ';

			if (this._monitoredType == this.MONITORED_TYPE_USER)
				title += `User: <strong>${this._monitoredName}</strong> (Zone: ${this._monitoredZone})`;
			else if (this._monitoredType == this.MONITORED_TYPE_ROOM)
				title += `Room: <strong>${this._monitoredName}</strong> (Zone: ${this._monitoredZone})`;
			else
				title += `Zone: <strong>${this._monitoredZone}</strong>`;

			$('#znm-monitoredHeader').html(title);
			$('#znm-monitoredFooter').show();

			// Show panel
			this._switchPanel('znm-mainPanel');
		}
		else
		{
			this._switchView('znm-select');

			$('#znm-monitoredHeader').html('');
			$('#znm-monitoredFooter').hide();

			// Show panel
			this._switchPanel('znm-sidebarPanel');
		}
	}

	_switchView(viewId)
	{
		document.getElementById('znm-viewstack').selectedElement = document.getElementById(viewId);
	}

	_switchPanel(panelId)
	{
		document.getElementById('znm-view').selectedPanel = document.getElementById(panelId);
	}

	/**
	 * Build the polling request to be sent to the server, based on the selections and other settings in the accordion.
	 */
	_requestData(newId = false, getZoneUserCountHistory = false)
	{
		// Clear previous request scheduling
		clearTimeout(this._requestTimer);

		// Check if connection is still available
		if (this.smartFox.isConnected)
		{
			if (newId)
				this._currentRequestId++;

			// Build request parameters
			let params = new SFS2X.SFSObject();

			// The updated zones/rooms/users lists are requested if the corresponding panel is displayed only
			const getZones = (this._activePanelType == 'zone');
			const getRooms = (this._activePanelType == 'room' && this._selectedZone != undefined);
			const getUsers = (this._activePanelType == 'user' && this._selectedZone != undefined);

			// --- ZONES ---
			params.putBool('zones', getZones);

			// ROOMS & USERS
			if (getRooms || getUsers)
			{
				// Common filtering params:

				// a) zone name
				params.putUtfString('zone', this._selectedZone.name);

				// b) group name
				params.putUtfString('group', this._selectedGroup.name);
			}

			// ROOMS
			params.putBool('rooms', getRooms);
			if (getRooms)
			{
				// Filtering params:

				// c) advanced filtering params
				if ($('#znm-applyRoomFilterCB').prop('checked') && this._roomFilter.filterExpression != null)
					params.putSFSArray('rFilter', this._roomFilter.filterExpression.toSFSArray());
			}

			// USERS
			params.putBool('users', getUsers);
			if (getUsers)
			{
				// Filtering params:

				// c) room name
				if (this._selectedRoom)
					params.putUtfString('room', this._selectedRoom.name);

				// d) advanced filtering params
				if ($('#znm-applyUserFilterCB').prop('checked') && this._userFilter.filterExpression != null)
					params.putSFSArray('uFilter', this._userFilter.filterExpression.toSFSArray());
			}

			// --- CURRENTLY MONITORED DATA ---
			if (this._monitoredType != null && this._monitoredName != null)
			{
				let monitoredObj = this._getBasicMonitoredObject();

				if (this._monitoredType == this.MONITORED_TYPE_ZONE)
					monitoredObj.putBool('uc', getZoneUserCountHistory);

				params.putSFSObject('monitored', monitoredObj);
			}

			// Set request id; when a response is received, we check its id matches the current request id: if not, the response is discarded
			params.putInt('id', this._currentRequestId);

			// Send request to extension
			this.sendExtensionRequest(this.REQ_GET_DATA, params);

			// Schedule next request
			this._requestTimer = setTimeout($.proxy(this._requestData, this), Number(this._intervalDropDown.value()) * 1000);
		}
	}

	_getBasicMonitoredObject()
	{
		let monitoredObj = new SFS2X.SFSObject();

		monitoredObj.putUtfString('zone', this._monitoredZone);
		monitoredObj.putUtfString('type', this._monitoredType);
		monitoredObj.putUtfString('name', this._monitoredName);

		return monitoredObj;
	}

	_setZonesDataProvider(zonesData)
	{
		this._setListDataProvider(this._zoneListBox, zonesData, true);
	}

	_setRoomsDataProvider(roomsData)
	{
		this._setListDataProvider(this._roomListBox, roomsData, true);

		// Set Remove button state
		$('#znm-removeRoomBt').attr('disabled', this._selectedRoom == undefined);
	}

	_setUsersDataProvider(usersData)
	{
		this._setListDataProvider(this._userListBox, usersData);
	}

	_setListDataProvider(listWidget, listData, countUsers = false)
	{
		// Save reference to selected item name
		// NOTE: as we are substituting the whole data source, we need it to re-select the same item after update
		let selectedDataItem = listWidget.dataItem(listWidget.select());
		let selectedDataItemName = selectedDataItem ? selectedDataItem.name : null;

		let dataArray = [];

		// Convert data coming from server
		for (let i = 0; i < listData.size(); i++)
		{
			let itemData = listData.getSFSObject(i);

			let item = {};
			item.name = itemData.getUtfString('name');

			if (countUsers)
				item.users = itemData.getInt('users');

			dataArray.push(item);
		}

		// Create new data source
		let listDS = new kendo.data.DataSource({
			data: dataArray,
			schema: {
				model: {
					id: 'name'
				}
			},
			sort: {
				field: 'name',
				dir: 'asc'
			}
		});

		// Assign data source to list
		listWidget.setDataSource(listDS);

		// Select again previously selected item
		if (selectedDataItemName != null)
		{
			selectedDataItem = listDS.get(selectedDataItemName);

			if (selectedDataItem)
			{
				let selectedElement = listWidget.wrapper.find('[data-uid="' + selectedDataItem.uid + '"]');
				listWidget.select(selectedElement);
			}
		}

		// Reset main control state
		this._setMainControlsEnabled();
	}

	_setGroupsDataProvider(groupsData)
	{
		// Create Groups array, adding common entries
		let groupsArray = [
			this._getGroupObj('', this.ANY_LABEL),
			this._getGroupObj(this.DEFAULT_GROUP_NAME)
		];

		// Save reference to selected group name
		// NOTE: as we are substituting the whole data source, we need it to re-select the same item after update
		let selectedDataItem = this._selectedGroup;
		let selectedDataItemName = selectedDataItem ? selectedDataItem.name : null;

		if (groupsData != null)
		{
			for (let i = 0; i < groupsData.length; i++)
			{
				if (groupsData[i] != this.DEFAULT_GROUP_NAME) // Default group was added before
					groupsArray.push(this._getGroupObj(groupsData[i]));
			}
		}

		// Create new data source
		let groupDS = new kendo.data.DataSource({
			data: groupsArray,
			schema: {
				model: {
					id: 'name'
				}
			}
		});

		// Assign data source to dropdown
		this._groupsDropDown.setDataSource(groupDS);

		//--------------------------------

		// Select previously selected item
		selectedDataItem = groupDS.get(selectedDataItemName);

		// If group is not found, select the default one
		if (selectedDataItem == undefined)
			selectedDataItem = groupDS.get(this.DEFAULT_GROUP_NAME);

		this._groupsDropDown.select(function(dataItem) {
			return dataItem.name === selectedDataItem.name;
		});
	}

	_getGroupObj(name, label = null)
	{
		return {
			name: name,
			label: (label != null ? label : name)
		}
	}

	/**
	 * Update the Scope label in the Rooms panel and in the Users panel.
	 */
	_setScopeLabel()
	{
		let roomScope = '';
		let userScope = '';

		if (this._selectedZone)
		{
			let zoneName = this._selectedZone.name;
			roomScope = this._getScopeLabelPart('Zone:', zoneName);

			let selectedGroup = this._selectedGroup;
			let groupName = (selectedGroup && selectedGroup.name != '') ? selectedGroup.name : this.ANY_LABEL;
			let roomName = (this._selectedRoom) ? this._selectedRoom.name : this.ANY_LABEL;

			userScope = this._getScopeLabelPart('Zone:', zoneName) + '<br>' + this._getScopeLabelPart('Group:', groupName) + '<br>' + this._getScopeLabelPart('Room:', roomName);
		}

		$('#znm-roomScopeLb').html(roomScope);
		$('#znm-userScopeLb').html(userScope);
	}

	_getScopeLabelPart(label, text)
	{
		return `<span class="text-muted">${label}</span> <span>${text}</span>`;
	}

	_resetRoomList()
	{
		this._roomListBox.setDataSource([]);

		// Also disable Remove button
		$('#znm-removeRoomBt').attr('disabled', true);
	}

	_resetUserList()
	{
		this._userListBox.setDataSource([]);
	}

	_setMainControlsEnabled()
	{
		let enabled = (this._activePanelType == 'zone' && this._selectedZone != undefined)
					|| (this._activePanelType == 'room' && this._selectedRoom != undefined)
					|| (this._activePanelType == 'user' && this._selectedUser != undefined);

		$('#znm-mainControls').attr('disabled', !enabled);

		$('#znm-monitorTargetLb').text(enabled ? Object(_utils_utilities__WEBPACK_IMPORTED_MODULE_4__["capitalizeFirst"])(this._activePanelType) : 'selection');
		$('#znm-messageIn').attr('placeholder', 'Message to ' + (enabled ? Object(_utils_utilities__WEBPACK_IMPORTED_MODULE_4__["capitalizeFirst"])(this._activePanelType) : 'selection'));
	}

	_showLimitExceededWarning(icon, title)
	{
		icon.attr('title', title);

		if (title != '')
			icon.removeClass('hidden');
		else
			icon.addClass('hidden');
	}

	_showRoomCreationPanel(roomSettings)
	{
		// Build user interface based on passed data
		this._roomCreationIBuilder.buildInterface(roomSettings, 'znm-roomCreatorTabNav', false, 'rc');

		// Enable scrolling tabs
		$('#znm-roomCreatorTabNav > #tabs').scrollingTabs({
			bootstrapVersion: 4,
			scrollToTabEdge: true,
			enableSwiping: true,
			disableScrollArrowsOnFullyScrolled: true,
			cssClassLeftArrow: 'fa fa-chevron-left',
			cssClassRightArrow: 'fa fa-chevron-right'
		});

		// Reset Notify clients checkbox
		$('#znm-notifyClientsCB').prop('checked', true);

		// Set listener for custom actions triggered by configuration interface
		$('#znm-roomCreatorTabNav').on('value-set', $.proxy(this._onConfigValueSet, this));

		// Display panel
		$('#znm-createRoomModal').modal('show');

		// Reset and hide error message
		this._resetRoomCreationError();
	}

	_resetRoomCreationError()
	{
		// Reset and hide error message
		$('#znm-createRoomError').text('');
		$('#znm-createRoomError').hide();
	}

	_validateNewRoomName(changes)
	{
		for (let i = 0; i < changes.size(); i++)
		{
			const setting = changes.getSFSObject(i);

			if (setting.containsKey('name') && setting.getUtfString('name') == 'name')
			{
				// Get name value
				const name = setting.getText('value');

				// Get data source
				const ds = this._roomListBox.dataSource.data();

				// Check if name exists in data source
				for (let j = 0; j < ds.length; j++)
				{
					if (ds[j].name == name)
						return false;
				}

				break;
			}
		}

		return true;
	}

	_enableCreateRoomPanel(enable)
	{
		let modalElement = $('#znm-createRoomModal');

		// Enable modal close buttons
		$('button[data-dismiss="modal"]', modalElement).attr('disabled', !enable);

		// Enable create button
		$('#znm-roomCreatorCreateBt', modalElement).attr('disabled', !enable);

		// Enable checkbox
		$('#znm-notifyClientsCB', modalElement).attr('disabled', !enable);

		// Enable configuration interface
		this._roomCreationIBuilder.disableInterface(!enable);
	}

	_clearTabs(monitoredType)
	{
		// Destroy scrolling tabs
		$(`#znm-${monitoredType}TabNavigator #tabs`).scrollingTabs('destroy');

		// Remove all tab navigator content
		this._interfaceBuilder.destroyInterface();

		// Set all tab panels as inactive
		$(`#znm-${monitoredType}TabNavigator #tabPanels .tab-pane`).removeClass('show active');

		// Remove tab change event listener
		$('a[data-toggle="tab"]').off('shown.bs.tab');

		this._skipInitTabs = false;
	}

	_showZoneTrafficData(data)
	{
		// Build user count monitor history
		if (data.containsKey('history'))
		{
			let userCountData = data.getIntArray('history');
			let samplingRateMins = data.getInt('rate');

			this._userCountChart.addHistoryEntries(userCountData, samplingRateMins * 60);
		}

		// Add last user count value
		this._userCountChart.addEntry(data.getInt('current'));
	}

	_addLogEntryToGrid(grid, item)
	{
		let ds = grid.dataSource;

		// Check items limit
		if (ds.total() == this.MAX_EXTENSION_LOG_SIZE)
			ds.remove(ds.at(0));

		ds.add(item);
	}

	_showUserStatsData(data)
	{
		// Packet queue filling %
		let packetQueue = Object(_utils_utilities__WEBPACK_IMPORTED_MODULE_4__["roundToDecimals"])(data.getFloat('packet'), 2);
		this._packetQueueChart.setDataSource([{category: 'Queue', value: packetQueue}]);

		// Dropped messages
		let droppedMsg = data.getInt('dropped');
		this._droppedMsgChart.setDataSource([{category: 'Dropped', value: droppedMsg}]);

		// Written data amount
		let writtenDataObj = Object(_utils_utilities__WEBPACK_IMPORTED_MODULE_4__["scaleBytes"])(data.getLong('wBytes'), 2);
		this._writtenDataChart.setDataSource([{category: 'Written', value: writtenDataObj.value, unit: writtenDataObj.unit}]);

		// Read data amount
		let readDataObj = Object(_utils_utilities__WEBPACK_IMPORTED_MODULE_4__["scaleBytes"])(data.getLong('rBytes'), 2);
		this._readDataChart.setDataSource([{category: 'Read', value: readDataObj.value, unit: readDataObj.unit}]);
	}

	_setGeoLocationUI(geoLocData)
	{
		const location = geoLocData.getUtfString('location');
		const error = geoLocData.getUtfString('error');
		const latitude = geoLocData.getUtfString('latitude');
		const longitude = geoLocData.getUtfString('longitude');

		// Show location
		$('#znm-geoLocationLb').text(location);

		// Log error
		if (error != '')
			this.shellCtrl.logMessage(error, 'warn');

		// Enable/disable Show map button
		if (latitude != '' && longitude != '')
		{
			$('#znm-showMapBt').attr('disabled', false);

			const url = `https://www.google.com/maps/search/?api=1&query=${Number(latitude) + ',' + Number(longitude)}`;
			$('#znm-showMapBt').attr('href', url);
		}
	}

	_clearGeoLocationUI()
	{
		$('#znm-geoLocationLb').text('');
		$('#znm-showMapBt').attr('disabled', true);
		$('#znm-showMapBt').attr('href', '#');
	}

	//---------------------------------
	// PRIVATE GETTERS
	//---------------------------------

	get _activePanelType()
	{
		return this._accordion.select().data('itemType');
	}

	get _selectedZone()
	{
		return this._zoneListBox.dataItem(this._zoneListBox.select());
	}

	get _selectedGroup()
	{
		return this._groupsDropDown.dataItem(this._groupsDropDown.select());
	}

	get _selectedRoom()
	{
		return this._roomListBox.dataItem(this._roomListBox.select());
	}

	get _selectedUser()
	{
		return this._userListBox.dataItem(this._userListBox.select());
	}

	get _isEditing()
	{
		return (this._monitoredType != null && this._monitoredName != null && this._isEditMode);
	}
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/utils/match-properties.js":
/*!***************************************!*\
  !*** ./src/utils/match-properties.js ***!
  \***************************************/
/*! exports provided: RoomPropertiesData, UserPropertiesData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomPropertiesData", function() { return RoomPropertiesData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserPropertiesData", function() { return UserPropertiesData; });
class RoomPropertiesData
{
	static get LABELS() {
		let map = new Map();

		map.set(SFS2X.RoomProperties.NAME, 'name');
		map.set(SFS2X.RoomProperties.GROUP_ID, 'groupId');
		map.set(SFS2X.RoomProperties.MAX_USERS, 'maxUsers');
		map.set(SFS2X.RoomProperties.MAX_SPECTATORS, 'maxSpectators');
		map.set(SFS2X.RoomProperties.USER_COUNT, 'userCount');
		map.set(SFS2X.RoomProperties.SPECTATOR_COUNT, 'spectatorCount');
		map.set(SFS2X.RoomProperties.IS_GAME, 'isGame');
		map.set(SFS2X.RoomProperties.IS_PRIVATE, 'isPrivate');
		map.set(SFS2X.RoomProperties.HAS_FREE_PLAYER_SLOTS, 'hasFreePlayerSlots');
		map.set(SFS2X.RoomProperties.IS_TYPE_SFSGAME, 'isSFSGameType');

		return map;
	}

	static getLabel(propName)
	{
		return 'Room.' + RoomPropertiesData.LABELS.get(propName);
	}

	static get propertiesArray()
	{
		const arr = [];

		for (const [key, value] of RoomPropertiesData.LABELS.entries())
		{
			arr.push({
				label: RoomPropertiesData.getLabel(key),
				value: key
			});
		}

		return arr;
	}
}

class UserPropertiesData
{
	static get LABELS() {
		let map = new Map();

		map.set(SFS2X.UserProperties.NAME, 'name');
		map.set(SFS2X.UserProperties.IS_PLAYER, 'isPlayer');
		map.set(SFS2X.UserProperties.IS_SPECTATOR, 'isSpectator');
		map.set(SFS2X.UserProperties.IS_NPC, 'isNPC');
		map.set(SFS2X.UserProperties.PRIVILEGE_ID, 'privilegeId');

		return map;
	}

	static getLabel(propName)
	{
		return 'User.' + UserPropertiesData.LABELS.get(propName);
	}

	static get propertiesArray()
	{
		const arr = [];

		for (const [key, value] of UserPropertiesData.LABELS.entries())
		{
			arr.push({
				label: UserPropertiesData.getLabel(key),
				value: key
			});
		}

		return arr;
	}
}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNzZXRzL2pzL2NvcmUvbW9kdWxlcy9tb2R1bGUtMTMuYnVuZGxlLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwbGljYXRpb24vLi9zcmMvY29tcG9uZW50cy9jaGFydHMvY2hhcnQtdXRpbHMuanMiLCJ3ZWJwYWNrOi8vYXBwbGljYXRpb24vLi9zcmMvY29tcG9uZW50cy9jaGFydHMvdXNlci1jb3VudC1jaGFydC5qcyIsIndlYnBhY2s6Ly9hcHBsaWNhdGlvbi8uL3NyYy9jb21wb25lbnRzL21hdGNoLWV4cHJlc3Npb24tYnVpbGRlci5qcyIsIndlYnBhY2s6Ly9hcHBsaWNhdGlvbi8uL3NyYy9jb21wb25lbnRzL3NpZGViYXItbGF5b3V0LmpzIiwid2VicGFjazovL2FwcGxpY2F0aW9uLy4vc3JjL21vZHVsZXMvem9uZS1tb25pdG9yLmpzIiwid2VicGFjazovL2FwcGxpY2F0aW9uLy4vc3JjL3V0aWxzL21hdGNoLXByb3BlcnRpZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtieXRlc1RvU2l6ZSwga0J5dGVzVG9TaXplfSBmcm9tICcuLi8uLi91dGlscy91dGlsaXRpZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Rm9ybWF0dGVkRGF0ZVRpbWUoZGF0ZSwgZm9ybWF0ID0gJ2RkIE1NTSBISDptbTpzcycpXG57XG5cdHJldHVybiBrZW5kby50b1N0cmluZyhkYXRlLCBmb3JtYXQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QmFzaWNTaGFyZWRUZW1wbGF0ZSh2YWx1ZUZvcm1hdCA9ICd7MH0nKSB7XG5cdHJldHVybiBrZW5kby50ZW1wbGF0ZShgXG5cdFx0PGRpdiBjbGFzcz1cImNoYXJ0LXRvb2x0aXAtY2F0ZWdvcnlcIj48c3Ryb25nPiM6IGNhdGVnb3J5ICM8L3N0cm9uZz48L2Rpdj5cblx0XHQjIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7ICNcblx0XHQ8ZGl2PlxuXHRcdFx0PGkgY2xhc3M9XCJmYXMgZmEtc3F1YXJlXCIgc3R5bGU9XCJjb2xvcjogIzogcG9pbnRzW2ldLmNvbG9yICMgXCI+PC9pPlxuXHRcdFx0IzogcG9pbnRzW2ldLnNlcmllcy5uYW1lIyA6ICM6IGtlbmRvLmZvcm1hdCgnJHt2YWx1ZUZvcm1hdH0nLCBwb2ludHNbaV0udmFsdWUpICNcblx0XHQ8L2Rpdj5cblx0XHQjIH0gI1xuXHRgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1lbW9yeVNoYXJlZFRlbXBsYXRlKCkge1xuXHRyZXR1cm4gZnVuY3Rpb24oZGF0YUl0ZW0pIHtcblx0XHRkYXRhSXRlbS5ieXRlc1RvU2l6ZSA9IGJ5dGVzVG9TaXplOyAvLyBQYXNzIGJ5dGVzVG9TaXplIHV0aWxpdHkgZnVuY3Rpb24gdG8gdGVtcGxhdGVcblx0XHRyZXR1cm4ga2VuZG8udGVtcGxhdGUoYFxuXHRcdFx0PGRpdiBjbGFzcz1cImNoYXJ0LXRvb2x0aXAtY2F0ZWdvcnlcIj48c3Ryb25nPiM6IGNhdGVnb3J5ICM8L3N0cm9uZz48L2Rpdj5cblx0XHRcdCMgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHsgI1xuXHRcdFx0PGRpdj5cblx0XHRcdFx0PGkgY2xhc3M9XCJmYXMgZmEtc3F1YXJlXCIgc3R5bGU9XCJjb2xvcjogIzogcG9pbnRzW2ldLmNvbG9yICMgXCI+PC9pPlxuXHRcdFx0XHQjOiBwb2ludHNbaV0uc2VyaWVzLm5hbWUjIDogIzogYnl0ZXNUb1NpemUocG9pbnRzW2ldLnZhbHVlKSAjXG5cdFx0XHQ8L2Rpdj5cblx0XHRcdCMgfSAjXG5cdFx0YCkoZGF0YUl0ZW0pO1xuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWVtb3J5VmFsdWVBeGlzTGFiZWxUZW1wbGF0ZSgpIHtcblx0cmV0dXJuIGZ1bmN0aW9uKGRhdGFJdGVtKSB7XG5cdFx0ZGF0YUl0ZW0uYnl0ZXNUb1NpemUgPSBieXRlc1RvU2l6ZTsgLy8gUGFzcyBieXRlc1RvU2l6ZSB1dGlsaXR5IGZ1bmN0aW9uIHRvIHRlbXBsYXRlXG5cdFx0cmV0dXJuIGtlbmRvLnRlbXBsYXRlKGBcblx0XHRcdCM6IGJ5dGVzVG9TaXplKHZhbHVlKSAjXG5cdFx0YCkoZGF0YUl0ZW0pO1xuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmV0d29ya1NoYXJlZFRlbXBsYXRlKGNhdGVnb3J5Rm9ybWF0ID0gJ2RkIE1NTSBISDptbTpzcycpIHtcblx0cmV0dXJuIGZ1bmN0aW9uKGRhdGFJdGVtKSB7XG5cdFx0ZGF0YUl0ZW0ua0J5dGVzVG9TaXplID0ga0J5dGVzVG9TaXplOyAvLyBQYXNzIGtCeXRlc1RvU2l6ZSB1dGlsaXR5IGZ1bmN0aW9uIHRvIHRlbXBsYXRlXG5cdFx0cmV0dXJuIGtlbmRvLnRlbXBsYXRlKGBcblx0XHRcdDxkaXYgY2xhc3M9XCJjaGFydC10b29sdGlwLWNhdGVnb3J5XCI+PHN0cm9uZz4jOiBrZW5kby50b1N0cmluZyhjYXRlZ29yeSwgJyR7Y2F0ZWdvcnlGb3JtYXR9JykgIzwvc3Ryb25nPjwvZGl2PlxuXHRcdFx0IyBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykgeyAjXG5cdFx0XHQ8ZGl2PlxuXHRcdFx0XHQ8aSBjbGFzcz1cImZhcyBmYS1zcXVhcmVcIiBzdHlsZT1cImNvbG9yOiAjOiBwb2ludHNbaV0uY29sb3IgIyBcIj48L2k+XG5cdFx0XHRcdCM6IHBvaW50c1tpXS5zZXJpZXMubmFtZSMgOiAjOiBrQnl0ZXNUb1NpemUocG9pbnRzW2ldLnZhbHVlLCAxLCAnJywgJy9zJykgI1xuXHRcdFx0PC9kaXY+XG5cdFx0XHQjIH0gI1xuXHRcdGApKGRhdGFJdGVtKTtcblx0fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE5ldHdvcmtWYWx1ZUF4aXNMYWJlbFRlbXBsYXRlKCkge1xuXHRyZXR1cm4gZnVuY3Rpb24oZGF0YUl0ZW0pIHtcblx0XHRkYXRhSXRlbS5rQnl0ZXNUb1NpemUgPSBrQnl0ZXNUb1NpemU7IC8vIFBhc3Mga0J5dGVzVG9TaXplIHV0aWxpdHkgZnVuY3Rpb24gdG8gdGVtcGxhdGVcblx0XHRyZXR1cm4ga2VuZG8udGVtcGxhdGUoYFxuXHRcdFx0Izoga0J5dGVzVG9TaXplKHZhbHVlLCAxLCAnJywgJy9zJykgI1xuXHRcdGApKGRhdGFJdGVtKTtcblx0fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJDb3VudFNoYXJlZFRlbXBsYXRlKGNhdGVnb3J5Rm9ybWF0ID0gJ2RkIE1NTSBISDptbTpzcycpIHtcblx0cmV0dXJuIGZ1bmN0aW9uKGRhdGFJdGVtKSB7XG5cdFx0cmV0dXJuIGtlbmRvLnRlbXBsYXRlKGBcblx0XHRcdDxkaXYgY2xhc3M9XCJjaGFydC10b29sdGlwLWNhdGVnb3J5XCI+PHN0cm9uZz4jOiBrZW5kby50b1N0cmluZyhjYXRlZ29yeSwgJyR7Y2F0ZWdvcnlGb3JtYXR9JykgIzwvc3Ryb25nPjwvZGl2PlxuXHRcdFx0IyBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykgeyAjXG5cdFx0XHQ8ZGl2PlxuXHRcdFx0XHQ8aSBjbGFzcz1cImZhcyBmYS1zcXVhcmVcIiBzdHlsZT1cImNvbG9yOiAjOiBwb2ludHNbaV0uY29sb3IgIyBcIj48L2k+XG5cdFx0XHRcdCM6IHBvaW50c1tpXS5zZXJpZXMubmFtZSMgOiAjOiBwb2ludHNbaV0udmFsdWUgI1xuXHRcdFx0PC9kaXY+XG5cdFx0XHQjIH0gI1xuXHRcdGApKGRhdGFJdGVtKTtcblx0fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRpbWVSYW5nZVRvb2x0aXBUZW1wbGF0ZSgpIHtcblx0cmV0dXJuIGZ1bmN0aW9uKGRhdGFJdGVtKSB7XG5cdFx0ZGF0YUl0ZW0uZ2V0VG9vbHRpcFN0cmluZyA9IGZ1bmN0aW9uKHYxLCB2Mikge1xuXHRcdFx0aWYgKHYxID09IHYyKVxuXHRcdFx0e1xuXHRcdFx0XHRpZiAodjIgPT0gLTI0KVxuXHRcdFx0XHRcdHYyID0gLTIzO1xuXG5cdFx0XHRcdHYxID0gdjIgLSAxO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgc3RhcnQgPSBNYXRoLmFicyh2MSk7XG5cdFx0XHRsZXQgZW5kID0gTWF0aC5hYnModjIpO1xuXG5cdFx0XHRyZXR1cm4gYEZyb20gJHtzdGFydH0gaG91ciR7c3RhcnQgIT0gMSA/ICdzJyA6ICcnfSBhZ28gdG8gJHtlbmQgPiAwID8gKCd0byAnICsgZW5kICsgJyBob3VyJyArIChlbmQgIT0gMSA/ICdzJyA6ICcnKSArICcgYWdvJykgOiAnbm93J31gO1xuXHRcdH07IC8vIFBhc3MgdXRpbGl0eSBmdW5jdGlvbiB0byB0ZW1wbGF0ZVxuXHRcdHJldHVybiBrZW5kby50ZW1wbGF0ZShgXG5cdFx0XHQjOiBnZXRUb29sdGlwU3RyaW5nKHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQpICNcblx0XHRgKShkYXRhSXRlbSk7XG5cdH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRXUkJ5dGVzTGFiZWxUZW1wbGF0ZSgpIHtcblx0cmV0dXJuIGZ1bmN0aW9uKGRhdGFJdGVtKSB7XG5cdFx0cmV0dXJuIGtlbmRvLnRlbXBsYXRlKGBcblx0XHRcdCM6IHZhbHVlICMgIzogZGF0YUl0ZW0udW5pdCAjXG5cdFx0YCkoZGF0YUl0ZW0pO1xuXHR9O1xufVxuIiwiaW1wb3J0IHtnZXRVc2VyQ291bnRTaGFyZWRUZW1wbGF0ZX0gZnJvbSAnLi9jaGFydC11dGlscyc7XG5pbXBvcnQgKiBhcyBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuZXhwb3J0IGNsYXNzIFVzZXJDb3VudENoYXJ0IGV4dGVuZHMgSFRNTEVsZW1lbnRcbntcblx0Y29uc3RydWN0b3IoKVxuXHR7XG5cdCAgICBzdXBlcigpO1xuXG5cdFx0Ly8gQ3JlYXRlIGNoYXJ0IGh0bWxcblx0XHRsZXQgY2hhcnRIdG1sID0gJCgnPGRpdj4nKTtcblx0XHQkKHRoaXMpLmFwcGVuZChjaGFydEh0bWwpO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSBjaGFydFxuXHRcdHRoaXMuX2NoYXJ0V2lkZ2V0ID0gdGhpcy5faW5pdENoYXJ0V2lkZ2V0KGNoYXJ0SHRtbCk7XG5cdH1cblxuXHRfaW5pdENoYXJ0V2lkZ2V0KGNoYXJ0SHRtbClcblx0e1xuXHRcdHJldHVybiBjaGFydEh0bWwua2VuZG9DaGFydCh7XG5cdFx0XHR0cmFuc2l0aW9uczogZmFsc2UsXG5cdFx0XHRjaGFydEFyZWE6IHtcblx0XHRcdFx0aGVpZ2h0OiAyNzAsXG5cdFx0XHRcdGJhY2tncm91bmQ6ICd0cmFuc3BhcmVudCdcblx0XHRcdH0sXG5cdCAgICAgICAgbGVnZW5kOiB7XG5cdCAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBzZXJpZXNEZWZhdWx0czoge1xuXHQgICAgICAgICAgICB0eXBlOiAnYXJlYScsXG5cdCAgICAgICAgICAgIGxhYmVsczoge1xuXHQgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UsXG5cdCAgICAgICAgICAgICAgICBmb3JtYXQ6ICd7MH0nLFxuXHQgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3RyYW5zcGFyZW50J1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2VyaWVzOiBbe1xuXHRcdFx0XHRuYW1lOiAnVXNlcnMnLFxuXHQgICAgICAgICAgICBmaWVsZDogJ3VzZXJzJyxcblx0ICAgICAgICAgICAgY2F0ZWdvcnlGaWVsZDogJ3RpbWUnLFxuXHRcdFx0XHRjb2xvcjogJyNmZDdkMjQnLFxuXHRcdFx0XHRsaW5lOiB7XG5cdFx0XHRcdFx0d2lkdGg6IDJcblx0XHRcdFx0fVxuXHQgICAgICAgIH1dLFxuXHQgICAgICAgIHZhbHVlQXhpczoge1xuXHQgICAgICAgICAgICBsYWJlbHM6IHtcblx0ICAgICAgICAgICAgICAgIGZvcm1hdDogJ3swfScsXG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIGxpbmU6IHtcblx0ICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG5cdCAgICAgICAgICAgIH0sXG5cdFx0XHRcdG1pbjogMCxcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGNhdGVnb3J5QXhpczoge1xuXHRcdFx0XHRtYWpvckdyaWRMaW5lczoge1xuXHQgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRzdGVwOiA2MFxuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHRtYWpvclRpY2tzOiB7XG5cdFx0XHRcdFx0dmlzaWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRzdGVwOiA2MFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRsYWJlbHM6IHtcblx0XHRcdFx0XHR2aXNpYmxlOiB0cnVlLFxuXHRcdFx0XHRcdHN0ZXA6IDYwXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGJhc2VVbml0OiAnbWludXRlcycsXG5cdFx0XHRcdHR5cGU6ICdkYXRlJyxcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHRvb2x0aXA6IHtcblx0XHRcdFx0c2hhcmVkOiB0cnVlLFxuXHQgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxuXHRcdFx0XHRzaGFyZWRUZW1wbGF0ZTogZ2V0VXNlckNvdW50U2hhcmVkVGVtcGxhdGUoJ2RkIE1NTSBISDptbScpLFxuXHRcdFx0XHRiYWNrZ3JvdW5kOiAnI2U0ZTRlNCdcblx0ICAgICAgICB9XG5cdCAgICB9KS5kYXRhKCdrZW5kb0NoYXJ0Jyk7XG5cdH1cblxuXHRyZWRyYXcoKVxuXHR7XG5cdFx0dGhpcy5fY2hhcnRXaWRnZXQucmVkcmF3KCk7XG5cdH1cblxuXHRzZXQgcmFuZ2UodmFsdWVzKVxuXHR7XG5cdFx0dGhpcy5fcmFuZ2UgPSB2YWx1ZXM7XG5cblx0XHR0aGlzLl91cGRhdGVYQXhpc0xpbWl0cygpO1xuXHR9XG5cblx0Z2V0IHJhbmdlKClcblx0e1xuXHRcdHJldHVybiB0aGlzLl9yYW5nZTtcblx0fVxuXG5cdGFkZEhpc3RvcnlFbnRyaWVzKHVzZXJDb3VudERhdGEsIHNhbXBsaW5nUmF0ZVNlY29uZHMpXG5cdHtcblx0XHRsZXQgZGF0ZSA9IG5ldyBEYXRlKCk7XG5cdFx0bGV0IHN0YXJ0ID0gbW9tZW50KGRhdGUpO1xuXHRcdHN0YXJ0LnN1YnRyYWN0KChzYW1wbGluZ1JhdGVTZWNvbmRzICogdXNlckNvdW50RGF0YS5sZW5ndGgpLCAncycpXG5cblx0XHRsZXQgZGF0YVNvdXJjZSA9IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2UoKTtcblxuXHRcdGZvciAobGV0IGkgPSAxOyBpIDwgdXNlckNvdW50RGF0YS5sZW5ndGg7IGkrKylcblx0XHR7XG5cdFx0XHRsZXQgZGF0ZSA9IHN0YXJ0LmNsb25lKCk7XG5cdFx0XHRkYXRlLmFkZChpICogc2FtcGxpbmdSYXRlU2Vjb25kcywgJ3MnKTtcblxuXHRcdFx0dGhpcy5hZGRFbnRyeSh1c2VyQ291bnREYXRhW2ldLCBkYXRhU291cmNlLCBkYXRlLnRvRGF0ZSgpLCBmYWxzZSk7XG5cdFx0fVxuXG5cdFx0Ly8gQXNzaWduIGRhdGFzb3VyY2UgdG8gY2hhcnRcblx0XHR0aGlzLl9jaGFydFdpZGdldC5zZXREYXRhU291cmNlKGRhdGFTb3VyY2UpO1xuXG5cdFx0Ly8gVXBkYXRlIGF4aXNcblx0XHR0aGlzLl91cGRhdGVYQXhpc0xpbWl0cygpO1xuXHR9XG5cblx0YWRkRW50cnkodXNlckNvdW50LCBkYXRhU291cmNlID0gbnVsbCwgZGF0ZSA9IG51bGwsIHVwZGF0ZUF4aXMgPSB0cnVlKVxuXHR7XG5cdFx0aWYgKGRhdGUgPT0gbnVsbClcblx0XHRcdGRhdGUgPSBuZXcgRGF0ZSgpO1xuXG5cdFx0bGV0IG5ld0VudHJ5ID0ge1xuXHRcdFx0dGltZTogZGF0ZSxcblx0XHRcdHVzZXJzOiB1c2VyQ291bnRcblx0XHR9O1xuXG5cdFx0Ly8gQWRkIGVudHJ5IHRvIGRhdGEgc291cmNlXG5cdFx0aWYgKGRhdGFTb3VyY2UgPT0gbnVsbClcblx0XHRcdGRhdGFTb3VyY2UgPSB0aGlzLl9kYXRhU291cmNlO1xuXG5cdFx0ZGF0YVNvdXJjZS5hZGQobmV3RW50cnkpO1xuXG5cdFx0aWYgKHVwZGF0ZUF4aXMpXG5cdFx0XHR0aGlzLl91cGRhdGVYQXhpc0xpbWl0cygpO1xuXHR9XG5cblx0X3VwZGF0ZVhBeGlzTGltaXRzKClcblx0e1xuXHRcdGxldCBkcyA9IHRoaXMuX2RhdGFTb3VyY2U7XG5cblx0XHRpZiAoZHMudG90YWwoKSA+IDApXG5cdFx0e1xuXHRcdFx0Y29uc3QgY2hhcnRNaW5pbXVtID0gbW9tZW50KHRoaXMuX2xhc3REYXRlKS5hZGQodGhpcy5fcmFuZ2VbMF0sICdoJyk7XG5cdFx0XHRjb25zdCBjaGFydE1heGltdW0gPSBtb21lbnQodGhpcy5fbGFzdERhdGUpLmFkZCh0aGlzLl9yYW5nZVsxXSwgJ2gnKTtcblxuXHRcdFx0dGhpcy5fY2hhcnRXaWRnZXQub3B0aW9ucy5jYXRlZ29yeUF4aXMubWluID0gY2hhcnRNaW5pbXVtLnRvRGF0ZSgpO1xuXHRcdFx0dGhpcy5fY2hhcnRXaWRnZXQub3B0aW9ucy5jYXRlZ29yeUF4aXMubWF4ID0gY2hhcnRNYXhpbXVtLnRvRGF0ZSgpO1xuXG5cdFx0XHR0aGlzLl9jaGFydFdpZGdldC5yZWRyYXcoKTtcblx0XHR9XG5cdH1cblxuXHRnZXQgX2RhdGFTb3VyY2UoKVxuXHR7XG5cdFx0cmV0dXJuIHRoaXMuX2NoYXJ0V2lkZ2V0LmRhdGFTb3VyY2U7XG5cdH1cbn1cblxuLy8gREVGSU5FIENPTVBPTkVOVFxuaWYgKCF3aW5kb3cuY3VzdG9tRWxlbWVudHMuZ2V0KCd1c2VyLWNvdW50LWNoYXJ0JykpXG5cdHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3VzZXItY291bnQtY2hhcnQnLCBVc2VyQ291bnRDaGFydCk7XG4iLCJleHBvcnQgY2xhc3MgTWF0Y2hFeHByZXNzaW9uQnVpbGRlciBleHRlbmRzIEhUTUxFbGVtZW50XG57XG5cdGNvbnN0cnVjdG9yKClcblx0e1xuXHQgICAgc3VwZXIoKTtcblxuXHRcdHRoaXMuRVhQUkVTU0lPTl9VUERBVEVEX0VWRU5UID0gJ2V4cHJlc3Npb25VcGRhdGVkJztcblxuXHRcdHRoaXMuX2RpYWxvZyA9ICQoYFxuXHRcdFx0PGRpdiBjbGFzcz1cIm1vZGFsXCIgaWQ9XCJtYXRjaEV4cHJCdWlsZGVyTW9kYWxcIiB0YWJpbmRleD1cIi0xXCIgcm9sZT1cImRpYWxvZ1wiIGFyaWEtbGFiZWxsZWRieT1cIm1hdGNoRXhwckJ1aWxkZXJNb2RhbFRpdGxlXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbC1kaWFsb2cgbW9kYWwtZGlhbG9nLWNlbnRlcmVkIG1vZGFsLWxnXCIgcm9sZT1cImRvY3VtZW50XCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj5cblx0XHRcdFx0XHRcdFx0PGg1IGNsYXNzPVwibW9kYWwtdGl0bGUgdGV4dC1wcmltYXJ5XCIgaWQ9XCJtYXRjaEV4cHJCdWlsZGVyTW9kYWxUaXRsZVwiPi4uLjwvaDU+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5IHAtMFwiPlxuXHRcdFx0XHRcdFx0XHQ8Zm9ybSBjbGFzcz1cImJnLWNvbG9yLWRlZmF1bHQgcC0zXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImQtaW5saW5lLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIHJhZGlvLWJ1dHRvbi1ncm91cCBpbmxpbmUtZm9ybS1ncm91cHNcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjdXN0b20tY29udHJvbCBjdXN0b20tcmFkaW8gY3VzdG9tLWNvbnRyb2wtaW5saW5lIG1yLTJcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJyYWRpb1wiIGlkPVwiYW5kT3BlcmF0b3JSQlwiIG5hbWU9XCJvcGVyYXRvclJCR1wiIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtaW5wdXRcIiB2YWx1ZT1cIkFORFwiIGNoZWNrZWQgZGlzYWJsZWQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImN1c3RvbS1jb250cm9sLWxhYmVsXCIgZm9yPVwiYW5kT3BlcmF0b3JSQlwiPkFORDwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjdXN0b20tY29udHJvbCBjdXN0b20tcmFkaW8gY3VzdG9tLWNvbnRyb2wtaW5saW5lIG1yLTJcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJyYWRpb1wiIGlkPVwib3JPcGVyYXRvclJCXCIgbmFtZT1cIm9wZXJhdG9yUkJHXCIgY2xhc3M9XCJjdXN0b20tY29udHJvbC1pbnB1dFwiIHZhbHVlPVwiT1JcIiBkaXNhYmxlZD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtbGFiZWxcIiBmb3I9XCJvck9wZXJhdG9yUkJcIj5PUjwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZC1pbmxpbmUtYmxvY2tcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpbmxpbmUtZm9ybS1ncm91cHMgbXktMVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgaWQ9XCJ2YXJOYW1lQ0JcIi8+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpbmxpbmUtZm9ybS1ncm91cHMgbXktMVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgaWQ9XCJ0eXBlRERcIiBjbGFzcz1cIm1hdGNoVHlwZURyb3Bkb3duXCIvPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgaWQ9XCJjb25kaXRpb25ERFwiIGNsYXNzPVwibWF0Y2hDb25kaXRpb25Ecm9wZG93blwiLz5cblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJkLWlubGluZSBpbmxpbmUtZm9ybS1ncm91cHNcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCBpZD1cInZhbHVlSW5cIiBjbGFzcz1cImstdGV4dGJveCBtdC0xXCIgcGxhY2Vob2xkZXI9XCJWYWx1ZVwiLz5cblx0XHRcdFx0XHRcdFx0XHRcdDxidXR0b24gaWQ9XCJtYXRjaEV4cHJBZGRCdFwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImstYnV0dG9uIGstc2Vjb25kYXJ5IG10LTFcIj48aSBjbGFzcz1cImZhcyBmYS1wbHVzIG1yLTFcIj48L2k+QWRkPC9idXR0b24+XG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdDwvZm9ybT5cblxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGlkPVwibWF0Y2hFeHByR3JpZFwiIGNsYXNzPVwibS0zXCI+PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXIgZC1mbGV4XCI+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmbGV4LWdyb3ctMSB0ZXh0LWxlZnRcIj5cblx0XHRcdFx0XHRcdFx0XHQ8YnV0dG9uIGlkPVwibWF0Y2hFeHByQXBwbHlCdFwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImstYnV0dG9uIGstcHJpbWFyeSBtci0yXCI+PGkgY2xhc3M9XCJmYXMgZmEtY2hlY2stY2lyY2xlIG1yLTFcIj48L2k+QXBwbHk8L2J1dHRvbj5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmbGV4LWdyb3ctMSB0ZXh0LXJpZ2h0XCI+XG5cdFx0XHRcdFx0XHRcdFx0PGJ1dHRvbiBpZD1cIm1hdGNoRXhwclJlbW92ZUJ0XCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiay1idXR0b24gay1zZWNvbmRhcnlcIiBkaXNhYmxlZD48aSBjbGFzcz1cImZhcyBmYS1taW51cy1jaXJjbGUgbXItMVwiPjwvaT5SZW1vdmUgc2VsZWN0ZWQ8L2J1dHRvbj5cblx0XHRcdFx0XHRcdFx0XHQ8YnV0dG9uIGlkPVwibWF0Y2hFeHByQ2xlYXJCdFwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImstYnV0dG9uIGstc2Vjb25kYXJ5XCI+PGkgY2xhc3M9XCJmYXMgZmEtdGltZXMtY2lyY2xlIG1yLTFcIj48L2k+Q2xlYXIgQWxsPC9idXR0b24+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0YCk7XG5cblx0XHQkKCcjbWF0Y2hFeHByQWRkQnQnLCB0aGlzLl9kaWFsb2cpLm9uKCdjbGljaycsICQucHJveHkodGhpcy5fb25BZGRCdENsaWNrLCB0aGlzKSk7XG5cdFx0JCgnI21hdGNoRXhwckFwcGx5QnQnLCB0aGlzLl9kaWFsb2cpLm9uKCdjbGljaycsICQucHJveHkodGhpcy5fb25BcHBseUJ0Q2xpY2ssIHRoaXMpKTtcblx0XHQkKCcjbWF0Y2hFeHByUmVtb3ZlQnQnLCB0aGlzLl9kaWFsb2cpLm9uKCdjbGljaycsICQucHJveHkodGhpcy5fb25SZW1vdmVCdENsaWNrLCB0aGlzKSk7XG5cdFx0JCgnI21hdGNoRXhwckNsZWFyQnQnLCB0aGlzLl9kaWFsb2cpLm9uKCdjbGljaycsICQucHJveHkodGhpcy5fb25DbGVhckJ0Q2xpY2ssIHRoaXMpKTtcblxuXHRcdC8vIElOSVRJQUxJWkUgRk9STSBJVEVNU1xuXG5cdFx0dGhpcy5fdmFyTmFtZUNiID0gJCgnI3Zhck5hbWVDQicsIHRoaXMuX2RpYWxvZykua2VuZG9Db21ib0JveCh7XG5cdFx0XHRkYXRhVGV4dEZpZWxkOiAnbGFiZWwnLFxuXHRcdFx0ZGF0YVZhbHVlRmllbGQ6ICd2YWx1ZScsXG5cdFx0XHRwbGFjZWhvbGRlcjogJ1ZhcmlhYmxlIG5hbWUnLFxuXHRcdH0pLmRhdGEoJ2tlbmRvQ29tYm9Cb3gnKTtcblxuXHRcdC8vIFNldCB0eXBlcyBkcm9wZG93biBkYXRhIHNvdXJjZVxuXHRcdC8vIE5PVEU6IGluIG9yZGVyIHRvIGF2b2lkIFh4eE1hdGNoIG9iamVjdHMgdG8gYmUgd3JhcHBlZCBieSBLZW5kbyBkYXRhIHNvdXJjZSwgd2UgaGF2ZSB0byBwYXNzIHRoZW0gdXNpbmcgXyBwcm9wZXJ0eSBuYW1lc1xuXHRcdGxldCB0eXBlRFMgPSBbXTtcblxuXHRcdC8vIEJvb2xlYW4gLS0tLS0tLS0tLS0tLS0tLVxuXHRcdHR5cGVEUy5wdXNoKHtcblx0XHRcdGxhYmVsOiAnQm9vbGVhbicsXG5cdFx0XHRfdmFsdWU6IFNGUzJYLkJvb2xNYXRjaC5FUVVBTFMsXG5cdFx0XHRjb25kaXRpb25zOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbDogU0ZTMlguQm9vbE1hdGNoLkVRVUFMUy5zeW1ib2wsXG5cdFx0XHRcdFx0X3ZhbHVlOiBTRlMyWC5Cb29sTWF0Y2guRVFVQUxTLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IFNGUzJYLkJvb2xNYXRjaC5OT1RfRVFVQUxTLnN5bWJvbCxcblx0XHRcdFx0XHRfdmFsdWU6IFNGUzJYLkJvb2xNYXRjaC5OT1RfRVFVQUxTLFxuXHRcdFx0XHR9XG5cdFx0XHRdXG5cdFx0fSk7XG5cblx0XHQvLyBOdW1iZXIgLS0tLS0tLS0tLS0tLS0tLVxuXHRcdHR5cGVEUy5wdXNoKHtcblx0XHRcdGxhYmVsOiAnTnVtYmVyJyxcblx0XHRcdF92YWx1ZTogU0ZTMlguTnVtYmVyTWF0Y2guRVFVQUxTLFxuXHRcdFx0Y29uZGl0aW9uczogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IFNGUzJYLk51bWJlck1hdGNoLkVRVUFMUy5zeW1ib2wsXG5cdFx0XHRcdFx0X3ZhbHVlOiBTRlMyWC5OdW1iZXJNYXRjaC5FUVVBTFMsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbDogU0ZTMlguTnVtYmVyTWF0Y2guTk9UX0VRVUFMUy5zeW1ib2wsXG5cdFx0XHRcdFx0X3ZhbHVlOiBTRlMyWC5OdW1iZXJNYXRjaC5OT1RfRVFVQUxTLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IFNGUzJYLk51bWJlck1hdGNoLkdSRUFURVJfVEhBTi5zeW1ib2wsXG5cdFx0XHRcdFx0X3ZhbHVlOiBTRlMyWC5OdW1iZXJNYXRjaC5HUkVBVEVSX1RIQU4sXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbDogU0ZTMlguTnVtYmVyTWF0Y2guTEVTU19USEFOLnN5bWJvbCxcblx0XHRcdFx0XHRfdmFsdWU6IFNGUzJYLk51bWJlck1hdGNoLkxFU1NfVEhBTixcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGxhYmVsOiBTRlMyWC5OdW1iZXJNYXRjaC5HUkVBVEVSX1RIQU5fT1JfRVFVQUxfVE8uc3ltYm9sLFxuXHRcdFx0XHRcdF92YWx1ZTogU0ZTMlguTnVtYmVyTWF0Y2guR1JFQVRFUl9USEFOX09SX0VRVUFMX1RPLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6IFNGUzJYLk51bWJlck1hdGNoLkxFU1NfVEhBTl9PUl9FUVVBTF9UTy5zeW1ib2wsXG5cdFx0XHRcdFx0X3ZhbHVlOiBTRlMyWC5OdW1iZXJNYXRjaC5MRVNTX1RIQU5fT1JfRVFVQUxfVE8sXG5cdFx0XHRcdH1cblx0XHRcdF1cblx0XHR9KTtcblxuXHRcdC8vIFN0cmluZyAtLS0tLS0tLS0tLS0tLS0tXG5cdFx0dHlwZURTLnB1c2goe1xuXHRcdFx0bGFiZWw6ICdTdHJpbmcnLFxuXHRcdFx0X3ZhbHVlOiBTRlMyWC5TdHJpbmdNYXRjaC5FUVVBTFMsXG5cdFx0XHRjb25kaXRpb25zOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbDogU0ZTMlguU3RyaW5nTWF0Y2guRVFVQUxTLnN5bWJvbCxcblx0XHRcdFx0XHRfdmFsdWU6IFNGUzJYLlN0cmluZ01hdGNoLkVRVUFMUyxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGxhYmVsOiBTRlMyWC5TdHJpbmdNYXRjaC5OT1RfRVFVQUxTLnN5bWJvbCxcblx0XHRcdFx0XHRfdmFsdWU6IFNGUzJYLlN0cmluZ01hdGNoLk5PVF9FUVVBTFMsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbDogU0ZTMlguU3RyaW5nTWF0Y2guQ09OVEFJTlMuc3ltYm9sLFxuXHRcdFx0XHRcdF92YWx1ZTogU0ZTMlguU3RyaW5nTWF0Y2guQ09OVEFJTlMsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbDogU0ZTMlguU3RyaW5nTWF0Y2guU1RBUlRTX1dJVEguc3ltYm9sLFxuXHRcdFx0XHRcdF92YWx1ZTogU0ZTMlguU3RyaW5nTWF0Y2guU1RBUlRTX1dJVEgsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsYWJlbDogU0ZTMlguU3RyaW5nTWF0Y2guRU5EU19XSVRILnN5bWJvbCxcblx0XHRcdFx0XHRfdmFsdWU6IFNGUzJYLlN0cmluZ01hdGNoLkVORFNfV0lUSCxcblx0XHRcdFx0fVxuXHRcdFx0XVxuXHRcdH0pO1xuXG5cdFx0dGhpcy5fdHlwZURkID0gJCgnI3R5cGVERCcsIHRoaXMuX2RpYWxvZykua2VuZG9Ecm9wRG93bkxpc3Qoe1xuXHRcdFx0ZGF0YVNvdXJjZTogdHlwZURTLFxuXHRcdFx0ZGF0YVRleHRGaWVsZDogJ2xhYmVsJyxcblx0XHRcdGRhdGFWYWx1ZUZpZWxkOiAnX3ZhbHVlJyxcblx0XHRcdG9wdGlvbkxhYmVsOiB7XG5cdFx0XHRcdGxhYmVsOiAnVHlwZScsXG5cdFx0XHRcdF92YWx1ZTogJydcblx0XHRcdH0sXG5cdFx0XHRvcHRpb25MYWJlbFRlbXBsYXRlOiAnPHNwYW4gY2xhc3M9XCJ0ZXh0LW11dGVkXCI+IzpsYWJlbCM8L3NwYW4+Jyxcblx0XHRcdGNoYW5nZTogJC5wcm94eShmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKHRoaXMuX3R5cGVEZCAmJiB0aGlzLl90eXBlRGQuc2VsZWN0KCkpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRsZXQgc2VsZWN0ZWRUeXBlID0gdGhpcy5fdHlwZURkLmRhdGFJdGVtKHRoaXMuX3R5cGVEZC5zZWxlY3QoKSk7XG5cdFx0XHRcdFx0dGhpcy5fY29uZGl0aW9uRGQuc2V0RGF0YVNvdXJjZShzZWxlY3RlZFR5cGUuY29uZGl0aW9ucyk7XG5cdFx0XHRcdFx0dGhpcy5fY29uZGl0aW9uRGQuc2VsZWN0KDEpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCB0aGlzKVxuXHRcdH0pLmRhdGEoJ2tlbmRvRHJvcERvd25MaXN0Jyk7XG5cblx0XHR0aGlzLl9jb25kaXRpb25EZCA9ICQoJyNjb25kaXRpb25ERCcsIHRoaXMuX2RpYWxvZykua2VuZG9Ecm9wRG93bkxpc3Qoe1xuXHRcdFx0ZGF0YVRleHRGaWVsZDogJ2xhYmVsJyxcblx0XHRcdGRhdGFWYWx1ZUZpZWxkOiAnX3ZhbHVlJyxcblx0XHRcdG9wdGlvbkxhYmVsOiB7XG5cdFx0XHRcdGxhYmVsOiAnQ29uZGl0aW9uJyxcblx0XHRcdFx0X3ZhbHVlOiAnJ1xuXHRcdFx0fSxcblx0XHRcdG9wdGlvbkxhYmVsVGVtcGxhdGU6ICc8c3BhbiBjbGFzcz1cInRleHQtbXV0ZWRcIj4jOmxhYmVsIzwvc3Bhbj4nLFxuXHRcdH0pLmRhdGEoJ2tlbmRvRHJvcERvd25MaXN0Jyk7XG5cblx0XHR0aGlzLl92YWx1ZUluID0gJCgnI3ZhbHVlSW4nLCB0aGlzLl9kaWFsb2cpO1xuXG5cdFx0Ly8gSU5JVElBTElaRSBHUklEXG5cblx0XHR0aGlzLl9ncmlkID0gJCgnI21hdGNoRXhwckdyaWQnLCB0aGlzLl9kaWFsb2cpLmtlbmRvR3JpZCh7XG5cdFx0XHRkYXRhU291cmNlOiBbXSxcblx0XHRcdHJlc2l6YWJsZTogdHJ1ZSxcblx0XHRcdHNlbGVjdGFibGU6ICdyb3cnLFxuXHRcdFx0Y2hhbmdlOiAkLnByb3h5KHRoaXMuX29uR3JpZFNlbGVjdGlvbkNoYW5nZSwgdGhpcyksXG5cdFx0XHRub1JlY29yZHM6IHtcblx0XHRcdFx0dGVtcGxhdGU6ICdObyBlbnRyaWVzLidcblx0XHRcdH0sXG5cdFx0XHRjb2x1bW5zOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRmaWVsZDogJ29wZXJhdG9yJyxcblx0XHRcdFx0XHR0aXRsZTogJ09wZXJhdG9yJyxcblx0XHRcdFx0XHR3aWR0aDogOTBcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGZpZWxkOiAnbGFiZWwnLFxuXHRcdFx0XHRcdHRpdGxlOiAnTmFtZScsXG5cdFx0XHRcdFx0d2lkdGg6IDEyMFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0ZmllbGQ6ICd0eXBlTGFiZWwnLFxuXHRcdFx0XHRcdHRpdGxlOiAnVHlwZScsXG5cdFx0XHRcdFx0d2lkdGg6IDg1XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRmaWVsZDogJ3N5bWJvbCcsXG5cdFx0XHRcdFx0dGl0bGU6ICdDb25kaXRpb24nLFxuXHRcdFx0XHRcdHdpZHRoOiA5NVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0ZmllbGQ6ICd2YWx1ZScsXG5cdFx0XHRcdFx0dGl0bGU6ICdWYWx1ZScsXG5cdFx0XHRcdFx0d2lkdGg6IDIwMFxuXHRcdFx0XHR9LFxuXHRcdFx0XVxuXHRcdH0pLmRhdGEoJ2tlbmRvR3JpZCcpO1xuXHR9XG5cblx0Z2V0IHRpdGxlKClcblx0e1xuXHRcdHJldHVybiAkKCcjbWF0Y2hFeHByQnVpbGRlck1vZGFsVGl0bGUnLCB0aGlzLl9kaWFsb2cpLnRleHQoKTtcblx0fVxuXG5cdHNldCB0aXRsZSh2YWx1ZSlcblx0e1xuXHRcdCQoJyNtYXRjaEV4cHJCdWlsZGVyTW9kYWxUaXRsZScsIHRoaXMuX2RpYWxvZykudGV4dCh2YWx1ZSk7XG5cdH1cblxuXHRnZXQgcHJlZGVmaW5lZFZhck5hbWVzKClcblx0e1xuXHRcdHJldHVybiB0aGlzLl9wcmVkZWZpbmVkVmFyTmFtZXM7XG5cdH1cblxuXHRzZXQgcHJlZGVmaW5lZFZhck5hbWVzKHZhbHVlKVxuXHR7XG5cdFx0dGhpcy5fcHJlZGVmaW5lZFZhck5hbWVzID0gdmFsdWU7XG5cblx0XHR0aGlzLl92YXJOYW1lQ2Iuc2V0RGF0YVNvdXJjZSh2YWx1ZSk7XG5cdH1cblxuXHRnZXQgZmlsdGVyRXhwcmVzc2lvbigpXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5fZmlsdGVyRXhwcmVzc2lvbjtcblx0fVxuXG5cdHNob3coKVxuXHR7XG5cdFx0dGhpcy5fZGlhbG9nLm1vZGFsKHtcblx0XHRcdGJhY2tkcm9wOiAnc3RhdGljJyxcblx0XHRcdGtleWJvYXJkOiBmYWxzZSxcblx0XHRcdHNob3c6IHRydWVcblx0XHR9KTtcblx0fVxuXG5cdF9vbkdyaWRTZWxlY3Rpb25DaGFuZ2UoKVxuXHR7XG5cdFx0dmFyIHNlbGVjdGVkUm93cyA9IHRoaXMuX2dyaWQuc2VsZWN0KCk7XG5cdFx0dmFyIHNlbGVjdGVkRGF0YUl0ZW1zID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHNlbGVjdGVkUm93cy5sZW5ndGg7IGkrKylcblx0XHR7XG5cdFx0XHR2YXIgZGF0YUl0ZW0gPSB0aGlzLl9ncmlkLmRhdGFJdGVtKHNlbGVjdGVkUm93c1tpXSk7XG5cdFx0XHRzZWxlY3RlZERhdGFJdGVtcy5wdXNoKGRhdGFJdGVtKTtcblx0XHR9XG5cblx0XHQvLyBFbmFibGUvZGlzYWJsZSByZW1vdmUgYnV0dG9uXG5cdFx0JCgnI21hdGNoRXhwclJlbW92ZUJ0JywgdGhpcy5fZGlhbG9nKS5hdHRyKCdkaXNhYmxlZCcsIHNlbGVjdGVkRGF0YUl0ZW1zLmxlbmd0aCA9PSAwKTtcblx0fVxuXG5cdF9vbkFkZEJ0Q2xpY2soKVxuXHR7XG5cdFx0aWYgKHRoaXMuX3Zhck5hbWVDYi52YWx1ZSgpICE9ICcnICYmIHRoaXMuX3R5cGVEZC5zZWxlY3QoKSlcblx0XHR7XG5cdFx0XHQvLyBWYXJpYWJsZSBuYW1lIGFuZCBsYWJlbFxuXHRcdFx0bGV0IHZhck5hbWUsIHZhckxhYmVsO1xuXG5cdFx0XHRpZiAodGhpcy5fdmFyTmFtZUNiLnNlbGVjdCgpID4gLTEpXG5cdFx0XHR7XG5cdFx0XHRcdGxldCBkYXRhSXRlbSA9IHRoaXMuX3Zhck5hbWVDYi5kYXRhSXRlbSh0aGlzLl92YXJOYW1lQ2Iuc2VsZWN0KCkpO1xuXHRcdFx0XHR2YXJOYW1lID0gZGF0YUl0ZW0udmFsdWU7XG5cdFx0XHRcdHZhckxhYmVsID0gZGF0YUl0ZW0ubGFiZWw7XG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHZhck5hbWUgPSB2YXJMYWJlbCA9IHRoaXMuX3Zhck5hbWVDYi52YWx1ZSgpO1xuXG5cdFx0XHQvLyBWYXJpYWJsZSB0eXBlJ3MgbGFiZWxcblx0XHRcdGxldCB0eXBlTGFiZWwgPSB0aGlzLl90eXBlRGQuZGF0YUl0ZW0odGhpcy5fdHlwZURkLnNlbGVjdCgpKS5sYWJlbDtcblxuXHRcdFx0Ly8gTWF0Y2ggY29uZGl0aW9uXG5cdFx0XHRsZXQgY29uZGl0aW9uID0gdGhpcy5fY29uZGl0aW9uRGQuZGF0YUl0ZW0odGhpcy5fY29uZGl0aW9uRGQuc2VsZWN0KCkpLl92YWx1ZTtcblxuXHRcdFx0Ly8gRXhwcmVzc2lvbiBvcGVyYXRvclxuXHRcdFx0bGV0IG9wZXJhdG9yID0gdGhpcy5fZ3JpZC5kYXRhU291cmNlLnRvdGFsKCkgPiAwID8gJCgnaW5wdXRbbmFtZT1vcGVyYXRvclJCR106Y2hlY2tlZCcsIHRoaXMuX2RpYWxvZykudmFsKCkgOiBudWxsO1xuXG5cdFx0XHQvLyBWYXJpYWJsZSB2YWx1ZVxuXHRcdFx0bGV0IHZhbCA9IHRoaXMuX3ZhbHVlSW4udmFsKCk7XG5cdFx0XHRsZXQgdmFyVmFsdWU7XG5cblx0XHRcdGlmIChjb25kaXRpb24gaW5zdGFuY2VvZiBTRlMyWC5Cb29sTWF0Y2gpXG5cdFx0XHRcdHZhclZhbHVlID0gKHZhbCA9PSAndHJ1ZScgPyB0cnVlIDogZmFsc2UpO1xuXHRcdFx0ZWxzZSBpZiAoY29uZGl0aW9uIGluc3RhbmNlb2YgU0ZTMlguTnVtYmVyTWF0Y2gpXG5cdFx0XHRcdHZhclZhbHVlID0gKGlzTmFOKE51bWJlcih2YWwpKSA/IDAgOiBOdW1iZXIodmFsKSk7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHZhclZhbHVlID0gdmFsO1xuXG5cdFx0XHQvLyBBZGQgaXRlbSB0byBncmlkXG5cdFx0XHRsZXQgZXhwclBhcnQgPSB0aGlzLl9nZXRFeHByZXNzaW9uUGFydCh2YXJMYWJlbCwgdmFyTmFtZSwgdmFyVmFsdWUsIHR5cGVMYWJlbCwgY29uZGl0aW9uLCBvcGVyYXRvcik7XG5cdFx0XHR0aGlzLl9ncmlkLmRhdGFTb3VyY2UuYWRkKGV4cHJQYXJ0KTtcblxuXHRcdFx0Ly8gUmVzZXQgaW5wdXRzXG5cdFx0XHR0aGlzLl92YXJOYW1lQ2IudmFsdWUoJycpO1xuXHRcdFx0dGhpcy5fdmFsdWVJbi52YWwoJycpO1xuXG5cdFx0XHQvLyBFbmFibGUgb3BlcmF0b3IgcmFkaW8gYnV0dG9uc1xuXHRcdFx0dGhpcy5fZW5hYmxlT3BlcmF0b3JSYih0cnVlKTtcblx0XHR9XG5cdH1cblxuXHRfb25BcHBseUJ0Q2xpY2soKVxuXHR7XG5cdFx0Ly8gSGlkZSBkaWFsb2dcblx0XHR0aGlzLl9kaWFsb2cubW9kYWwoJ2hpZGUnKTtcblxuXHRcdC8vIENsZWFyIGdyaWQgc2VsZWN0aW9uXG5cdFx0dGhpcy5fZ3JpZC5jbGVhclNlbGVjdGlvbigpO1xuXG5cdFx0Ly8gQnVpbGQgZmluYWwgbWF0Y2ggZXhwcmVzc2lvblxuXHRcdHRoaXMuX2ZpbHRlckV4cHJlc3Npb24gPSBudWxsO1xuXG5cdFx0aWYgKHRoaXMuX2dyaWQuZGF0YVNvdXJjZS50b3RhbCgpID4gMClcblx0XHR7XG5cdFx0XHRsZXQgZXhwUGFydCA9IHRoaXMuX2dyaWQuZGF0YVNvdXJjZS5hdCgwKTtcblx0XHRcdHRoaXMuX2ZpbHRlckV4cHJlc3Npb24gPSBuZXcgU0ZTMlguTWF0Y2hFeHByZXNzaW9uKGV4cFBhcnQubmFtZSwgZXhwUGFydC5fY29uZGl0aW9uLCBleHBQYXJ0LnZhbHVlKTtcblxuXHRcdFx0Zm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLl9ncmlkLmRhdGFTb3VyY2UudG90YWwoKTsgaSsrKVxuXHRcdFx0e1xuXHRcdFx0XHRleHBQYXJ0ID0gdGhpcy5fZ3JpZC5kYXRhU291cmNlLmF0KGkpO1xuXG5cdFx0XHRcdGlmIChleHBQYXJ0Lm9wZXJhdG9yID09IFNGUzJYLkxvZ2ljT3BlcmF0b3IuQU5ELmlkKVxuXHRcdFx0XHRcdHRoaXMuX2ZpbHRlckV4cHJlc3Npb24gPSB0aGlzLl9maWx0ZXJFeHByZXNzaW9uLmFuZChleHBQYXJ0Lm5hbWUsIGV4cFBhcnQuX2NvbmRpdGlvbiwgZXhwUGFydC52YWx1ZSk7XG5cdFx0XHRcdGVsc2UgaWYgKGV4cFBhcnQub3BlcmF0b3IgPT0gU0ZTMlguTG9naWNPcGVyYXRvci5PUi5pZClcblx0XHRcdFx0XHR0aGlzLl9maWx0ZXJFeHByZXNzaW9uID0gdGhpcy5fZmlsdGVyRXhwcmVzc2lvbi5vcihleHBQYXJ0Lm5hbWUsIGV4cFBhcnQuX2NvbmRpdGlvbiwgZXhwUGFydC52YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gRmlyZSBldmVudFxuXHRcdGxldCBldnQgPSBuZXcgQ3VzdG9tRXZlbnQodGhpcy5FWFBSRVNTSU9OX1VQREFURURfRVZFTlQsIHtcblx0XHQgICAgXHRkZXRhaWw6IG51bGwsXG5cdFx0XHRcdGJ1YmJsZXM6IGZhbHNlLFxuXHRcdFx0XHRjYW5jZWxhYmxlOiBmYWxzZVxuXHRcdFx0fSk7XG5cblx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoZXZ0KTtcblx0fVxuXG5cdF9vblJlbW92ZUJ0Q2xpY2soKVxuXHR7XG5cdFx0bGV0IGRhdGFJdGVtID0gdGhpcy5fZ3JpZC5kYXRhSXRlbSh0aGlzLl9ncmlkLnNlbGVjdCgpKTtcblx0XHR0aGlzLl9ncmlkLmRhdGFTb3VyY2UucmVtb3ZlKGRhdGFJdGVtKTtcblxuXHRcdC8vIENsZWFyIGdyaWQgc2VsZWN0aW9uXG5cdFx0dGhpcy5fZ3JpZC5jbGVhclNlbGVjdGlvbigpO1xuXG5cdFx0aWYgKHRoaXMuX2dyaWQuZGF0YVNvdXJjZS50b3RhbCgpID09IDApXG5cdFx0e1xuXHRcdFx0Ly8gRGlzYWJsZSBvcGVyYXRvciByYWRpbyBidXR0b25zXG5cdFx0XHR0aGlzLl9lbmFibGVPcGVyYXRvclJiKGZhbHNlKTtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdC8vIFJlc2V0IG9wZXJhdG9yIG9uIGZpcnN0IGVudHJ5XG5cdFx0XHR0aGlzLl9ncmlkLmRhdGFTb3VyY2UuYXQoMCkub3BlcmF0b3IgPSBudWxsO1xuXHRcdFx0dGhpcy5fZ3JpZC5yZWZyZXNoKCk7XG5cdFx0fVxuXHR9XG5cblx0X29uQ2xlYXJCdENsaWNrKClcblx0e1xuXHRcdC8vIFJlc2V0IGZvcm1cblx0XHQkKCcjYW5kT3BlcmF0b3JSQicsIHRoaXMuX2RpYWxvZykuYXR0cignY2hlY2tlZCcsIHRydWUpO1xuXHRcdCQoJyNvck9wZXJhdG9yUkInLCB0aGlzLl9kaWFsb2cpLmF0dHIoJ2NoZWNrZWQnLCBmYWxzZSk7XG5cdFx0dGhpcy5fZW5hYmxlT3BlcmF0b3JSYihmYWxzZSk7XG5cblx0XHR0aGlzLl92YXJOYW1lQ2IudmFsdWUoJycpO1xuXHRcdHRoaXMuX3R5cGVEZC5zZWxlY3QoMCk7XG5cdFx0dGhpcy5fY29uZGl0aW9uRGQuc2VsZWN0KDApO1xuXG5cdFx0dGhpcy5fdmFsdWVJbi52YWwoJycpO1xuXG5cdFx0Ly8gQ2xlYXIgZ3JpZCBzZWxlY3Rpb25cblx0XHR0aGlzLl9ncmlkLmNsZWFyU2VsZWN0aW9uKCk7XG5cblx0XHQvLyBDbGVhciB0YWJsZVxuXHRcdHRoaXMuX2dyaWQuc2V0RGF0YVNvdXJjZShbXSk7XG5cdH1cblxuXHRfZ2V0RXhwcmVzc2lvblBhcnQodmFyTGFiZWwsIHZhck5hbWUsIHZhclZhbHVlLCB0eXBlTGFiZWwsIGNvbmRpdGlvbiwgb3BlcmF0b3IpXG5cdHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0J2xhYmVsJzogdmFyTGFiZWwsXG5cdFx0XHQnbmFtZSc6IHZhck5hbWUsXG5cdFx0XHQndmFsdWUnOiB2YXJWYWx1ZSxcblx0XHRcdCd0eXBlTGFiZWwnOiB0eXBlTGFiZWwsXG5cdFx0XHQnc3ltYm9sJzogY29uZGl0aW9uLnN5bWJvbCxcblx0XHRcdCdvcGVyYXRvcic6IG9wZXJhdG9yLFxuXHRcdFx0J19jb25kaXRpb24nOiBjb25kaXRpb24sXG5cdFx0fTtcblx0fVxuXG5cdF9lbmFibGVPcGVyYXRvclJiKGVuYWJsZSlcblx0e1xuXHRcdCQoJyNhbmRPcGVyYXRvclJCJywgdGhpcy5fZGlhbG9nKS5hdHRyKCdkaXNhYmxlZCcsICFlbmFibGUpO1xuXHRcdCQoJyNvck9wZXJhdG9yUkInLCB0aGlzLl9kaWFsb2cpLmF0dHIoJ2Rpc2FibGVkJywgIWVuYWJsZSk7XG5cdH1cbn1cblxuLy8gREVGSU5FIENPTVBPTkVOVFxuaWYgKCF3aW5kb3cuY3VzdG9tRWxlbWVudHMuZ2V0KCdtYXRjaC1leHByZXNzaW9uLWJ1aWxkZXInKSlcblx0d2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbWF0Y2gtZXhwcmVzc2lvbi1idWlsZGVyJywgTWF0Y2hFeHByZXNzaW9uQnVpbGRlcik7XG4iLCJleHBvcnQgY2xhc3MgU2lkZWJhckxheW91dCBleHRlbmRzIEhUTUxFbGVtZW50XG57XG5cdGNvbnN0cnVjdG9yKClcblx0e1xuXHQgICAgc3VwZXIoKTtcblxuXHRcdC8vIEF0dGFjaCBhIHNoYWRvdyByb290XG5cdFx0Y29uc3Qgc2hhZG93Um9vdCA9IHRoaXMuYXR0YWNoU2hhZG93KHttb2RlOiAnb3Blbid9KTtcblx0XHRzaGFkb3dSb290LmlubmVySFRNTCA9IGBcblx0XHRcdDxzdHlsZT5cblx0XHRcdFx0Omhvc3Qge1xuXHRcdFx0XHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0XHRcdFx0ZmxleC1kaXJlY3Rpb246IHJvdztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdEBtZWRpYSAobWF4LXdpZHRoOiA1NzUuOThweCkge1xuXHRcdFx0XHRcdDpob3N0KC5zcGxpdC14cykgOjpzbG90dGVkKDpub3QoW2FyaWEtc2VsZWN0ZWQ9XCJ0cnVlXCJdKSkge1xuXHRcdFx0XHRcdFx0ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuXHRcdFx0XHQgICAgfVxuXG5cdFx0XHRcdFx0Omhvc3QoLnNwbGl0LXhzKSA6OnNsb3R0ZWQoW2FyaWEtc2VsZWN0ZWQ9XCJ0cnVlXCJdKSB7XG5cdFx0XHRcdFx0XHRmbGV4LWdyb3c6IDE7XG5cdFx0XHRcdCAgICB9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRAbWVkaWEgKG1heC13aWR0aDogNzY3Ljk4cHgpIHtcblx0XHRcdFx0XHQ6aG9zdCguc3BsaXQtc20pIDo6c2xvdHRlZCg6bm90KFthcmlhLXNlbGVjdGVkPVwidHJ1ZVwiXSkpIHtcblx0XHRcdFx0XHRcdGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcblx0XHRcdFx0ICAgIH1cblxuXHRcdFx0XHRcdDpob3N0KC5zcGxpdC1zbSkgOjpzbG90dGVkKFthcmlhLXNlbGVjdGVkPVwidHJ1ZVwiXSkge1xuXHRcdFx0XHRcdFx0ZmxleC1ncm93OiAxO1xuXHRcdFx0XHQgICAgfVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0QG1lZGlhIChtYXgtd2lkdGg6IDk5MS45OHB4KSB7XG5cdFx0XHRcdFx0Omhvc3QoLnNwbGl0LW1kKSA6OnNsb3R0ZWQoOm5vdChbYXJpYS1zZWxlY3RlZD1cInRydWVcIl0pKSB7XG5cdFx0XHRcdFx0XHRkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XG5cdFx0XHRcdCAgICB9XG5cblx0XHRcdFx0XHQ6aG9zdCguc3BsaXQtbWQpIDo6c2xvdHRlZChbYXJpYS1zZWxlY3RlZD1cInRydWVcIl0pIHtcblx0XHRcdFx0XHRcdGZsZXgtZ3JvdzogMTtcblx0XHRcdFx0ICAgIH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdEBtZWRpYSAobWF4LXdpZHRoOiAxMTk5Ljk4cHgpIHtcblx0XHRcdFx0XHQ6aG9zdCguc3BsaXQtbGcpIDo6c2xvdHRlZCg6bm90KFthcmlhLXNlbGVjdGVkPVwidHJ1ZVwiXSkpIHtcblx0XHRcdFx0XHRcdGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcblx0XHRcdFx0ICAgIH1cblxuXHRcdFx0XHRcdDpob3N0KC5zcGxpdC1sZykgOjpzbG90dGVkKFthcmlhLXNlbGVjdGVkPVwidHJ1ZVwiXSkge1xuXHRcdFx0XHRcdFx0ZmxleC1ncm93OiAxO1xuXHRcdFx0XHQgICAgfVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0LnNpZGUtY29sOjpzbG90dGVkKCopIHtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC5tYWluLWNvbDo6c2xvdHRlZCgqKSB7XG5cdFx0XHRcdFx0ZmxleC1ncm93OiAxO1xuXHRcdFx0XHR9XG5cdFx0XHQ8L3N0eWxlPlxuXG5cdFx0XHQ8c2xvdCBjbGFzcz1cInNpZGUtY29sXCIgbmFtZT1cInNpZGUtY29sdW1uXCI+PC9zbG90PlxuXHRcdFx0PHNsb3QgY2xhc3M9XCJtYWluLWNvbFwiIG5hbWU9XCJtYWluLWNvbHVtblwiPjwvc2xvdD5cblx0XHRgO1xuXG5cdFx0Ly8gU2V0IGluaXRpYWwgc2VsZWN0aW9uXG5cdFx0dGhpcy5zZWxlY3RlZEluZGV4ID0gMDtcblx0fVxuXG5cdGdldCBzZWxlY3RlZFBhbmVsKClcblx0e1xuXHRcdHJldHVybiB0aGlzLl9zZWxlY3RlZFBhbmVsO1xuXHR9XG5cblx0c2V0IHNlbGVjdGVkUGFuZWwoZWxlbWVudCkgLy8gJ3NpZGUnIG9yICdtYWluJ1xuXHR7XG5cdFx0aWYgKGVsZW1lbnQgIT0gbnVsbCAmJiBlbGVtZW50LnBhcmVudE5vZGUgPT0gdGhpcylcblx0XHR7XG5cdFx0XHR0aGlzLl9zZWxlY3RlZFBhbmVsID0gZWxlbWVudDtcblxuXHRcdFx0Zm9yIChsZXQgZWxlbWVudCBvZiB0aGlzLmNoaWxkcmVuKVxuXHRcdFx0e1xuXHRcdFx0XHRpZiAoZWxlbWVudCA9PSB0aGlzLl9zZWxlY3RlZFBhbmVsKVxuXHRcdFx0XHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgJ3RydWUnKTtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJyk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHRjb25zb2xlLmVycm9yKCdFbGVtZW50IGlzIG5vdCBhIGNoaWxkIG9mIFNpZGViYXJMYXlvdXQnKTtcblx0XHR9XG5cdH1cblxuXHRnZXQgc2VsZWN0ZWRJbmRleCgpXG5cdHtcblx0XHRyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmNoaWxkcmVuKS5pbmRleE9mKHRoaXMuX3NlbGVjdGVkUGFuZWwpO1xuXHR9XG5cblx0c2V0IHNlbGVjdGVkSW5kZXgoaW5kZXgpXG5cdHtcblx0XHRpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPiAwKVxuXHRcdHtcblx0XHRcdGlmICh0aGlzLmNoaWxkcmVuW2luZGV4XSA9PSBudWxsKVxuXHRcdFx0e1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdJbnZhbGlkIFNpZGViYXJMYXlvdXQgaW5kZXgnKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgZWxlbWVudCA9IHRoaXMuY2hpbGRyZW5baW5kZXhdO1xuXHRcdFx0dGhpcy5zZWxlY3RlZFBhbmVsID0gZWxlbWVudDtcblx0XHR9XG5cdH1cbn1cblxuLy8gREVGSU5FIENPTVBPTkVOVFxuaWYgKCF3aW5kb3cuY3VzdG9tRWxlbWVudHMuZ2V0KCdzaWRlYmFyLWxheW91dCcpKVxuXHR3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdzaWRlYmFyLWxheW91dCcsIFNpZGViYXJMYXlvdXQpO1xuIiwiaW1wb3J0IHtCYXNlTW9kdWxlfSBmcm9tICcuL2Jhc2UtbW9kdWxlJztcbmltcG9ydCB7U2lkZWJhckxheW91dH0gZnJvbSAnLi4vY29tcG9uZW50cy9zaWRlYmFyLWxheW91dCc7XG5pbXBvcnQge01hdGNoRXhwcmVzc2lvbkJ1aWxkZXJ9IGZyb20gJy4uL2NvbXBvbmVudHMvbWF0Y2gtZXhwcmVzc2lvbi1idWlsZGVyJztcbmltcG9ydCB7Q29uZmlnSW50ZXJmYWNlQnVpbGRlcn0gZnJvbSAnLi4vdXRpbHMvdWlidWlsZGVyL2NvbmZpZy1pbnRlcmZhY2UtYnVpbGRlcic7XG5pbXBvcnQge2NhcGl0YWxpemVGaXJzdCwgZmlsdGVyQ2xhc3NOYW1lLCByb3VuZFRvRGVjaW1hbHMsIHNjYWxlQnl0ZXN9IGZyb20gJy4uL3V0aWxzL3V0aWxpdGllcyc7XG5pbXBvcnQge1Jvb21Qcm9wZXJ0aWVzRGF0YSxVc2VyUHJvcGVydGllc0RhdGF9IGZyb20gJy4uL3V0aWxzL21hdGNoLXByb3BlcnRpZXMnO1xuaW1wb3J0IHtVc2VyQ291bnRDaGFydH0gZnJvbSAnLi4vY29tcG9uZW50cy9jaGFydHMvdXNlci1jb3VudC1jaGFydCc7XG5pbXBvcnQge2dldFRpbWVSYW5nZVRvb2x0aXBUZW1wbGF0ZSwgZ2V0V1JCeXRlc0xhYmVsVGVtcGxhdGV9IGZyb20gJy4uL2NvbXBvbmVudHMvY2hhcnRzL2NoYXJ0LXV0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgWm9uZU1vbml0b3IgZXh0ZW5kcyBCYXNlTW9kdWxlXG57XG5cdGNvbnN0cnVjdG9yKClcblx0e1xuXHQgICAgc3VwZXIoJ3pvbmVNb25pdG9yJyk7XG5cblx0XHR0aGlzLk1PTklUT1JFRF9UWVBFX1pPTkUgPSAnem9uZSc7XG5cdFx0dGhpcy5NT05JVE9SRURfVFlQRV9ST09NID0gJ3Jvb20nO1xuXHRcdHRoaXMuTU9OSVRPUkVEX1RZUEVfVVNFUiA9ICd1c2VyJztcblxuXHRcdHRoaXMuQU5ZX0xBQkVMID0gJ1thbnldJztcblx0XHR0aGlzLkRFRkFVTFRfR1JPVVBfTkFNRSA9ICdkZWZhdWx0Jztcblx0XHR0aGlzLk1BWF9FWFRFTlNJT05fTE9HX1NJWkUgPSAzMDA7XG5cdFx0dGhpcy5LSUNLX0JBTl9ERUZBVUxUX0RFTEFZID0gNTtcblxuXHRcdC8vIE91dGdvaW5nIHJlcXVlc3RzXG5cdFx0dGhpcy5SRVFfR0VUX0RBVEEgPSAnZ2V0RGF0YSc7XG5cdFx0dGhpcy5SRVFfU0VUX1pPTkVfU0VUVElOR1MgPSAnc2V0Wm9uZVNldHRpbmdzJztcblx0XHR0aGlzLlJFUV9TRVRfUk9PTV9TRVRUSU5HUyA9ICdzZXRSb29tU2V0dGluZ3MnO1xuXHRcdHRoaXMuUkVRX1NFVF9VU0VSX1NFVFRJTkdTID0gJ3NldFVzZXJTZXR0aW5ncyc7XG5cdFx0dGhpcy5SRVFfUkVMT0FEX1pPTkVfRVhUID0gJ3JlbG9hZFpvbmVFeHQnO1xuXHRcdHRoaXMuUkVRX1JFTE9BRF9XT1JEUyA9ICdyZWxvYWRXb3Jkcyc7XG5cdFx0dGhpcy5SRVFfS0lDS19VU0VSID0gJ2tpY2tVc2VyJztcblx0XHR0aGlzLlJFUV9CQU5fVVNFUiA9ICdiYW5Vc2VyJztcblx0XHR0aGlzLlJFUV9HRVRfUk9PTV9DT05GSUcgPSAnZ2V0Um9vbUNvbmZpZyc7XG5cdFx0dGhpcy5SRVFfQ1JFQVRFX1JPT00gPSAnY3JlYXRlUm9vbSc7XG5cdFx0dGhpcy5SRVFfUkVNT1ZFX1JPT00gPSAncmVtb3ZlUm9vbSc7XG5cdFx0dGhpcy5SRVFfQURNSU5fTVNHID0gJ2FkbWluTXNnJztcblxuXHRcdC8vIEluY29taW5nIHJlc3BvbnNlc1xuXHRcdHRoaXMuUkVTUF9EQVRBID0gJ2RhdGEnO1xuXHRcdHRoaXMuUkVTUF9VTkVYUEVDVEVEX0VSUk9SID0gJ3VuZXhwRXJyb3InO1xuXHRcdHRoaXMuUkVTUF9VUERBVEVfRVJST1IgPSAndXBkYXRlRXJyb3InO1xuXHRcdHRoaXMuUkVTUF9ST09NX0NPTkZJRyA9ICdyb29tQ29uZmlnJztcblx0XHR0aGlzLlJFU1BfUk9PTV9DT05GSUdfRVJST1IgPSAncm9vbUNvbmZpZ0Vycic7XG5cdFx0dGhpcy5SRVNQX1JPT01fQ1JFQVRFRCA9ICdyb29tQ3JlYXRlZCc7XG5cdFx0dGhpcy5SRVNQX1JPT01fQ1JFQVRJT05fRVJST1IgPSAncm9vbUVycm9yJztcblx0XHR0aGlzLlJFU1BfTE9HX01FU1NBR0VTID0gJ2xvZyc7IC8vIFRoaXMgcmVzcG9uc2UgZG9lc24ndCBoYXZlIGEgY29ycmVzcG9uZGluZyByZXF1ZXN0IGJlY2F1c2UgaXQgaXMgbWFuYWdlZCBieSBhIHNlcnZlciBldmVudCBsaXN0ZW5lclxuXG5cdFx0dGhpcy5fY3VycmVudFJlcXVlc3RJZCA9IC0xO1xuXHR9XG5cblx0Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0Ly8gQ09NTU9OIE1PRFVMRSBJTlRFUkZBQ0UgTUVUSE9EU1xuXHQvLyBUaGlzIG1lbWJlcnMgYXJlIHVzZWQgYnkgdGhlIG1haW4gY29udHJvbGxlclxuXHQvLyB0byBjb21tdW5pY2F0ZSB3aXRoIHRoZSBtb2R1bGUncyBjb250cm9sbGVyLlxuXHQvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdGluaXRpYWxpemUoaWREYXRhLCBzaGVsbENvbnRyb2xsZXIpXG5cdHtcblx0XHQvLyBDYWxsIHN1cGVyIG1ldGhvZFxuXHRcdHN1cGVyLmluaXRpYWxpemUoaWREYXRhLCBzaGVsbENvbnRyb2xsZXIpO1xuXG5cdFx0Ly8gU2V0IG1vbml0b3JpbmcgaW50ZXJmYWNlXG5cdFx0dGhpcy5fc2V0TW9uaXRvcmluZ0ludGVyZmFjZSgpO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSBwcm9ncmVzcyBiYXJcblx0XHQkKCcjem5tLXByb2dyZXNzQmFyJykua2VuZG9Qcm9ncmVzc0Jhcih7XG5cdFx0XHRtaW46IDAsXG4gICAgICAgICAgICBtYXg6IDEwMCxcblx0XHRcdHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgIHR5cGU6ICd2YWx1ZScsXG4gICAgICAgICAgICBhbmltYXRpb246IHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogNDAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG5cdFx0Ly8gTElTVFNcblxuXHRcdC8vIEluaXRpYWxpemUgaW50ZXJ2YWwgZHJvcGRvd25cblx0XHR0aGlzLl9pbnRlcnZhbERyb3BEb3duID0gJCgnI3pubS1pbnRlcnZhbEREJykua2VuZG9Ecm9wRG93bkxpc3Qoe1xuXHRcdFx0dmFsdWVUZW1wbGF0ZTogJzxzcGFuIGNsYXNzPVwidGV4dC1tdXRlZCBwci0xXCI+SW50ZXJ2YWw6PC9zcGFuPjxzcGFuPiM6ZGF0YS50ZXh0Izwvc3Bhbj4nLFxuXHRcdFx0Y2hhbmdlOiAkLnByb3h5KHRoaXMuX29uVXBkYXRlSW50ZXJ2YWxDaGFuZ2UsIHRoaXMpXG5cdFx0fSkuZGF0YSgna2VuZG9Ecm9wRG93bkxpc3QnKTtcblxuXHRcdC8vIEluaXRpYWxpemUgcGFuZSBiYXJcblx0XHR0aGlzLl9hY2NvcmRpb24gPSAkKCcjem5tLXBhbmVsYmFyJykua2VuZG9QYW5lbEJhcih7XG4gICAgICAgICAgICBleHBhbmRNb2RlOiAnc2luZ2xlJyxcblx0XHRcdGNoYW5nZTogJC5wcm94eSh0aGlzLl9vbkVudGl0aWVzUGFuZWxDaGFuZ2UsIHRoaXMpXG4gICAgICAgIH0pLmRhdGEoJ2tlbmRvUGFuZWxCYXInKTtcblxuXHRcdC8vIEluaXRpYWxpemUgbGlzdHNcblx0XHR0aGlzLl96b25lTGlzdEJveCA9ICQoXCIjem5tLXpvbmVMaXN0XCIpLmtlbmRvTGlzdEJveCh7XG5cdFx0XHR0ZW1wbGF0ZTogJzxkaXY+IzpkYXRhLm5hbWUjICgjOmRhdGEudXNlcnMjKTwvZGl2PicsXG5cdFx0XHRjaGFuZ2U6ICQucHJveHkodGhpcy5fb25ab25lU2VsZWN0ZWQsIHRoaXMpXG5cdFx0fSkuZGF0YSgna2VuZG9MaXN0Qm94Jyk7XG5cblx0XHR0aGlzLl96b25lTGlzdEJveC53cmFwcGVyLmZpbmQoJy5rLWxpc3QnKS5vbignZGJsY2xpY2snLCAnLmstaXRlbScsICQucHJveHkodGhpcy5fb25Nb25pdG9yU2VsZWN0aW9uQnRDbGljaywgdGhpcykpO1xuXG5cdFx0dGhpcy5fcm9vbUxpc3RCb3ggPSAkKFwiI3pubS1yb29tTGlzdFwiKS5rZW5kb0xpc3RCb3goe1xuXHRcdFx0dGVtcGxhdGU6ICc8ZGl2PiM6ZGF0YS5uYW1lIyAoIzpkYXRhLnVzZXJzIyk8L2Rpdj4nLFxuXHRcdFx0Y2hhbmdlOiAkLnByb3h5KHRoaXMuX29uUm9vbVNlbGVjdGVkLCB0aGlzKVxuXHRcdH0pLmRhdGEoJ2tlbmRvTGlzdEJveCcpO1xuXG5cdFx0dGhpcy5fcm9vbUxpc3RCb3gud3JhcHBlci5maW5kKCcuay1saXN0Jykub24oJ2RibGNsaWNrJywgJy5rLWl0ZW0nLCAkLnByb3h5KHRoaXMuX29uTW9uaXRvclNlbGVjdGlvbkJ0Q2xpY2ssIHRoaXMpKTtcblxuXHRcdHRoaXMuX3VzZXJMaXN0Qm94ID0gJChcIiN6bm0tdXNlckxpc3RcIikua2VuZG9MaXN0Qm94KHtcblx0XHRcdHRlbXBsYXRlOiAnPGRpdj4jOmRhdGEubmFtZSM8L2Rpdj4nLFxuXHRcdFx0Y2hhbmdlOiAkLnByb3h5KHRoaXMuX29uVXNlclNlbGVjdGVkLCB0aGlzKVxuXHRcdH0pLmRhdGEoJ2tlbmRvTGlzdEJveCcpO1xuXG5cdFx0dGhpcy5fdXNlckxpc3RCb3gud3JhcHBlci5maW5kKCcuay1saXN0Jykub24oJ2RibGNsaWNrJywgJy5rLWl0ZW0nLCAkLnByb3h5KHRoaXMuX29uTW9uaXRvclNlbGVjdGlvbkJ0Q2xpY2ssIHRoaXMpKTtcblxuXHRcdC8vIEluaXRpYWxpemUgUm9vbSBHcm91cHMgZG9ycGRvd25cblx0XHR0aGlzLl9ncm91cHNEcm9wRG93biA9ICQoJyN6bm0tcm9vbUdyb3Vwc0REJykua2VuZG9Ecm9wRG93bkxpc3Qoe1xuXHRcdFx0ZGF0YVRleHRGaWVsZDogJ2xhYmVsJyxcbiAgXHRcdFx0ZGF0YVZhbHVlRmllbGQ6ICduYW1lJyxcblx0XHRcdGNoYW5nZTogJC5wcm94eSh0aGlzLl9vbkdyb3VwQ2hhbmdlLCB0aGlzKVxuXHRcdH0pLmRhdGEoJ2tlbmRvRHJvcERvd25MaXN0Jyk7XG5cblx0XHQvLyBCdWlsZCBpbml0aWFsIGdyb3VwcyBsaXN0XG5cdFx0dGhpcy5fc2V0R3JvdXBzRGF0YVByb3ZpZGVyKG51bGwpO1xuXG5cdFx0Ly8gLy8gQ3JlYXRlIGludGVyZmFjZSBidWlsZGVyIGluc3RhbmNlc1xuXHRcdHRoaXMuX2ludGVyZmFjZUJ1aWxkZXIgPSBuZXcgQ29uZmlnSW50ZXJmYWNlQnVpbGRlcigpO1xuXHRcdHRoaXMuX3Jvb21DcmVhdGlvbklCdWlsZGVyID0gbmV3IENvbmZpZ0ludGVyZmFjZUJ1aWxkZXIoKTtcblxuXHRcdC8vIEFkZCBsaXN0ZW5lciB0byBzaG93IGxpbWl0IHdhcm5pbmcgdG9vbHRpcHNcblx0XHQkKCcjem5tLXBhbmVsYmFyJykua2VuZG9Ub29sdGlwKHtcblx0XHRcdGZpbHRlcjogJ2lbdGl0bGVdLmxpbWl0LXdhcm5pbmcnLFxuXHRcdFx0cG9zaXRpb246ICdyaWdodCcsXG5cdFx0XHR3aWR0aDogJzI1MHB4Jyxcblx0XHRcdGNvbnRlbnQ6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0cmV0dXJuIGA8ZGl2IGNsYXNzPVwiaGVscC10b29sdGlwXCI+JHtlLnRhcmdldC5kYXRhKCd0aXRsZScpfTwvZGl2PmA7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBST09NIENSRUFUSU9OIFBBTkVMXG5cblx0XHQvLyBBZGQgY2xpY2sgbGlzdGVuZXIgdG8gQ3JlYXRlICYgUmVtb3ZlIFJvb20gYnV0dG9uc1xuXHRcdCQoJyN6bm0tY3JlYXRlUm9vbUJ0Jykub24oJ2NsaWNrJywgJC5wcm94eSh0aGlzLl9vbkNyZWF0ZVJvb21CdENsaWNrLCB0aGlzKSk7XG5cdFx0JCgnI3pubS1yZW1vdmVSb29tQnQnKS5vbignY2xpY2snLCAkLnByb3h5KHRoaXMuX29uUmVtb3ZlUm9vbUJ0Q2xpY2ssIHRoaXMpKTtcblxuXHRcdC8vIENvbmZpZ3VyZSByb29tIGNyZWF0aW9uIHBhbmVsXG5cdFx0JCgnI3pubS1jcmVhdGVSb29tTW9kYWwnKS5tb2RhbCh7XG5cdFx0XHRiYWNrZHJvcDogJ3N0YXRpYycsXG5cdFx0XHRrZXlib2FyZDogZmFsc2UsXG5cdFx0XHRzaG93OiBmYWxzZSxcblx0XHR9KTtcblxuXHRcdC8vIEFkZCBsaXN0ZW5lciBmb3Igcm9vbSBjcmVhdGlvbiBwYW5lbCdzIGNyZWF0ZSBidXR0b24gY2xpY2tcblx0XHQkKCcjem5tLXJvb21DcmVhdG9yQ3JlYXRlQnQnKS5vbignY2xpY2snLCAkLnByb3h5KHRoaXMuX29uUm9vbUNyZWF0b3JDcmVhdGVCdENsaWNrLCB0aGlzKSk7XG5cblx0XHQvLyBBZGQgbGlzdGVuZXIgZm9yIHJvb20gY3JlYXRpb24gcGFuZWwgaGlkZVxuXHRcdCQoJyN6bm0tY3JlYXRlUm9vbU1vZGFsJykub24oJ2hpZGRlbi5icy5tb2RhbCcsICQucHJveHkodGhpcy5fb25DcmVhdGVSb29tTW9kYWxIaWRkZW4sIHRoaXMpKTtcblxuXHRcdC8vIFJPT00gJiBVU0VSIEZJTFRFUklORyBQQU5FTFNcblxuXHRcdC8vIFNldHVwIG1hdGNoIGV4cHJlc3Npb24gYnVpbGRlciBwYW5lbCBmb3Igcm9vbXNcblx0XHR0aGlzLl9yb29tRmlsdGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3pubS1yb29tRmlsdGVyJyk7XG5cdFx0dGhpcy5fcm9vbUZpbHRlci50aXRsZSA9ICdSb29tIEZpbHRlciBFeHByZXNzaW9uIEJ1aWxkZXInO1xuXHRcdHRoaXMuX3Jvb21GaWx0ZXIucHJlZGVmaW5lZFZhck5hbWVzID0gUm9vbVByb3BlcnRpZXNEYXRhLnByb3BlcnRpZXNBcnJheTtcblx0XHQkKHRoaXMuX3Jvb21GaWx0ZXIpLm9uKHRoaXMuX3Jvb21GaWx0ZXIuRVhQUkVTU0lPTl9VUERBVEVEX0VWRU5ULCAkLnByb3h5KHRoaXMuX29uUm9vbUZpbHRlclVwZGF0ZWQsIHRoaXMpKTtcblxuXHRcdCQoJyN6bm0tZmlsdGVyUm9vbUJ0Jykub24oJ2NsaWNrJywgJC5wcm94eSh0aGlzLl9vblNob3dSb29tRmlsdGVyQnRDbGljaywgdGhpcykpO1xuXHRcdCQoJyN6bm0tYXBwbHlSb29tRmlsdGVyQ0InKS5vbignY2hhbmdlJywgJC5wcm94eSh0aGlzLl9vbkFwcGx5QnRDaGFuZ2UsIHRoaXMpKTtcblxuXHRcdC8vIFNldHVwIG1hdGNoIGV4cHJlc3Npb24gYnVpbGRlciBwYW5lbCBmb3IgdXNlcnNcblx0XHR0aGlzLl91c2VyRmlsdGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3pubS11c2VyRmlsdGVyJyk7XG5cdFx0dGhpcy5fdXNlckZpbHRlci50aXRsZSA9ICdVc2VyIEZpbHRlciBFeHByZXNzaW9uIEJ1aWxkZXInO1xuXHRcdHRoaXMuX3VzZXJGaWx0ZXIucHJlZGVmaW5lZFZhck5hbWVzID0gVXNlclByb3BlcnRpZXNEYXRhLnByb3BlcnRpZXNBcnJheTtcblx0XHQkKHRoaXMuX3VzZXJGaWx0ZXIpLm9uKHRoaXMuX3VzZXJGaWx0ZXIuRVhQUkVTU0lPTl9VUERBVEVEX0VWRU5ULCAkLnByb3h5KHRoaXMuX29uVXNlckZpbHRlclVwZGF0ZWQsIHRoaXMpKTtcblxuXHRcdCQoJyN6bm0tZmlsdGVyVXNlckJ0Jykub24oJ2NsaWNrJywgJC5wcm94eSh0aGlzLl9vblNob3dVc2VyRmlsdGVyQnRDbGljaywgdGhpcykpO1xuXHRcdCQoJyN6bm0tYXBwbHlVc2VyRmlsdGVyQ0InKS5vbignY2hhbmdlJywgJC5wcm94eSh0aGlzLl9vbkFwcGx5QnRDaGFuZ2UsIHRoaXMpKTtcblxuXHRcdC8vIE1BSU4gQ09OVFJPTFNcblxuXHRcdCQoJyN6bm0tbW9uaXRvckJ0Jykub24oJ2NsaWNrJywgJC5wcm94eSh0aGlzLl9vbk1vbml0b3JTZWxlY3Rpb25CdENsaWNrLCB0aGlzKSk7XG5cdFx0JCgnI3pubS1zZW5kTWVzc2FnZUJ0Jykub24oJ2NsaWNrJywgJC5wcm94eSh0aGlzLl9vblNlbmRBZG1pbk1zZ0J0Q2xpY2ssIHRoaXMpKTtcblx0XHQkKCcjem5tLW1lc3NhZ2VJbicpLm9uKCdrZXl1cCcsICQucHJveHkodGhpcy5fb25TZW5kQWRtaW5Nc2dJbktleVVwLCB0aGlzKSk7XG5cblx0XHQvLyBNT05JVE9SSU5HIENPTlRST0xTXG5cblx0XHQkKCcjem5tLWNsb3NlTW9uaXRvckJ0Jykub24oJ2NsaWNrJywgJC5wcm94eSh0aGlzLl9vbkNsb3NlTW9uaXRvckJ0Q2xpY2ssIHRoaXMpKTtcblx0XHQkKCcjem5tLWVkaXRCdCcpLm9uKCdjbGljaycsICQucHJveHkodGhpcy5fb25FZGl0QnRDbGljaywgdGhpcykpO1xuXHRcdCQoJyN6bm0tY2FuY2VsQnQnKS5vbignY2xpY2snLCAkLnByb3h5KHRoaXMuX29uQ2FuY2VsQnRDbGljaywgdGhpcykpO1xuXHRcdCQoJyN6bm0tc3VibWl0QnQnKS5vbignY2xpY2snLCAkLnByb3h5KHRoaXMuX29uU3VibWl0QnRDbGljaywgdGhpcykpO1xuXG5cdFx0Ly8gSGlkZSBlZGl0IGNvbnRyb2xzXG5cdFx0JCgnI3pubS1lZGl0Q29udHJvbHMnKS5oaWRlKCk7XG5cblx0XHQvLyBUT09MVElQU1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSBoZWxwIHRvb2x0aXBzXG5cdFx0JCgnLmN1c3RvbS10YWItY29udGVudCcpLmtlbmRvVG9vbHRpcCh7XG5cdFx0XHRmaWx0ZXI6ICdpW3RpdGxlXS5oZWxwJyxcblx0XHRcdHBvc2l0aW9uOiAncmlnaHQnLFxuXHRcdFx0Y29udGVudDogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRyZXR1cm4gYDxkaXYgY2xhc3M9XCJoZWxwLXRvb2x0aXBcIj4ke2UudGFyZ2V0LmRhdGEoJ3RpdGxlJyl9PC9kaXY+YDtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIFpPTkUgTU9OSVRPUiAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHRcdC8vIFNldCByZWZlcmVuY2UgdG8gdXNlciBjb3VudCBjaGFydFxuXHRcdHRoaXMuX3VzZXJDb3VudENoYXJ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3pubS11c2VyQ291bnRDaGFydCcpO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSB0aW1lIHJhbmdlIHNsaWRlclxuXHRcdHRoaXMuX3RpbWVTbGlkZXIgPSAkKCcjem5tLXRpbWVTbGlkZXInKS5rZW5kb1JhbmdlU2xpZGVyKHtcblx0XHRcdG1pbjogLTI0LFxuICAgICAgICAgICAgbWF4OiAwLFxuICAgICAgICAgICAgc21hbGxTdGVwOiAxLFxuICAgICAgICAgICAgbGFyZ2VTdGVwOiAwLFxuXHRcdFx0Y2hhbmdlOiAkLnByb3h5KHRoaXMuX29uVGltZVJhbmdlQ2hhbmdlLCB0aGlzKSxcblx0XHRcdHRvb2x0aXA6IHtcblx0XHRcdFx0dGVtcGxhdGU6IGdldFRpbWVSYW5nZVRvb2x0aXBUZW1wbGF0ZSgpXG5cdFx0XHR9LFxuXHRcdFx0bGVmdERyYWdIYW5kbGVUaXRsZTogJ0RyYWcnLFxuXHRcdFx0cmlnaHREcmFnSGFuZGxlVGl0bGU6ICdEcmFnJyxcblx0XHR9KS5kYXRhKCdrZW5kb1JhbmdlU2xpZGVyJyk7XG5cblx0XHQvLyBSZXNldCB0aW1lIHJhbmdlIG9uIHVzZXIgY291bnQgY2hhcnRcblx0XHR0aGlzLl9vblRpbWVSYW5nZUNoYW5nZSgpO1xuXG5cdFx0Ly8gQWRkIGJ1dHRvbiBjbGljayBsaXN0ZW5lcnNcblx0XHQkKCcjem5tLXJlbG9hZFdvcmRzQnQnKS5vbignY2xpY2snLCAkLnByb3h5KHRoaXMuX29uV29yZHNSZWxvYWRCdENsaWNrLCB0aGlzKSk7XG5cdFx0JCgnI3pubS1yZWxvYWRab25lRXh0QnQnKS5vbignY2xpY2snLCAkLnByb3h5KHRoaXMuX29uWm9uZUV4dFJlbG9hZEJ0Q2xpY2ssIHRoaXMpKTtcblxuXHRcdC8vIEluaXRpYWxpemUgZXh0ZW5zaW9uIGxvZyBncmlkXG5cdFx0dGhpcy5fem9uZUV4dExvZ0dyaWQgPSAkKCcjem5tLXpvbmVFeHRMb2dHcmlkJykua2VuZG9HcmlkKHtcblx0XHRcdGRhdGFTb3VyY2U6IFtdLFxuXHRcdFx0cmVzaXphYmxlOiB0cnVlLFxuXHRcdFx0c2VsZWN0YWJsZTogZmFsc2UsXG5cdFx0XHRub1JlY29yZHM6IHtcblx0XHRcdFx0dGVtcGxhdGU6ICdObyBlbnRyaWVzLidcblx0XHRcdH0sXG5cdFx0XHRjb2x1bW5zOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRmaWVsZDogJ3RpbWVzdGFtcCcsXG5cdFx0XHRcdFx0dGl0bGU6ICdUaW1lc3RhbXAnLFxuXHRcdFx0XHRcdHdpZHRoOiAxODBcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGZpZWxkOiAnbGV2ZWwnLFxuXHRcdFx0XHRcdHRpdGxlOiAnTGV2ZWwnLFxuXHRcdFx0XHRcdHdpZHRoOiAxMDBcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGZpZWxkOiAnbWVzc2FnZScsXG5cdFx0XHRcdFx0dGl0bGU6ICdNZXNzYWdlJyxcblx0XHRcdFx0XHR3aWR0aDogNDAwXG5cdFx0XHRcdH0sXG5cdFx0XHRdLFxuXHRcdFx0ZGF0YUJvdW5kOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICB0aGlzLmNvbnRlbnQuc2Nyb2xsVG9wKHRoaXMudGJvZHkuaGVpZ2h0KCkpOyAvLyBTY3JvbGwgdG8gYm90dG9tXG5cdFx0XHR9XG5cdFx0fSkuZGF0YSgna2VuZG9HcmlkJyk7XG5cblx0XHQvLyBST09NIE1PTklUT1IgLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0XHQvLyBJbml0aWFsaXplIGV4dGVuc2lvbiBsb2cgZ3JpZFxuXHRcdHRoaXMuX3Jvb21FeHRMb2dHcmlkID0gJCgnI3pubS1yb29tRXh0TG9nR3JpZCcpLmtlbmRvR3JpZCh7XG5cdFx0XHRkYXRhU291cmNlOiBbXSxcblx0XHRcdHJlc2l6YWJsZTogdHJ1ZSxcblx0XHRcdHNlbGVjdGFibGU6IGZhbHNlLFxuXHRcdFx0bm9SZWNvcmRzOiB7XG5cdFx0XHRcdHRlbXBsYXRlOiAnTm8gZW50cmllcy4nXG5cdFx0XHR9LFxuXHRcdFx0Y29sdW1uczogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0ZmllbGQ6ICd0aW1lc3RhbXAnLFxuXHRcdFx0XHRcdHRpdGxlOiAnVGltZXN0YW1wJyxcblx0XHRcdFx0XHR3aWR0aDogMTgwXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRmaWVsZDogJ2xldmVsJyxcblx0XHRcdFx0XHR0aXRsZTogJ0xldmVsJyxcblx0XHRcdFx0XHR3aWR0aDogMTAwXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRmaWVsZDogJ21lc3NhZ2UnLFxuXHRcdFx0XHRcdHRpdGxlOiAnTWVzc2FnZScsXG5cdFx0XHRcdFx0d2lkdGg6IDQwMFxuXHRcdFx0XHR9LFxuXHRcdFx0XSxcblx0XHRcdGRhdGFCb3VuZDogZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgdGhpcy5jb250ZW50LnNjcm9sbFRvcCh0aGlzLnRib2R5LmhlaWdodCgpKTsgLy8gU2Nyb2xsIHRvIGJvdHRvbVxuXHRcdFx0fVxuXHRcdH0pLmRhdGEoJ2tlbmRvR3JpZCcpO1xuXG5cdFx0Ly8gVVNFUiBNT05JVE9SIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdFx0dGhpcy5fa2lja0RlbGF5SW4gPSAkKCcjem5tLWtpY2tEZWxheU5TJykua2VuZG9OdW1lcmljVGV4dEJveCh7XG5cdFx0ICAgIG1pbjogMCxcblx0XHQgICAgc3RlcDogMSxcblx0XHQgICAgZm9ybWF0OiAnIycsXG5cdFx0XHRwbGFjZWhvbGRlcjogJ0RlbGF5IChzKSdcblx0XHR9KS5kYXRhKCdrZW5kb051bWVyaWNUZXh0Qm94Jyk7XG5cblx0XHR0aGlzLl9iYW5Nb2RlRGQgPSAkKCcjem5tLWJhbk1vZGVERCcpLmtlbmRvRHJvcERvd25MaXN0KHtcblx0XHRcdGRhdGFTb3VyY2U6IFsnSVAnLCAnTkFNRSddLFxuXHRcdFx0YXV0b1dpZHRoOiB0cnVlLFxuXHRcdFx0b3B0aW9uTGFiZWw6IHtcblx0XHRcdFx0dGV4dDogJ01vZGUnXG5cdFx0XHR9LFxuXHRcdFx0b3B0aW9uTGFiZWxUZW1wbGF0ZTogJzxzcGFuIGNsYXNzPVwidGV4dC1tdXRlZFwiPiM6dGV4dCM8L3NwYW4+Jyxcblx0XHR9KS5kYXRhKCdrZW5kb0Ryb3BEb3duTGlzdCcpO1xuXG5cdFx0dGhpcy5fYmFuRHVyVW5pdERkID0gJCgnI3pubS1iYW5EdXJhdGlvblVuaXRERCcpLmtlbmRvRHJvcERvd25MaXN0KHtcblx0XHRcdGF1dG9XaWR0aDogdHJ1ZSxcblx0XHR9KS5kYXRhKCdrZW5kb0Ryb3BEb3duTGlzdCcpO1xuXG5cdFx0dGhpcy5fYmFuRHVyYXRpb25JbiA9ICQoJyN6bm0tYmFuRHVyYXRpb25OUycpLmtlbmRvTnVtZXJpY1RleHRCb3goe1xuXHRcdCAgICBtaW46IDEsXG5cdFx0ICAgIHN0ZXA6IDEsXG5cdFx0ICAgIGZvcm1hdDogJyMnLFxuXHRcdFx0cGxhY2Vob2xkZXI6ICdEdXJhdGlvbidcblx0XHR9KS5kYXRhKCdrZW5kb051bWVyaWNUZXh0Qm94Jyk7XG5cblx0XHR0aGlzLl9iYW5EZWxheUluID0gJCgnI3pubS1iYW5EZWxheU5TJykua2VuZG9OdW1lcmljVGV4dEJveCh7XG5cdFx0ICAgIG1pbjogMCxcblx0XHQgICAgc3RlcDogMSxcblx0XHQgICAgZm9ybWF0OiAnIycsXG5cdFx0XHRwbGFjZWhvbGRlcjogJ0RlbGF5IChzKSdcblx0XHR9KS5kYXRhKCdrZW5kb051bWVyaWNUZXh0Qm94Jyk7XG5cblx0XHQvLyBBZGQgYnV0dG9uIGNsaWNrIGxpc3RlbmVyc1xuXHRcdCQoJyN6bm0ta2lja0J0Jykub24oJ2NsaWNrJywgJC5wcm94eSh0aGlzLl9vbktpY2tCdENsaWNrLCB0aGlzKSk7XG5cdFx0JCgnI3pubS1iYW5CdCcpLm9uKCdjbGljaycsICQucHJveHkodGhpcy5fb25CYW5CdENsaWNrLCB0aGlzKSk7XG5cblx0XHQvLyBDaGFydHNcblxuXHRcdHRoaXMuX3BhY2tldFF1ZXVlQ2hhcnQgPSAkKCcjem5tLXBhY2tldFF1ZXVlQ2hhcnQnKS5rZW5kb0NoYXJ0KHtcblx0XHRcdHRyYW5zaXRpb25zOiBmYWxzZSxcblx0XHRcdGNoYXJ0QXJlYToge1xuXHRcdFx0XHRoZWlnaHQ6IDEwMFxuXHRcdFx0fSxcblx0ICAgICAgICBsZWdlbmQ6IHtcblx0ICAgICAgICAgICAgdmlzaWJsZTogZmFsc2Vcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHNlcmllc0RlZmF1bHRzOiB7XG5cdCAgICAgICAgICAgIHR5cGU6ICdiYXInLFxuXHQgICAgICAgICAgICBsYWJlbHM6IHtcblx0ICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsXG5cdCAgICAgICAgICAgICAgICBmb3JtYXQ6ICd7MH0lJyxcblx0ICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd0cmFuc3BhcmVudCcsXG5cdFx0XHRcdFx0cG9zaXRpb246ICdpbnNpZGVCYXNlJ1xuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHRnYXA6IC41LFxuXHRcdFx0XHRzcGFjaW5nOiAwLFxuXHRcdFx0XHRvdmVybGF5OiB7XG5cdFx0XHRcdFx0Z3JhZGllbnQ6ICdub25lJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRib3JkZXI6IHtcblx0XHRcdFx0XHR3aWR0aDogMFxuXHRcdFx0XHR9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBzZXJpZXM6IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6ICdQYWNrZXQgcXVldWUnLFxuXHRcdCAgICAgICAgICAgIGZpZWxkOiAndmFsdWUnLFxuXHRcdCAgICAgICAgICAgIGNhdGVnb3J5RmllbGQ6ICdjYXRlZ29yeScsXG5cdFx0XHRcdFx0Y29sb3I6ICcjRkI3RDMzJ1xuXHRcdCAgICAgICAgfVxuXHRcdFx0XSxcblx0ICAgICAgICB2YWx1ZUF4aXM6IHtcblx0ICAgICAgICAgICAgbGFiZWxzOiB7XG5cdCAgICAgICAgICAgICAgICBmb3JtYXQ6ICd7MH0lJ1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBsaW5lOiB7XG5cdCAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHRtaW46IDAsXG5cdCAgICBcdFx0bWF4OiAxMDBcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGNhdGVnb3J5QXhpczoge1xuXHQgICAgICAgICAgICBtYWpvckdyaWRMaW5lczoge1xuXHQgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2Vcblx0ICAgICAgICAgICAgfSxcblx0XHRcdFx0bWFqb3JUaWNrczoge1xuXHRcdFx0XHRcdHZpc2libGU6IGZhbHNlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGxhYmVsczoge1xuXHRcdFx0XHRcdHZpc2libGU6IGZhbHNlXG5cdFx0XHRcdH1cblx0ICAgICAgICB9LFxuXHRcdFx0dG9vbHRpcDoge1xuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0ICAgICAgICB9XG5cdCAgICB9KS5kYXRhKCdrZW5kb0NoYXJ0Jyk7XG5cblx0XHR0aGlzLl9kcm9wcGVkTXNnQ2hhcnQgPSAkKCcjem5tLWRyb3BwZWRNc2dDaGFydCcpLmtlbmRvQ2hhcnQoe1xuXHRcdFx0dHJhbnNpdGlvbnM6IGZhbHNlLFxuXHRcdFx0Y2hhcnRBcmVhOiB7XG5cdFx0XHRcdGhlaWdodDogMTAwXG5cdFx0XHR9LFxuXHQgICAgICAgIGxlZ2VuZDoge1xuXHQgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2VyaWVzRGVmYXVsdHM6IHtcblx0ICAgICAgICAgICAgdHlwZTogJ2JhcicsXG5cdCAgICAgICAgICAgIGxhYmVsczoge1xuXHQgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcblx0ICAgICAgICAgICAgICAgIGZvcm1hdDogJ3swfScsXG5cdCAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnLFxuXHRcdFx0XHRcdHBvc2l0aW9uOiAnaW5zaWRlQmFzZScsXG5cdCAgICAgICAgICAgIH0sXG5cdFx0XHRcdGdhcDogLjUsXG5cdFx0XHRcdHNwYWNpbmc6IDAsXG5cdFx0XHRcdG92ZXJsYXk6IHtcblx0XHRcdFx0XHRncmFkaWVudDogJ25vbmUnXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGJvcmRlcjoge1xuXHRcdFx0XHRcdHdpZHRoOiAwXG5cdFx0XHRcdH1cblx0ICAgICAgICB9LFxuXHQgICAgICAgIHNlcmllczogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJ0Ryb3BwZWQgbWVzc2FnZXMnLFxuXHRcdCAgICAgICAgICAgIGZpZWxkOiAndmFsdWUnLFxuXHRcdCAgICAgICAgICAgIGNhdGVnb3J5RmllbGQ6ICdjYXRlZ29yeScsXG5cdFx0XHRcdFx0Y29sb3I6ICcjRkI3RDMzJ1xuXHRcdCAgICAgICAgfVxuXHRcdFx0XSxcblx0ICAgICAgICB2YWx1ZUF4aXM6IHtcblx0ICAgICAgICAgICAgbGFiZWxzOiB7XG5cdCAgICAgICAgICAgICAgICBmb3JtYXQ6ICd7MH0nXG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIGxpbmU6IHtcblx0ICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG5cdCAgICAgICAgICAgIH0sXG5cdFx0XHRcdG1pbjogMCxcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGNhdGVnb3J5QXhpczoge1xuXHQgICAgICAgICAgICBtYWpvckdyaWRMaW5lczoge1xuXHQgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2Vcblx0ICAgICAgICAgICAgfSxcblx0XHRcdFx0bWFqb3JUaWNrczoge1xuXHRcdFx0XHRcdHZpc2libGU6IGZhbHNlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGxhYmVsczoge1xuXHRcdFx0XHRcdHZpc2libGU6IGZhbHNlXG5cdFx0XHRcdH1cblx0ICAgICAgICB9LFxuXHRcdFx0dG9vbHRpcDoge1xuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0ICAgICAgICB9XG5cdCAgICB9KS5kYXRhKCdrZW5kb0NoYXJ0Jyk7XG5cblx0XHR0aGlzLl93cml0dGVuRGF0YUNoYXJ0ID0gJCgnI3pubS13cml0dGVuRGF0YUNoYXJ0Jykua2VuZG9DaGFydCh7XG5cdFx0XHR0cmFuc2l0aW9uczogZmFsc2UsXG5cdFx0XHRjaGFydEFyZWE6IHtcblx0XHRcdFx0aGVpZ2h0OiAxMDBcblx0XHRcdH0sXG5cdCAgICAgICAgbGVnZW5kOiB7XG5cdCAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBzZXJpZXNEZWZhdWx0czoge1xuXHQgICAgICAgICAgICB0eXBlOiAnYmFyJyxcblx0ICAgICAgICAgICAgbGFiZWxzOiB7XG5cdCAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxuXHQgICAgICAgICAgICAgICAgZm9ybWF0OiAnezB9Jyxcblx0ICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd0cmFuc3BhcmVudCcsXG5cdFx0XHRcdFx0cG9zaXRpb246ICdpbnNpZGVCYXNlJyxcblx0XHRcdFx0XHR0ZW1wbGF0ZTogZ2V0V1JCeXRlc0xhYmVsVGVtcGxhdGUoKSxcblx0ICAgICAgICAgICAgfSxcblx0XHRcdFx0Z2FwOiAuNSxcblx0XHRcdFx0c3BhY2luZzogMCxcblx0XHRcdFx0b3ZlcmxheToge1xuXHRcdFx0XHRcdGdyYWRpZW50OiAnbm9uZSdcblx0XHRcdFx0fSxcblx0XHRcdFx0Ym9yZGVyOiB7XG5cdFx0XHRcdFx0d2lkdGg6IDBcblx0XHRcdFx0fVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2VyaWVzOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiAnV3JpdHRlbiBkYXRhJyxcblx0XHQgICAgICAgICAgICBmaWVsZDogJ3ZhbHVlJyxcblx0XHQgICAgICAgICAgICBjYXRlZ29yeUZpZWxkOiAnY2F0ZWdvcnknLFxuXHRcdFx0XHRcdGNvbG9yOiAnI0ZCN0QzMydcblx0XHQgICAgICAgIH1cblx0XHRcdF0sXG5cdCAgICAgICAgdmFsdWVBeGlzOiB7XG5cdCAgICAgICAgICAgIGxhYmVsczoge1xuXHQgICAgICAgICAgICAgICAgZm9ybWF0OiAnezB9J1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBsaW5lOiB7XG5cdCAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHRtaW46IDAsXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBjYXRlZ29yeUF4aXM6IHtcblx0ICAgICAgICAgICAgbWFqb3JHcmlkTGluZXM6IHtcblx0ICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG5cdCAgICAgICAgICAgIH0sXG5cdFx0XHRcdG1ham9yVGlja3M6IHtcblx0XHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRsYWJlbHM6IHtcblx0XHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0XHR9XG5cdCAgICAgICAgfSxcblx0XHRcdHRvb2x0aXA6IHtcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdCAgICAgICAgfVxuXHQgICAgfSkuZGF0YSgna2VuZG9DaGFydCcpO1xuXG5cdFx0dGhpcy5fcmVhZERhdGFDaGFydCA9ICQoJyN6bm0tcmVhZERhdGFDaGFydCcpLmtlbmRvQ2hhcnQoe1xuXHRcdFx0dHJhbnNpdGlvbnM6IGZhbHNlLFxuXHRcdFx0Y2hhcnRBcmVhOiB7XG5cdFx0XHRcdGhlaWdodDogMTAwXG5cdFx0XHR9LFxuXHQgICAgICAgIGxlZ2VuZDoge1xuXHQgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2VyaWVzRGVmYXVsdHM6IHtcblx0ICAgICAgICAgICAgdHlwZTogJ2JhcicsXG5cdCAgICAgICAgICAgIGxhYmVsczoge1xuXHQgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcblx0ICAgICAgICAgICAgICAgIGZvcm1hdDogJ3swfScsXG5cdCAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnLFxuXHRcdFx0XHRcdHBvc2l0aW9uOiAnaW5zaWRlQmFzZScsXG5cdFx0XHRcdFx0dGVtcGxhdGU6IGdldFdSQnl0ZXNMYWJlbFRlbXBsYXRlKCksXG5cdCAgICAgICAgICAgIH0sXG5cdFx0XHRcdGdhcDogLjUsXG5cdFx0XHRcdHNwYWNpbmc6IDAsXG5cdFx0XHRcdG92ZXJsYXk6IHtcblx0XHRcdFx0XHRncmFkaWVudDogJ25vbmUnXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGJvcmRlcjoge1xuXHRcdFx0XHRcdHdpZHRoOiAwXG5cdFx0XHRcdH1cblx0ICAgICAgICB9LFxuXHQgICAgICAgIHNlcmllczogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bmFtZTogJ1JlYWQgZGF0YScsXG5cdFx0ICAgICAgICAgICAgZmllbGQ6ICd2YWx1ZScsXG5cdFx0ICAgICAgICAgICAgY2F0ZWdvcnlGaWVsZDogJ2NhdGVnb3J5Jyxcblx0XHRcdFx0XHRjb2xvcjogJyNGQjdEMzMnXG5cdFx0ICAgICAgICB9XG5cdFx0XHRdLFxuXHQgICAgICAgIHZhbHVlQXhpczoge1xuXHQgICAgICAgICAgICBsYWJlbHM6IHtcblx0ICAgICAgICAgICAgICAgIGZvcm1hdDogJ3swfSdcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgbGluZToge1xuXHQgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2Vcblx0ICAgICAgICAgICAgfSxcblx0XHRcdFx0bWluOiAwLFxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgY2F0ZWdvcnlBeGlzOiB7XG5cdCAgICAgICAgICAgIG1ham9yR3JpZExpbmVzOiB7XG5cdCAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHRtYWpvclRpY2tzOiB7XG5cdFx0XHRcdFx0dmlzaWJsZTogZmFsc2Vcblx0XHRcdFx0fSxcblx0XHRcdFx0bGFiZWxzOiB7XG5cdFx0XHRcdFx0dmlzaWJsZTogZmFsc2Vcblx0XHRcdFx0fVxuXHQgICAgICAgIH0sXG5cdFx0XHR0b29sdGlwOiB7XG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHQgICAgICAgIH1cblx0ICAgIH0pLmRhdGEoJ2tlbmRvQ2hhcnQnKTtcblxuXHRcdC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdFx0Ly8gQWRkIGxpc3RlbmVyIHRvIHJlZHJhdyBhbGwgY2hhcnRzIGluIGNhc2Ugb2Ygd2luZG93IHJlc2l6ZVxuXHRcdCQod2luZG93KS5vbigncmVzaXplJywgJC5wcm94eSh0aGlzLl9vbldpbmRvd1Jlc2l6ZSwgdGhpcykpO1xuXHRcdHRoaXMuX29uV2luZG93UmVzaXplKCk7IC8vIEFsc28gZG8gaXQgaW1tZWRpYXRlbHlcblxuXHRcdC8vIFJlcXVlc3QgZGF0YSB0byBzZXJ2ZXJcblx0XHR0aGlzLl9yZXF1ZXN0RGF0YSh0cnVlKTtcblx0fVxuXG5cdGRlc3Ryb3koKVxuXHR7XG5cdFx0Ly8gQ2FsbCBzdXBlciBtZXRob2Rcblx0XHRzdXBlci5kZXN0cm95KCk7XG5cblx0XHQvLyBDbG9zZSBtb25pdG9yaW5nXG5cdFx0dGhpcy5fb25DbG9zZU1vbml0b3JCdENsaWNrKCk7XG5cblx0XHQvLyBSZW1vdmUgZG91YmxlY2xpY2sgZXZlbnQgbGlzdGVuZXJzXG5cdFx0dGhpcy5fem9uZUxpc3RCb3gud3JhcHBlci5maW5kKCcuay1saXN0Jykub2ZmKCdkYmxjbGljaycpO1xuXHRcdHRoaXMuX3Jvb21MaXN0Qm94LndyYXBwZXIuZmluZCgnLmstbGlzdCcpLm9mZignZGJsY2xpY2snKTtcblx0XHR0aGlzLl91c2VyTGlzdEJveC53cmFwcGVyLmZpbmQoJy5rLWxpc3QnKS5vZmYoJ2RibGNsaWNrJyk7XG5cblx0XHQvLyBSZW1vdmUgb3RoZXIgZXZlbnQgbGlzdGVuZXJzXG5cdFx0JCgnI3pubS1jcmVhdGVSb29tQnQnKS5vZmYoJ2NsaWNrJyk7XG5cdFx0JCgnI3pubS1yZW1vdmVSb29tQnQnKS5vZmYoJ2NsaWNrJyk7XG5cdFx0JCgnI3pubS1yb29tQ3JlYXRvckNyZWF0ZUJ0Jykub2ZmKCdjbGljaycpO1xuXHRcdCQoJyN6bm0tZmlsdGVyUm9vbUJ0Jykub2ZmKCdjbGljaycpO1xuXHRcdCQoJyN6bm0tYXBwbHlSb29tRmlsdGVyQ0InKS5vZmYoJ2NoYW5nZScpO1xuXHRcdCQoJyN6bm0tZmlsdGVyVXNlckJ0Jykub2ZmKCdjbGljaycpO1xuXHRcdCQoJyN6bm0tYXBwbHlVc2VyRmlsdGVyQ0InKS5vZmYoJ2NoYW5nZScpO1xuXHRcdCQoJyN6bm0tbW9uaXRvckJ0Jykub2ZmKCdjbGljaycpO1xuXHRcdCQoJyN6bm0tc2VuZE1lc3NhZ2VCdCcpLm9mZignY2xpY2snKTtcblx0XHQkKCcjem5tLW1lc3NhZ2VJbicpLm9mZigna2V5dXAnKTtcblx0XHQkKCcjem5tLWNsb3NlTW9uaXRvckJ0Jykub2ZmKCdjbGljaycpO1xuXHRcdCQoJyN6bm0tZWRpdEJ0Jykub2ZmKCdjbGljaycpO1xuXHRcdCQoJyN6bm0tY2FuY2VsQnQnKS5vZmYoJ2NsaWNrJyk7XG5cdFx0JCgnI3pubS1zdWJtaXRCdCcpLm9mZignY2xpY2snKTtcblx0XHQkKHdpbmRvdykub2ZmKCdyZXNpemUnKTtcblx0XHQkKCcjem5tLXJlbG9hZFdvcmRzQnQnKS5vZmYoJ2NsaWNrJyk7XG5cdFx0JCgnI3pubS1yZWxvYWRab25lRXh0QnQnKS5vZmYoJ2NsaWNrJyk7XG5cdFx0JCgnI3pubS1raWNrQnQnKS5vZmYoJ2NsaWNrJyk7XG5cdFx0JCgnI3pubS1iYW5CdCcpLm9mZignY2xpY2snKTtcblxuXHRcdC8vIENsZWFyIHJlcXVlc3Qgc2NoZWR1bGluZ1xuXHRcdGNsZWFyVGltZW91dCh0aGlzLl9yZXF1ZXN0VGltZXIpO1xuXG5cdFx0Ly8gSGlkZSByb29tIGNyZWF0aW9uIHBhbmVsXG5cdFx0JCgnI3pubS1jcmVhdGVSb29tTW9kYWwnKS5tb2RhbCgnaGlkZScpO1xuXG5cdFx0Ly8gUmVtb3ZlIHJvb20gY3JlYXRpb24gcGFuZWwgbGlzdGVuZXJcblx0XHQkKCcjem5tLWNyZWF0ZVJvb21Nb2RhbCcpLm9mZignaGlkZGVuLmJzLm1vZGFsJyk7XG5cblx0XHQvLyBSZW1vdmUgZmlsdGVyIHBhbmVscyBsaXN0ZW5lcnNcblx0XHQkKHRoaXMuX3Jvb21GaWx0ZXIpLm9mZih0aGlzLl9yb29tRmlsdGVyLkVYUFJFU1NJT05fVVBEQVRFRF9FVkVOVCk7XG5cdFx0JCh0aGlzLl91c2VyRmlsdGVyKS5vZmYodGhpcy5fdXNlckZpbHRlci5FWFBSRVNTSU9OX1VQREFURURfRVZFTlQpO1xuXHR9XG5cblx0b25FeHRlbnNpb25Db21tYW5kKGNvbW1hbmQsIGRhdGEpXG5cdHtcblx0XHQvLyBEYXRhIHJlY2VpdmVkXG5cdFx0aWYgKGNvbW1hbmQgPT0gdGhpcy5SRVNQX0RBVEEpXG5cdFx0e1xuXHRcdFx0Ly8gV2UgaGF2ZSB0byBjaGVjayBpZiB0aGUgcmVzcG9uc2UgaWQgY29ycmVzcG9uZHMgdG8gdGhlIGN1cnJlbnQgcmVxdWVzdCBpZDtcblx0XHRcdC8vIGlmIG5vdCwgdGhlIHJlc3BvbnNlIGlzIGRpc2NhcmRlZCBhcyBpdCByZWZlcnMgdG8gYW4gb3V0ZGF0ZXQgcmVxdWVzdFxuXHRcdFx0Y29uc3QgcmVzcG9uc2VJZCA9IGRhdGEuZ2V0SW50KCdpZCcpO1xuXG5cdFx0XHRpZiAocmVzcG9uc2VJZCA9PSB0aGlzLl9jdXJyZW50UmVxdWVzdElkKVxuXHRcdFx0e1xuXHRcdFx0XHQvLyAtLS0gWk9ORVMgTElTVCAtLS1cblx0XHRcdFx0aWYgKGRhdGEuY29udGFpbnNLZXkoJ3pvbmVzJykpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR0aGlzLl9zZXRab25lc0RhdGFQcm92aWRlcihkYXRhLmdldFNGU0FycmF5KCd6b25lcycpKTtcblxuXHRcdFx0XHRcdGlmICh0aGlzLl9zZWxlY3RlZFpvbmUpXG5cdFx0XHRcdFx0XHR0aGlzLl9zZXRTY29wZUxhYmVsKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyAtLS0gUk9PTVMgTElTVCAtLS1cblx0XHRcdFx0aWYgKGRhdGEuY29udGFpbnNLZXkoJ3Jvb21zJykpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR0aGlzLl9zZXRHcm91cHNEYXRhUHJvdmlkZXIoZGF0YS5nZXRVdGZTdHJpbmdBcnJheSgnZ3JvdXBzJykpO1xuXG5cdFx0XHRcdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdFx0XHRcdFx0Ly8gSWYgYSBudWxsIHJvb21zIGxpc3QgaXMgcmV0dXJuZWQsIHRoZSB6b25lIG11c3QgaGF2ZSBiZWVuIGRlbGV0ZWQhXG5cdFx0XHRcdFx0aWYgKCFkYXRhLmlzTnVsbCgncm9vbXMnKSlcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHR0aGlzLl9zZXRSb29tc0RhdGFQcm92aWRlcihkYXRhLmdldFNGU0FycmF5KCdyb29tcycpKTtcblxuXHRcdFx0XHRcdFx0aWYgKCF0aGlzLl9zZWxlY3RlZFJvb20pXG5cdFx0XHRcdFx0XHRcdHRoaXMuX3NldFNjb3BlTGFiZWwoKTtcblxuXHRcdFx0XHRcdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdFx0XHRcdFx0XHQvLyBTaG93IHdhcm5pbmcgaWYgdGhlIHJvb21zIGxpc3QgZXhjZWVkcyB0aGUgc2VydmVyLXNpZGUgbGltaXRcblx0XHRcdFx0XHRcdGlmIChkYXRhLmNvbnRhaW5zS2V5KCdyU2l6ZScpKVxuXHRcdFx0XHRcdFx0XHR0aGlzLl9zaG93TGltaXRFeGNlZWRlZFdhcm5pbmcoJCgnI3pubS1yb29tTGlzdFdhcm5pbmcnKSwgJ1RoZSByZWNlaXZlZCBsaXN0IGlzIGluY29tcGxldGUsIGJlY2F1c2UgaXRzIHNpemUgKCcgKyBkYXRhLmdldEludCgnclNpemUnKSArICcgUm9vbXMpIGV4Y2VlZGVkIHRoaXMgY2xpZW50XFwncyBsaW1pdCBvZiAnICsgZGF0YS5nZXRJbnQoJ3JMaW1pdCcpICsgJzsgeW91IHNob3VsZCByZWZpbmUgeW91ciBzZWFyY2gnKTtcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0dGhpcy5fc2hvd0xpbWl0RXhjZWVkZWRXYXJuaW5nKCQoJyN6bm0tcm9vbUxpc3RXYXJuaW5nJyksICcnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGlmICh0aGlzLl9hY3RpdmVQYW5lbFR5cGUgPT0gJ3Jvb20nKVxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHR0aGlzLl9hY2NvcmRpb24uc2VsZWN0KCdbZGF0YS1pdGVtLXR5cGU9XCJ6b25lXCJdJyk7XG5cdFx0XHRcdFx0XHRcdHRoaXMuX2FjY29yZGlvbi5leHBhbmQoJ1tkYXRhLWl0ZW0tdHlwZT1cInpvbmVcIl0nKTtcblx0XHRcdFx0XHRcdFx0dGhpcy5fb25ab25lU2VsZWN0ZWQoKTtcblx0XHRcdFx0XHRcdFx0dGhpcy5fb25FbnRpdGllc1BhbmVsQ2hhbmdlKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gLS0tIFVTRVJTIExJU1QgLS0tXG5cdFx0XHRcdGlmIChkYXRhLmNvbnRhaW5zS2V5KCd1c2VycycpKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Ly8gSWYgYSBudWxsIHVzZXJzIGxpc3QgaXMgcmV0dXJuZWQsIHRoZSByb29tIG11c3QgaGF2ZSBiZWVuIGRlbGV0ZWQhXG5cdFx0XHRcdFx0aWYgKCFkYXRhLmlzTnVsbCgndXNlcnMnKSlcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHR0aGlzLl9zZXRVc2Vyc0RhdGFQcm92aWRlcihkYXRhLmdldFNGU0FycmF5KCd1c2VycycpKTtcblxuXHRcdFx0XHRcdFx0Ly8gU2hvdyB3YXJuaW5nIGlmIHRoZSB1c2VycyBsaXN0IGV4Y2VlZHMgdGhlIHNlcnZlci1zaWRlIGxpbWl0XG5cdFx0XHRcdFx0XHRpZiAoZGF0YS5jb250YWluc0tleSgndVNpemUnKSlcblx0XHRcdFx0XHRcdFx0dGhpcy5fc2hvd0xpbWl0RXhjZWVkZWRXYXJuaW5nKCQoJyN6bm0tdXNlckxpc3RXYXJuaW5nJyksICdUaGUgcmVjZWl2ZWQgbGlzdCBpcyBpbmNvbXBsZXRlLCBiZWNhdXNlIGl0cyBzaXplICgnICsgZGF0YS5nZXRJbnQoJ3VTaXplJykgKyAnIHVzZXJzKSBleGNlZWRzIHRoaXMgY2xpZW50XFwncyBsaW1pdCBvZiAnICsgZGF0YS5nZXRJbnQoJ3VMaW1pdCcpICsgJzsgeW91IHNob3VsZCByZWZpbmUgeW91ciBzZWFyY2gnKTtcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0dGhpcy5fc2hvd0xpbWl0RXhjZWVkZWRXYXJuaW5nKCQoJyN6bm0tdXNlckxpc3RXYXJuaW5nJyksICcnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGlmICh0aGlzLl9hY3RpdmVQYW5lbFR5cGUgPT0gJ3VzZXInKVxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHR0aGlzLl9hY2NvcmRpb24uc2VsZWN0KCdbZGF0YS1pdGVtLXR5cGU9XCJyb29tXCJdJyk7XG5cdFx0XHRcdFx0XHRcdHRoaXMuX2FjY29yZGlvbi5leHBhbmQoJ1tkYXRhLWl0ZW0tdHlwZT1cInJvb21cIl0nKTtcblx0XHRcdFx0XHRcdFx0dGhpcy5fb25Sb29tU2VsZWN0ZWQoKTtcblx0XHRcdFx0XHRcdFx0dGhpcy5fb25FbnRpdGllc1BhbmVsQ2hhbmdlKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gLS0tIE1PTklUT1JFRCBEQVRBIC0tLVxuXHRcdFx0XHRpZiAoZGF0YS5jb250YWluc0tleSgnbW9uaXRvcmVkJykpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjb25zdCB6b25lID0gZGF0YS5nZXRTRlNPYmplY3QoJ21vbml0b3JlZCcpLmdldFV0ZlN0cmluZygnem9uZScpO1xuXHRcdFx0XHRcdGNvbnN0IHR5cGUgPSBkYXRhLmdldFNGU09iamVjdCgnbW9uaXRvcmVkJykuZ2V0VXRmU3RyaW5nKCd0eXBlJyk7XG5cdFx0XHRcdFx0Y29uc3QgbmFtZSA9IGRhdGEuZ2V0U0ZTT2JqZWN0KCdtb25pdG9yZWQnKS5nZXRVdGZTdHJpbmcoJ25hbWUnKTtcblxuXHRcdFx0XHRcdGlmICh6b25lID09IHRoaXMuX21vbml0b3JlZFpvbmUgJiYgdHlwZSA9PSB0aGlzLl9tb25pdG9yZWRUeXBlICYmIG5hbWUgPT0gdGhpcy5fbW9uaXRvcmVkTmFtZSlcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRpZiAoIWRhdGEuZ2V0U0ZTT2JqZWN0KCdtb25pdG9yZWQnKS5pc051bGwoJ3BhcmFtcycpKVxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRjb25zdCBwYXJhbXMgPSBkYXRhLmdldFNGU09iamVjdCgnbW9uaXRvcmVkJykuZ2V0U0ZTQXJyYXkoJ3BhcmFtcycpO1xuXG5cdFx0XHRcdFx0XHRcdHRoaXMuX3NldE1vbml0b3JpbmdJbnRlcmZhY2UoKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBCdWlsZCBpbnRlcmZhY2Vcblx0XHRcdFx0XHRcdFx0aWYgKCF0aGlzLl9pc0VkaXRpbmcpXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLl9pbnRlcmZhY2VCdWlsZGVyLmJ1aWxkSW50ZXJmYWNlKHBhcmFtcywgYHpubS0ke3RoaXMuX21vbml0b3JlZFR5cGV9VGFiTmF2aWdhdG9yYCwgdHJ1ZSk7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoIXRoaXMuX3NraXBJbml0VGFicylcblx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHQkKGAjem5tLSR7dGhpcy5fbW9uaXRvcmVkVHlwZX1UYWJOYXZpZ2F0b3IgI3RhYnNgKS5zY3JvbGxpbmdUYWJzKHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ym9vdHN0cmFwVmVyc2lvbjogNCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2Nyb2xsVG9UYWJFZGdlOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRlbmFibGVTd2lwaW5nOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkaXNhYmxlU2Nyb2xsQXJyb3dzT25GdWxseVNjcm9sbGVkOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjc3NDbGFzc0xlZnRBcnJvdzogJ2ZhIGZhLWNoZXZyb24tbGVmdCcsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNzc0NsYXNzUmlnaHRBcnJvdzogJ2ZhIGZhLWNoZXZyb24tcmlnaHQnXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5fc2tpcEluaXRUYWJzID0gdHJ1ZTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU2V0IGZpcnN0IHRhYiBwYW5lbCBhcyBhY3RpdmVcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuX2ludGVyZmFjZUJ1aWxkZXIuYWN0aXZhdGVGaXJzdFRhYlBhbmVsKCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFJlZHJhdyB0aW1lIHJhbmdlIHNsaWRlciB0byBzZXQgaXRzIHdpZHRoXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLl90aW1lU2xpZGVyLnJlc2l6ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBBZGQgbGlzdGVuZXIgdG8gcmVkcmF3IGFsbCBjaGFydHMgb24gdGFiIGNoYW5nZVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gKHRvIHdvcmsgYXJvdW5kIGFuIGlzc3VlIHdpdGggdGhlIGNoYXJ0IHJlc2l6aW5nIHRvIGRlZmF1bHQgd2lkdGggd2hlbiBwYW5lIGlzIGhpZGRlbilcblx0XHRcdFx0XHRcdFx0XHRcdCQoJ2FbZGF0YS10b2dnbGU9XCJ0YWJcIl0nKS5vbignc2hvd24uYnMudGFiJywgJC5wcm94eSh0aGlzLl9vbldpbmRvd1Jlc2l6ZSwgdGhpcykpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdC8vIERpc2FibGUgY2F0ZWdvcmllc1xuXHRcdFx0XHRcdFx0XHRsZXQgZGlzYWJsZWRDYXQgPSAoZGF0YS5nZXRTRlNPYmplY3QoJ21vbml0b3JlZCcpLmNvbnRhaW5zS2V5KCdleGNsdWRlJykgPyBkYXRhLmdldFNGU09iamVjdCgnbW9uaXRvcmVkJykuZ2V0VXRmU3RyaW5nQXJyYXkoJ2V4Y2x1ZGUnKSA6IFtdKTtcblxuXHRcdFx0XHRcdFx0XHRmb3IgKGxldCBjYXQgb2YgZGlzYWJsZWRDYXQpXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRsZXQgbmF2TGluayA9ICQoYCN6bm0tJHt0aGlzLl9tb25pdG9yZWRUeXBlfVRhYk5hdmlnYXRvciAjdGFicyAjdGFiLSR7Y2F0fWApO1xuXG5cdFx0XHRcdFx0XHRcdFx0bmF2TGluay5hZGRDbGFzcygnZGlzYWJsZWQnKTtcblx0XHRcdFx0XHRcdFx0XHRuYXZMaW5rLmF0dHIoJ3RhYmluZGV4JywgLTEpO1xuXHRcdFx0XHRcdFx0XHRcdG5hdkxpbmsuYXR0cignYXJpYS1kaXNhYmxlZCcsIHRydWUpO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuX21vbml0b3JlZFR5cGUgPT0gdGhpcy5NT05JVE9SRURfVFlQRV9aT05FKVxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuX3Nob3dab25lVHJhZmZpY0RhdGEoZGF0YS5nZXRTRlNPYmplY3QoJ21vbml0b3JlZCcpLmdldFNGU09iamVjdCgndHJhZmZpYycpKTtcblxuXHRcdFx0XHRcdFx0XHRpZiAodGhpcy5fbW9uaXRvcmVkVHlwZSA9PSB0aGlzLk1PTklUT1JFRF9UWVBFX1VTRVIpXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHQvLyBTdGF0c1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuX3Nob3dVc2VyU3RhdHNEYXRhKGRhdGEuZ2V0U0ZTT2JqZWN0KCdtb25pdG9yZWQnKS5nZXRTRlNPYmplY3QoJ3N0YXRzJykpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gTlBDXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgaXNOcGMgPSBkYXRhLmdldFNGU09iamVjdCgnbW9uaXRvcmVkJykuZ2V0Qm9vbCgnbnBjJyk7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBEaXNhYmxlIGtpY2sgYW5kIGJhbiBidXR0b25zXG5cdFx0XHRcdFx0XHRcdFx0JCgnI3pubS1raWNrQnQnKS5hdHRyKCdkaXNhYmxlZCcsIGlzTnBjKTtcblx0XHRcdFx0XHRcdFx0XHQkKCcjem5tLWJhbkJ0JykuYXR0cignZGlzYWJsZWQnLCBpc05wYyk7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBHZW8tbG9jYXRpb25cblx0XHRcdFx0XHRcdFx0XHRjb25zdCBnZW9Mb2NEYXRhID0gZGF0YS5nZXRTRlNPYmplY3QoJ21vbml0b3JlZCcpLmdldFNGU09iamVjdCgnZ2VvTG9jJyk7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5fc2V0R2VvTG9jYXRpb25VSShnZW9Mb2NEYXRhKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHQvLyBTaG93IGFsZXJ0XG5cdFx0XHRcdFx0XHRcdHRoaXMuc2hlbGxDdHJsLnNob3dTaW1wbGVBbGVydChgVGhlICR7Y2FwaXRhbGl6ZUZpcnN0KHRoaXMuX21vbml0b3JlZFR5cGUpfSBiZWluZyBtb25pdG9yZWQgaXMgbm8gbW9yZSBhdmFpbGFibGUgb24gdGhlIHNlcnZlciwgcGxlYXNlIHNlbGVjdCBhbm90aGVyIG9uZS5gLCBmYWxzZSk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQ2FuY2VsIG1vbml0b3Jpbmdcblx0XHRcdFx0XHRcdFx0dGhpcy5fb25DbG9zZU1vbml0b3JCdENsaWNrKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZWxzZSBpZiAoY29tbWFuZCA9PSB0aGlzLlJFU1BfVVBEQVRFX0VSUk9SKVxuXHRcdHtcblx0XHRcdGlmIChkYXRhLmdldFV0ZlN0cmluZygnem9uZScpID09IHRoaXMuX21vbml0b3JlZFpvbmVcblx0XHRcdFx0JiYgZGF0YS5nZXRVdGZTdHJpbmcoJ3R5cGUnKSA9PSAgdGhpcy5fbW9uaXRvcmVkVHlwZVxuXHRcdFx0XHQmJiBkYXRhLmdldFV0ZlN0cmluZygnbmFtZScpID09ICB0aGlzLl9tb25pdG9yZWROYW1lKVxuXHRcdFx0e1xuXHRcdFx0XHQvLyBTaG93IGFsZXJ0XG5cdFx0XHRcdHRoaXMuc2hlbGxDdHJsLnNob3dTaW1wbGVBbGVydChgVW5hYmxlIHRvIHVwZGF0ZSAke2NhcGl0YWxpemVGaXJzdCh0aGlzLl9tb25pdG9yZWRUeXBlKX0gc2V0dGluZ3M7IHRoZSBmb2xsb3dpbmcgZXJyb3Igd2FzIHJlcG9ydGVkOiAke2RhdGEuZ2V0VXRmU3RyaW5nKCdtZXNzYWdlJyl9LmApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGVsc2UgaWYgKGNvbW1hbmQgPT0gdGhpcy5SRVNQX1JPT01fQ09ORklHKVxuXHRcdHtcblx0XHRcdC8vIFJlLWVuYWJsZSBDcmVhdGUgYnV0dG9uXG5cdFx0XHQkKCcjem5tLWNyZWF0ZVJvb21CdCcpLmF0dHIoJ2Rpc2FibGVkJywgZmFsc2UpO1xuXG5cdFx0XHQvLyBTaG93IFJvb20gY3JlYXRpb24gcGFuZWxcblx0XHRcdHRoaXMuX3Nob3dSb29tQ3JlYXRpb25QYW5lbChkYXRhLmdldFNGU0FycmF5KCdzZXR0aW5ncycpKTtcblx0XHR9XG5cblx0XHRlbHNlIGlmIChjb21tYW5kID09IHRoaXMuUkVTUF9ST09NX0NPTkZJR19FUlJPUilcblx0XHR7XG5cdFx0XHQvLyBSZS1lbmFibGUgQ3JlYXRlIGJ1dHRvblxuXHRcdFx0JCgnI3pubS1jcmVhdGVSb29tQnQnKS5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKTtcblxuXHRcdFx0Ly8gU2hvdyBhbiBhbGVydFxuXHRcdFx0dGhpcy5zaGVsbEN0cmwuc2hvd1NpbXBsZUFsZXJ0KGRhdGEuZ2V0VXRmU3RyaW5nKCdlcnJvcicpKTtcblx0XHR9XG5cblx0XHRlbHNlIGlmIChjb21tYW5kID09IHRoaXMuUkVTUF9ST09NX0NSRUFURUQpXG5cdFx0e1xuXHRcdFx0Ly8gUmUtZW5hYmxlIHJvb20gY3JlYXRpb24gcGFuZWxcblx0XHRcdHRoaXMuX2VuYWJsZUNyZWF0ZVJvb21QYW5lbCh0cnVlKTtcblxuXHRcdFx0Ly8gSGlkZSByb29tIGNyZWF0aW9uIHBhbmVsXG5cdFx0XHQkKCcjem5tLWNyZWF0ZVJvb21Nb2RhbCcpLm1vZGFsKCdoaWRlJyk7XG5cblx0XHRcdC8vIFVwZGF0ZSByb29tcyBsaXN0XG5cdFx0XHR0aGlzLl9yZXF1ZXN0RGF0YSh0cnVlKTtcblx0XHR9XG5cblx0XHRlbHNlIGlmIChjb21tYW5kID09IHRoaXMuUkVTUF9ST09NX0NSRUFUSU9OX0VSUk9SKVxuXHRcdHtcblx0XHRcdC8vIERpc3BsYXkgZXJyb3IgbWVzc2FnZVxuXHRcdFx0JCgnI3pubS1jcmVhdGVSb29tRXJyb3InKS50ZXh0KGRhdGEuZ2V0VXRmU3RyaW5nKCdlcnJvcicpKTtcblx0XHRcdCQoJyN6bm0tY3JlYXRlUm9vbUVycm9yJykuc2hvdygpO1xuXG5cdFx0XHQvLyBSZS1lbmFibGUgcm9vbSBjcmVhdGlvbiBwYW5lbFxuXHRcdFx0dGhpcy5fZW5hYmxlQ3JlYXRlUm9vbVBhbmVsKHRydWUpO1xuXHRcdH1cblxuXHRcdC8vIFVuZXhwZWN0ZWQgZXJyb3IgcmVjZWl2ZWRcblx0XHQvLyBUaGlzIGVycm9yIGlzIHJldHVybmVkIGluIGNhc2Ugc29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hlbiByZXRyaWV2aW5nIHRoZSBtb25pdG9yZWQgZW50aXR5IHBhcmFtZXRlcnMsXG5cdFx0Ly8gc28gd2UgaGF2ZSB0byBzdG9wIHJlcXVlc3RpbmcgdGhlIHNhbWUgZW50aXR5XG5cdFx0ZWxzZSBpZiAoY29tbWFuZCA9PSB0aGlzLlJFU1BfVU5FWFBFQ1RFRF9FUlJPUilcblx0XHR7XG5cdFx0XHQvLyBDYW5jZWwgbW9uaXRvcmluZ1xuXHRcdFx0dGhpcy5fb25DbG9zZU1vbml0b3JCdENsaWNrKCk7XG5cblx0XHRcdC8vIFNob3cgYW4gYWxlcnRcblx0XHRcdHRoaXMuc2hlbGxDdHJsLnNob3dTaW1wbGVBbGVydChkYXRhLmdldFV0ZlN0cmluZygnZXJyb3InKSk7XG5cdFx0fVxuXG5cdFx0Ly8gRXh0ZW5zaW9uIChab25lIG9yIFJvb20pIGxvZyBtZXNzYWdlcyByZWNlaXZlZFxuXHRcdGVsc2UgaWYgKGNvbW1hbmQgPT0gdGhpcy5SRVNQX0xPR19NRVNTQUdFUylcblx0XHR7XG5cdFx0XHRsZXQgbG9nRW50cmllcyA9IGRhdGEuZ2V0U0ZTQXJyYXkoJ2VudHJpZXMnKTtcblxuXHRcdFx0Zm9yIChsZXQgZSA9IDA7IGUgPCBsb2dFbnRyaWVzLnNpemUoKTsgZSsrKVxuXHRcdFx0e1xuXHRcdFx0XHRsZXQgbG9nRW50cnkgPSBsb2dFbnRyaWVzLmdldFNGU09iamVjdChlKTtcblxuXHRcdFx0XHRjb25zdCBsb2dab25lID0gbG9nRW50cnkuZ2V0VXRmU3RyaW5nKCd6b25lJyk7XG5cdFx0XHRcdGNvbnN0IGxvZ1Jvb20gPSBsb2dFbnRyeS5nZXRVdGZTdHJpbmcoJ3Jvb20nKTtcblxuXHRcdFx0XHQvLyBDaGVjayBpZiB0aGUgem9uZSBpcyBjdXJyZW50bHkgbW9uaXRvcmVkXG5cdFx0XHRcdGlmICh0aGlzLl9tb25pdG9yZWRab25lID09IGxvZ1pvbmUpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhsb2dFbnRyeS5nZXRMb25nKCd0aW1lJykpXG5cdFx0XHRcdFx0Ly8gY29uc29sZS5sb2cobmV3IERhdGUobG9nRW50cnkuZ2V0TG9uZygndGltZScpKVxuXG5cdFx0XHRcdFx0bGV0IGVsZSA9IHtcblx0XHRcdFx0XHRcdHRpbWVzdGFtcDoga2VuZG8udG9TdHJpbmcobmV3IERhdGUobG9nRW50cnkuZ2V0TG9uZygndGltZScpKSwgJ2RkL01NL3l5eXkgSEg6bW06c3MnKSxcblx0XHRcdFx0XHRcdGxldmVsOiBsb2dFbnRyeS5nZXRVdGZTdHJpbmcoJ2xldmVsJyksXG5cdFx0XHRcdFx0XHRtZXNzYWdlOiBsb2dFbnRyeS5nZXRVdGZTdHJpbmcoJ21zZycpLFxuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRpZiAodGhpcy5fbW9uaXRvcmVkVHlwZSA9PSB0aGlzLk1PTklUT1JFRF9UWVBFX1pPTkUgJiYgbG9nUm9vbSA9PSAnJylcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHQvLyBBZGQgdG8gem9uZSBleHRlbnNpb24gbG9nXG5cdFx0XHRcdFx0XHR0aGlzLl9hZGRMb2dFbnRyeVRvR3JpZCh0aGlzLl96b25lRXh0TG9nR3JpZCwgZWxlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGlmICh0aGlzLl9tb25pdG9yZWRUeXBlID09IHRoaXMuTU9OSVRPUkVEX1RZUEVfUk9PTSAmJiB0aGlzLl9tb25pdG9yZWROYW1lID09IGxvZ1Jvb20pXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdC8vIEFkZCB0byByb29tIGV4dGVuc2lvbiBsb2dcblx0XHRcdFx0XHRcdFx0dGhpcy5fYWRkTG9nRW50cnlUb0dyaWQodGhpcy5fcm9vbUV4dExvZ0dyaWQsIGVsZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0Ly8gVUkgRVZFTlQgTElTVEVORVJTXG5cdC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0X29uVXBkYXRlSW50ZXJ2YWxDaGFuZ2UoKVxuXHR7XG5cdFx0Ly8gUmVxdWVzdCBkYXRhIHRvIHNlcnZlclxuXHRcdHRoaXMuX3JlcXVlc3REYXRhKGZhbHNlKTtcblx0fVxuXG5cdF9vbkVudGl0aWVzUGFuZWxDaGFuZ2UoKVxuXHR7XG5cdFx0Ly8gU2V0IG1haW4gY29udHJvbHMgc3RhdGVcblx0XHR0aGlzLl9zZXRNYWluQ29udHJvbHNFbmFibGVkKCk7XG5cblx0XHQvLyBSZXF1ZXN0IGRhdGEgdG8gc2VydmVyXG5cdFx0dGhpcy5fcmVxdWVzdERhdGEodHJ1ZSk7XG5cdH1cblxuXHQvKipcblx0ICogVXBkYXRlIHRoZSBTY29wZSBsYWJlbCBpbiB0aGUgUm9vbXMgcGFuZWwuXG5cdCAqL1xuXHRfb25ab25lU2VsZWN0ZWQoKVxuXHR7XG5cdFx0Ly8gQ2xlYXIgUm9vbSBhbmQgVXNlciBsaXN0c1xuXHRcdHRoaXMuX3Jlc2V0Um9vbUxpc3QoKTtcblx0XHR0aGlzLl9yZXNldFVzZXJMaXN0KCk7XG5cblx0XHQvLyBTZXQgc2NvcGUgbGFiZWxcblx0XHR0aGlzLl9zZXRTY29wZUxhYmVsKCk7XG5cblx0XHQvLyBFbmFibGUvZGlzYWJsZSBSb29tIGFuZCBVc2VyIHRvb2xzXG5cdFx0Y29uc3QgZGlzYWJsZWQgPSB0aGlzLl9zZWxlY3RlZFpvbmUgPT0gdW5kZWZpbmVkO1xuXG5cdFx0Ly8gKE5PVEU6IHRoaXMgZW5hYmxlcy9kaXNhYmxlcyB3aG9sZSBmaWVsZHNldDsgdGhpcyBkb2Vzbid0IGFmZmVjdCBLZW5kbyBEcm9wRG93biwgc28gd2UgaGF2ZSB0byBkbyBpdCBtYW51YWxseSlcblx0XHQkKCcjcm9vbVRvb2xzJykuYXR0cignZGlzYWJsZWQnLCBkaXNhYmxlZCk7XG5cdFx0JCgnI3VzZXJUb29scycpLmF0dHIoJ2Rpc2FibGVkJywgZGlzYWJsZWQpO1xuXG5cdFx0dGhpcy5fZ3JvdXBzRHJvcERvd24uZW5hYmxlKCFkaXNhYmxlZCk7XG5cblx0XHQvLyBTZXQgbWFpbiBjb250cm9scyBzdGF0ZVxuXHRcdHRoaXMuX3NldE1haW5Db250cm9sc0VuYWJsZWQoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBVcGRhdGUgdGhlIFNjb3BlIGxhYmVsIGluIHRoZSBVc2VycyBwYW5lbC5cblx0ICovXG5cdF9vblJvb21TZWxlY3RlZCgpXG5cdHtcblx0XHQvLyBDbGVhciBVc2VyIGxpc3Rcblx0XHR0aGlzLl9yZXNldFVzZXJMaXN0KCk7XG5cblx0XHQvLyBTZXQgc2NvcGUgbGFiZWxcblx0XHR0aGlzLl9zZXRTY29wZUxhYmVsKCk7XG5cblx0XHQvLyBFbmFibGUgUmVtb3ZlIGJ1dHRvblxuXHRcdCQoJyN6bm0tcmVtb3ZlUm9vbUJ0JykuYXR0cignZGlzYWJsZWQnLCB0aGlzLl9zZWxlY3RlZFJvb20gPT0gdW5kZWZpbmVkKTtcblxuXHRcdC8vIFNldCBtYWluIGNvbnRyb2xzIHN0YXRlXG5cdFx0dGhpcy5fc2V0TWFpbkNvbnRyb2xzRW5hYmxlZCgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFVwZGF0ZSB0aGUgc2NvcGUgbGFiZWwgaW4gdGhlIFVzZXJzIHBhbmVsLlxuXHQgKi9cblx0X29uR3JvdXBDaGFuZ2UoKVxuXHR7XG5cdFx0Ly8gQ2xlYXIgUm9vbSBhbmQgVXNlciBsaXN0c1xuXHRcdHRoaXMuX3Jlc2V0Um9vbUxpc3QoKTtcblx0XHR0aGlzLl9yZXNldFVzZXJMaXN0KCk7XG5cblx0XHQvLyBTZXQgc2NvcGUgbGFiZWxcblx0XHR0aGlzLl9zZXRTY29wZUxhYmVsKCk7XG5cblx0XHQvLyBSZXF1ZXN0IGRhdGEgdG8gc2VydmVyXG5cdFx0dGhpcy5fcmVxdWVzdERhdGEodHJ1ZSk7XG5cblx0XHQvLyBTZXQgbWFpbiBjb250cm9scyBzdGF0ZVxuXHRcdHRoaXMuX3NldE1haW5Db250cm9sc0VuYWJsZWQoKTtcblx0fVxuXG5cdF9vblVzZXJTZWxlY3RlZCgpXG5cdHtcblx0XHQvLyBTZXQgbWFpbiBjb250cm9scyBzdGF0ZVxuXHRcdHRoaXMuX3NldE1haW5Db250cm9sc0VuYWJsZWQoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTaG93IHJvb20gY3JlYXRpb24gcGFuZWwuXG5cdCAqL1xuXHRfb25DcmVhdGVSb29tQnRDbGljaygpXG5cdHtcblx0XHQvLyBEaXNhYmxlIENyZWF0ZSBidXR0b25cblx0XHQkKCcjem5tLWNyZWF0ZVJvb21CdCcpLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cblx0XHQvLyBSZXF1ZXN0IGRlZmF1bHQgcm9vbSBzZXR0aW5ncyB0byBleHRlbnNpb25cblx0XHR0aGlzLnNlbmRFeHRlbnNpb25SZXF1ZXN0KHRoaXMuUkVRX0dFVF9ST09NX0NPTkZJRyk7XG5cdH1cblxuXHQvKipcblx0ICogUmVtb3ZlIGV4aXN0aW5nIHJvb20uXG5cdCAqL1xuXHRfb25SZW1vdmVSb29tQnRDbGljaygpXG5cdHtcblx0XHR0aGlzLnNoZWxsQ3RybC5zaG93Q29uZmlybVdhcm5pbmcoJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZW1vdmUgdGhlIHNlbGVjdGVkIFJvb20/JywgJC5wcm94eSh0aGlzLl9vblJlbW92ZVJlbW92ZUNvbmZpcm0sIHRoaXMpKTtcblx0fVxuXG5cdF9vblJlbW92ZVJlbW92ZUNvbmZpcm0oKVxuXHR7XG5cdFx0Y29uc3Qgc2VsZWN0ZWRab25lID0gdGhpcy5fem9uZUxpc3RCb3guZGF0YUl0ZW0odGhpcy5fem9uZUxpc3RCb3guc2VsZWN0KCkpO1xuXHRcdGxldCBzZWxlY3RlZFJvb20gPSB0aGlzLl9yb29tTGlzdEJveC5kYXRhSXRlbSh0aGlzLl9yb29tTGlzdEJveC5zZWxlY3QoKSk7XG5cblx0XHRpZiAoc2VsZWN0ZWRSb29tKVxuXHRcdHtcblx0XHRcdC8vIFNlbmQgcmVxdWVzdCB0byBzZXJ2ZXJcblx0XHRcdGxldCBwYXJhbXMgPSBuZXcgU0ZTMlguU0ZTT2JqZWN0KCk7XG5cdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCd6b25lJywgc2VsZWN0ZWRab25lLm5hbWUpO1xuXHRcdFx0cGFyYW1zLnB1dFV0ZlN0cmluZygncm9vbScsIHNlbGVjdGVkUm9vbS5uYW1lKTtcblxuXHRcdFx0dGhpcy5zZW5kRXh0ZW5zaW9uUmVxdWVzdCh0aGlzLlJFUV9SRU1PVkVfUk9PTSwgcGFyYW1zKTtcblxuXHRcdFx0Ly8gUmVxdWVzdCBkYXRhIHRvIHNlcnZlciB0byB1cGRhdGUgdGhlIHJvb21zIGxpc3Rcblx0XHRcdHRoaXMuX3JlcXVlc3REYXRhKHRydWUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBSZW1vdmUgY29udGVudCBvZiByb29tIGNyZWF0aW9uIHBhbmVsLlxuXHQgKi9cblx0X29uQ3JlYXRlUm9vbU1vZGFsSGlkZGVuKGUpXG5cdHtcblx0XHQvLyBJZiBhIG5lc3RlZCBtb2RhbCBpcyBvcGVuZWQsIGl0cyBjbG9zaW5nIGNhdXNlcyB0aGUgcGFyZW50IG1vZGFsIHRvIGJlIGNsb3NlZCB0b28gKEJvb3RzdHJhcCBkb2Vzbid0IHN1cHBvcnQgbmVzdGVkIG1vZGFscylcblx0XHQvLyBBcyBhIHdvcmthcm91bmQsIGhlcmUgd2UgcmVzZXQgdGhlIGNzcyBjbGFzcyAnbW9kYWwtb3Blbicgd2hlbiB0aGUgbmVzdGVkIG1vZGFsIGlzIGNsb3NlZCBhbmQgc2tpcCBldmVyeXRoaW5nIGVsc2Vcblx0XHQvLyBJbiBhZGRpdGlvbiB3ZSBoYWQgdG8gdXNlIGEgY3VzdG9tIGxpc3RlbmVyIG9uIHRoZSBjbG9zZS9jYW5jZWwgYnV0dG9ucyBvZiB0aGUgbmVzdGVkIG1vZGFsIChzZWUgY29uZmlnLWdyaWQuanMgZm9yIGV4YW1wbGUpXG5cdFx0aWYgKGUudGFyZ2V0ICE9PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnem5tLWNyZWF0ZVJvb21Nb2RhbCcpKVxuXHRcdHtcblx0XHRcdCQoJ2JvZHknKS5hZGRDbGFzcygnbW9kYWwtb3BlbicpXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRGVzdHJveSBzY3JvbGxpbmcgdGFicyBpbiByb29tIGNyZWF0aW9uIHBhbmVsXG5cdFx0JCgnI3pubS1yb29tQ3JlYXRvclRhYk5hdiAjdGFicycpLnNjcm9sbGluZ1RhYnMoJ2Rlc3Ryb3knKTtcblxuXHRcdC8vIFJlbW92ZSBhbGwgdGFiIG5hdmlnYXRvciBjb250ZW50XG5cdFx0dGhpcy5fcm9vbUNyZWF0aW9uSUJ1aWxkZXIuZGVzdHJveUludGVyZmFjZSgpO1xuXG5cdFx0Ly8gUmVtb3ZlIGxpc3RlbmVyIGZvciBjdXN0b20gYWN0aW9ucyB0cmlnZ2VyZWQgYnkgY29uZmlndXJhdGlvbiBpbnRlcmZhY2Vcblx0XHQkKCcjem5tLXJvb21DcmVhdG9yVGFiTmF2Jykub2ZmKCd2YWx1ZS1zZXQnKTtcblxuXHRcdC8vIFJlc2V0IGFuZCBoaWRlIGVycm9yIG1lc3NhZ2Vcblx0XHR0aGlzLl9yZXNldFJvb21DcmVhdGlvbkVycm9yKCk7XG5cdH1cblxuXHRfb25Db25maWdWYWx1ZVNldChlKSAvLyBTQU1FIE1FVEhPRCBEVVBMSUNBVEVEIElOIHpvbmUtY29uZmlndXJhdG9yLmpzXG5cdHtcblx0XHRjb25zdCBjb25maWdQYXJhbSA9IGUudGFyZ2V0LmRhdGE7XG5cblx0XHQvLyBIYW5kbGUgZXh0ZW5zaW9uIG5hbWUvdHlwZSBkcm9wZG93bnMgdXBkYXRlIGFuZCB1cGRhdGUgdGhlIG1haW4gY2xhc3MgZHJvcGRvd24gZGF0YXNvdXJjZSBhY2NvcmRpbmdseVxuXHRcdGlmIChjb25maWdQYXJhbS5uYW1lID09ICdleHRlbnNpb24ubmFtZScgfHwgY29uZmlnUGFyYW0ubmFtZSA9PSAnZXh0ZW5zaW9uLnR5cGUnIHx8IGNvbmZpZ1BhcmFtLm5hbWUgPT0gJ2V4dGVuc2lvbi5maWx0ZXJDbGFzcycpXG5cdFx0e1xuXHRcdFx0Ly8gQWxsIGludm9sdmVkIENvbmZpZ0Zvcm1JdGVtcyBtdXN0IGJlIGF2YWlsYWJsZSBhbmQgaW5pdGlhbGl6ZWQgdG8gcHJvY2VlZFxuXHRcdFx0Y29uc3QgbmFtZUZvcm1JdGVtID0gdGhpcy5fcm9vbUNyZWF0aW9uSUJ1aWxkZXIuZ2V0Q29uZmlnRm9ybUl0ZW0oJ2V4dGVuc2lvbi5uYW1lJyk7XG5cdFx0XHRjb25zdCB0eXBlRm9ybUl0ZW0gPSB0aGlzLl9yb29tQ3JlYXRpb25JQnVpbGRlci5nZXRDb25maWdGb3JtSXRlbSgnZXh0ZW5zaW9uLnR5cGUnKTtcblx0XHRcdGNvbnN0IGNsYXNzRm9ybUl0ZW0gPSB0aGlzLl9yb29tQ3JlYXRpb25JQnVpbGRlci5nZXRDb25maWdGb3JtSXRlbSgnZXh0ZW5zaW9uLmZpbGUnKTtcblx0XHRcdGNvbnN0IGZpbHRlckZvcm1JdGVtID0gdGhpcy5fcm9vbUNyZWF0aW9uSUJ1aWxkZXIuZ2V0Q29uZmlnRm9ybUl0ZW0oJ2V4dGVuc2lvbi5maWx0ZXJDbGFzcycpO1xuXG5cdFx0XHRpZiAobmFtZUZvcm1JdGVtICE9IG51bGwgJiYgdHlwZUZvcm1JdGVtICE9IG51bGwgJiYgY2xhc3NGb3JtSXRlbSAhPSBudWxsICYmIGZpbHRlckZvcm1JdGVtICE9IG51bGwpXG5cdFx0XHR7XG5cdFx0XHRcdGNvbnN0IHNvdXJjZSA9IG5hbWVGb3JtSXRlbS5kYXRhO1xuXHRcdFx0XHRsZXQgY2xhc3Nlc0xpc3QgPSBbXTtcblxuXHRcdFx0XHRsZXQgZGF0YSA9IHNvdXJjZS50cmlnZ2VyRGF0YTtcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLnNpemUoKTsgaSsrKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGV0IGV4dCA9IGRhdGEuZ2V0U0ZTT2JqZWN0KGkpO1xuXG5cdFx0XHRcdFx0aWYgKGV4dC5nZXRVdGZTdHJpbmcoJ25hbWUnKSA9PSBuYW1lRm9ybUl0ZW0uZGF0YS52YWx1ZSAmJiBleHQuZ2V0VXRmU3RyaW5nKCd0eXBlJykgPT0gdHlwZUZvcm1JdGVtLmRhdGEudmFsdWUpXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bGV0IGNsYXNzZXMgPSBleHQuZ2V0VXRmU3RyaW5nKCdjbGFzc2VzU3RyaW5nJykuc3BsaXQoJywnKTtcblxuXHRcdFx0XHRcdFx0aWYgKGZpbHRlckZvcm1JdGVtLmRhdGEudmFsdWUgPT0gdHJ1ZSlcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0bGV0IGZpbHRlcmVkQ2xhc3NlcyA9IGNsYXNzZXMuZmlsdGVyKGZpbHRlckNsYXNzTmFtZSk7XG5cdFx0XHRcdFx0XHRcdGNsYXNzZXMgPSBmaWx0ZXJlZENsYXNzZXM7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGNsYXNzZXNMaXN0ID0gY2xhc3Nlc0xpc3QuY29uY2F0KGNsYXNzZXMpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGxldCBjdXJyZW50Q2xhc3MgPSBjbGFzc0Zvcm1JdGVtLmRhdGEudmFsdWU7XG5cblx0XHRcdFx0Ly8gSWYgdGhlIGNsYXNzZXMgbGlzdCBkb2Vzbid0IGNvbnRhaW4gdGhlIGN1cnJlbnQgdmFsdWUsIGNyZWF0ZSBhbiBlbXB0eSBlbnRyeSBhbmQgcmVzZXQgdGhlIHZhbHVlXG5cdFx0XHRcdGlmIChjbGFzc2VzTGlzdC5pbmRleE9mKGN1cnJlbnRDbGFzcykgPCAwKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0aWYgKGNsYXNzZXNMaXN0Lmxlbmd0aCA9PSAwKVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGNsYXNzZXNMaXN0LnB1c2goJycpO1xuXHRcdFx0XHRcdFx0Y3VycmVudENsYXNzID0gJyc7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGN1cnJlbnRDbGFzcyA9IGNsYXNzZXNMaXN0WzBdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGV0IG1haW5DbGFzc0Ryb3BEb3duID0gY2xhc3NGb3JtSXRlbS5faW5uZXJXaWRnZXQ7XG5cdFx0XHRcdG1haW5DbGFzc0Ryb3BEb3duLnNldERhdGFTb3VyY2UoY2xhc3Nlc0xpc3QpO1xuXG5cdFx0XHRcdGNsYXNzRm9ybUl0ZW0uZGF0YS52YWx1ZSA9IGN1cnJlbnRDbGFzcztcblx0XHRcdFx0Y2xhc3NGb3JtSXRlbS5fc2V0V2lkZ2V0VmFsdWUoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRfb25Sb29tQ3JlYXRvckNyZWF0ZUJ0Q2xpY2soKVxuXHR7XG5cdFx0Ly8gUmVzZXQgYW5kIGhpZGUgZXJyb3IgbWVzc2FnZVxuXHRcdHRoaXMuX3Jlc2V0Um9vbUNyZWF0aW9uRXJyb3IoKTtcblxuXHRcdC8vIENoZWNrIHZhbGlkaXR5XG5cdFx0aWYgKHRoaXMuX3Jvb21DcmVhdGlvbklCdWlsZGVyLmNoZWNrSXNWYWxpZCgpKVxuXHRcdHtcblx0XHRcdGxldCBjaGFuZ2VzID0gdGhpcy5fcm9vbUNyZWF0aW9uSUJ1aWxkZXIuZ2V0Q2hhbmdlZERhdGEoKTtcblxuXHRcdFx0aWYgKGNoYW5nZXMuc2l6ZSgpID4gMClcblx0XHRcdHtcblx0XHRcdFx0Ly8gQ2hlY2sgdGhlIHJvb20gbmFtZSBhZ2FpbnN0IHRoZSByb29tcyBsaXN0IChkdXBsaWNhdGUgbmFtZXMgbm90IGFsbG93ZWQhKVxuXHRcdFx0XHRpZiAodHJ1ZSkvL3RoaXMuX3ZhbGlkYXRlTmV3Um9vbU5hbWUoY2hhbmdlcykpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHQvLyBEaXNhYmxlIHJvb20gY3JlYXRpb24gcGFuZWxcblx0XHRcdFx0XHR0aGlzLl9lbmFibGVDcmVhdGVSb29tUGFuZWwoZmFsc2UpO1xuXG5cdFx0XHRcdFx0Ly8gU2VuZCBzZXR0aW5ncyB0byBzZXJ2ZXIgaW5zdGFuY2Vcblx0XHRcdFx0XHRsZXQgcGFyYW1zID0gbmV3IFNGUzJYLlNGU09iamVjdCgpO1xuXHRcdFx0XHRcdHBhcmFtcy5wdXRTRlNBcnJheSgnc2V0dGluZ3MnLCBjaGFuZ2VzKTtcblx0XHRcdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCd6TmFtZScsIHRoaXMuX3pvbmVMaXN0Qm94LmRhdGFJdGVtKHRoaXMuX3pvbmVMaXN0Qm94LnNlbGVjdCgpKS5uYW1lKTtcblx0XHRcdFx0XHRwYXJhbXMucHV0Qm9vbCgnbm90aWZ5JywgJCgnI3pubS1ub3RpZnlDbGllbnRzQ0InKS5wcm9wKCdjaGVja2VkJykpO1xuXG5cdFx0XHRcdFx0Ly8gU2VuZCBzZXR0aW5ncyB0byBleHRlbnNpb25cblx0XHRcdFx0XHR0aGlzLnNlbmRFeHRlbnNpb25SZXF1ZXN0KHRoaXMuUkVRX0NSRUFURV9ST09NLCBwYXJhbXMpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0e1xuXHRcdFx0XHRcdC8vIFNob3cgYWxlcnRcblx0XHRcdFx0XHR0aGlzLnNoZWxsQ3RybC5zaG93U2ltcGxlQWxlcnQoJ1VuYWJsZSB0byBzdWJtaXQgY29uZmlndXJhdGlvbiBiZWNhdXNlIHRoZSBSb29tIG5hbWUgYWxyZWFkeSBleGlzdHM7IGR1cGxpY2F0ZSBuYW1lcyBhcmUgbm90IGFsbG93ZWQuJywgdHJ1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdC8vIFNob3cgYWxlcnRcblx0XHRcdHRoaXMuc2hlbGxDdHJsLnNob3dTaW1wbGVBbGVydCgnVW5hYmxlIHRvIHN1Ym1pdCBSb29tIGNvbmZpZ3VyYXRpb24gZHVlIHRvIGFuIGludmFsaWQgdmFsdWU7IHBsZWFzZSB2ZXJpZnkgdGhlIGhpZ2hsaWdodGVkIGZvcm0gZmllbGRzIGluIGFsbCB0YWJzLicsIHRydWUpO1xuXHRcdH1cblx0fVxuXG5cdF9vblNob3dSb29tRmlsdGVyQnRDbGljaygpXG5cdHtcblx0XHR0aGlzLl9yb29tRmlsdGVyLnNob3coKTtcblx0fVxuXG5cdF9vblNob3dVc2VyRmlsdGVyQnRDbGljaygpXG5cdHtcblx0XHR0aGlzLl91c2VyRmlsdGVyLnNob3coKTtcblx0fVxuXG5cdF9vbkFwcGx5QnRDaGFuZ2UoKVxuXHR7XG5cdFx0Ly8gUmVxdWVzdCBkYXRhIHRvIHNlcnZlclxuXHRcdHRoaXMuX3JlcXVlc3REYXRhKHRydWUpO1xuXHR9XG5cblx0X29uUm9vbUZpbHRlclVwZGF0ZWQoKVxuXHR7XG5cdFx0Ly8gRW5hYmxlL2Rpc2FibGUgXCJBcHBseVwiIGNoZWNrYm94XG5cdFx0JCgnI3pubS1hcHBseVJvb21GaWx0ZXJDQicpLmF0dHIoJ2Rpc2FibGVkJywgdGhpcy5fcm9vbUZpbHRlci5maWx0ZXJFeHByZXNzaW9uID09IG51bGwpO1xuXG5cdFx0Ly8gUmVxdWVzdCBkYXRhIHRvIHNlcnZlclxuXHRcdHRoaXMuX3JlcXVlc3REYXRhKHRydWUpO1xuXHR9XG5cblx0X29uVXNlckZpbHRlclVwZGF0ZWQoKVxuXHR7XG5cdFx0Ly8gRW5hYmxlL2Rpc2FibGUgXCJBcHBseVwiIGNoZWNrYm94XG5cdFx0JCgnI3pubS1hcHBseVVzZXJGaWx0ZXJDQicpLmF0dHIoJ2Rpc2FibGVkJywgdGhpcy5fdXNlckZpbHRlci5maWx0ZXJFeHByZXNzaW9uID09IG51bGwpO1xuXG5cdFx0Ly8gUmVxdWVzdCBkYXRhIHRvIHNlcnZlclxuXHRcdHRoaXMuX3JlcXVlc3REYXRhKHRydWUpO1xuXHR9XG5cblx0X29uTW9uaXRvclNlbGVjdGlvbkJ0Q2xpY2soKVxuXHR7XG5cdFx0aWYgKHRoaXMuX3NlbGVjdGVkWm9uZSlcblx0XHR7XG5cdFx0XHQvLyBDYW5jZWwgcHJldmlvdXMgbW9uaXRvcmluZ1xuXHRcdFx0dGhpcy5fb25DbG9zZU1vbml0b3JCdENsaWNrKCk7XG5cblx0XHRcdGxldCBnZXRab25lVXNlckNvdW50SGlzdG9yeSA9IGZhbHNlO1xuXG5cdFx0XHR0aGlzLl9tb25pdG9yZWRab25lID0gdGhpcy5fc2VsZWN0ZWRab25lLm5hbWU7XG5cblx0XHRcdC8vIFpvbmUgbXVzdCBiZSBtb25pdG9yZWRcblx0XHRcdGlmICh0aGlzLl9hY3RpdmVQYW5lbFR5cGUgPT0gJ3pvbmUnKVxuXHRcdFx0e1xuXHRcdFx0XHR0aGlzLl9tb25pdG9yZWRUeXBlID0gdGhpcy5NT05JVE9SRURfVFlQRV9aT05FO1xuXHRcdFx0XHR0aGlzLl9tb25pdG9yZWROYW1lID0gdGhpcy5fbW9uaXRvcmVkWm9uZTtcblxuXHRcdFx0XHRnZXRab25lVXNlckNvdW50SGlzdG9yeSA9IHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJvb20gbXVzdCBiZSBtb25pdG9yZWRcblx0XHRcdGlmICh0aGlzLl9hY3RpdmVQYW5lbFR5cGUgPT0gJ3Jvb20nICYmIHRoaXMuX3NlbGVjdGVkUm9vbSAhPSB1bmRlZmluZWQpXG5cdFx0XHR7XG5cdFx0XHRcdHRoaXMuX21vbml0b3JlZFR5cGUgPSB0aGlzLk1PTklUT1JFRF9UWVBFX1JPT007XG5cdFx0XHRcdHRoaXMuX21vbml0b3JlZE5hbWUgPSB0aGlzLl9zZWxlY3RlZFJvb20ubmFtZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVXNlciBtdXN0IGJlIG1vbml0b3JlZFxuXHRcdFx0aWYgKHRoaXMuX2FjdGl2ZVBhbmVsVHlwZSA9PSAndXNlcicgJiYgdGhpcy5fc2VsZWN0ZWRVc2VyICE9IHVuZGVmaW5lZClcblx0XHRcdHtcblx0XHRcdFx0dGhpcy5fbW9uaXRvcmVkVHlwZSA9IHRoaXMuTU9OSVRPUkVEX1RZUEVfVVNFUjtcblx0XHRcdFx0dGhpcy5fbW9uaXRvcmVkTmFtZSA9IHRoaXMuX3NlbGVjdGVkVXNlci5uYW1lO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTaG93IGxvYWRpbmcgYmFyXG5cdFx0XHR0aGlzLl9zd2l0Y2hWaWV3KCd6bm0tbG9hZGluZycpO1xuXG5cdFx0XHQvLyBSZXF1ZXN0IGRhdGEgdG8gc2VydmVyXG5cdFx0XHR0aGlzLl9yZXF1ZXN0RGF0YSh0cnVlLCBnZXRab25lVXNlckNvdW50SGlzdG9yeSk7XG5cdFx0fVxuXHR9XG5cblx0X29uU2VuZEFkbWluTXNnSW5LZXlVcChldmVudClcblx0e1xuXHRcdGlmIChldmVudC5rZXkgIT09ICdFbnRlcicpXG5cdFx0XHRyZXR1cm47XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHRoaXMuX29uU2VuZEFkbWluTXNnQnRDbGljaygpO1xuXHR9XG5cblx0X29uU2VuZEFkbWluTXNnQnRDbGljaygpXG5cdHtcblx0XHRpZiAodGhpcy5fc2VsZWN0ZWRab25lICYmICQoJyN6bm0tbWVzc2FnZUluJykudmFsKCkgIT0gJycpXG5cdFx0e1xuXHRcdFx0Ly8gQnVpbGQgcmVxdWVzdCBwYXJhbWV0ZXJzXG5cdFx0XHRsZXQgcGFyYW1zID0gbmV3IFNGUzJYLlNGU09iamVjdCgpO1xuXG5cdFx0XHQvLyBBbHdheXMgaW5jbHVkZSB6b25lXG5cdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCd6b25lJywgdGhpcy5fc2VsZWN0ZWRab25lLm5hbWUpO1xuXG5cdFx0XHQvLyBTZW5kIG1lc3NhZ2UgdG8gcm9vbT9cblx0XHRcdGlmICh0aGlzLl9hY3RpdmVQYW5lbFR5cGUgPT0gJ3Jvb20nICYmIHRoaXMuX3NlbGVjdGVkUm9vbSAhPSB1bmRlZmluZWQpXG5cdFx0XHRcdHBhcmFtcy5wdXRVdGZTdHJpbmcoJ3Jvb20nLCB0aGlzLl9zZWxlY3RlZFJvb20ubmFtZSk7XG5cblx0XHRcdC8vIFNlbmQgbWVzc2FnZSB0byB1c2VyP1xuXHRcdFx0aWYgKHRoaXMuX2FjdGl2ZVBhbmVsVHlwZSA9PSAndXNlcicgJiYgdGhpcy5fc2VsZWN0ZWRVc2VyICE9IHVuZGVmaW5lZClcblx0XHRcdFx0cGFyYW1zLnB1dFV0ZlN0cmluZygndXNlcicsIHRoaXMuX3NlbGVjdGVkVXNlci5uYW1lKTtcblxuXHRcdFx0Ly8gQWRkIG1lc3NhZ2Vcblx0XHRcdHBhcmFtcy5wdXRVdGZTdHJpbmcoJ21zZycsICQoJyN6bm0tbWVzc2FnZUluJykudmFsKCkpO1xuXG5cdFx0XHQvLyBTZW5kIHJlcXVlc3QgdG8gZXh0ZW5zaW9uXG5cdFx0XHR0aGlzLnNlbmRFeHRlbnNpb25SZXF1ZXN0KHRoaXMuUkVRX0FETUlOX01TRywgcGFyYW1zKTtcblxuXHRcdFx0Ly8gQ2xlYXIgdGV4dCBpbnB1dFxuXHRcdFx0JCgnI3pubS1tZXNzYWdlSW4nKS52YWwoJycpO1xuXHRcdH1cblx0fVxuXG5cdF9vbkNsb3NlTW9uaXRvckJ0Q2xpY2soKVxuXHR7XG5cdFx0Ly8gU2F2ZSByZWYuIGZvciBsYXRlciB1c2FnZVxuXHRcdGNvbnN0IG1vbml0b3JlZFR5cGUgPSB0aGlzLl9tb25pdG9yZWRUeXBlO1xuXG5cdFx0dGhpcy5fbW9uaXRvcmVkWm9uZSA9IG51bGw7XG5cdFx0dGhpcy5fbW9uaXRvcmVkVHlwZSA9IG51bGw7XG5cdFx0dGhpcy5fbW9uaXRvcmVkTmFtZSA9IG51bGw7XG5cblx0XHQvLyBDbGVhciBnZW9sb2NhdGlvbiBVSVxuXHRcdHRoaXMuX2NsZWFyR2VvTG9jYXRpb25VSSgpO1xuXG5cdFx0Ly8gQ2xlYXIgbG9nIGRhdGFncmlkcyBkYXRhcHJvdmlkZXJzXG5cdFx0Ly8gTk9URTogYSB0cnktY2F0Y2ggaXMgdXNlZCBoZXJlIGJlY2F1c2UsIGZvciBhbiB1bmtub3duIHJlYXNvbiwgS2VuZG8gaXMgdGhyb3dpbmcgYW4gZXJyb3Igd2hlbiByZXNldHRpbmcgdGhlIGRhdGEgc291cmNlcyB3aGVuIHRoZSBtb2R1bGUgaXMgZGVzdHJveWVkXG5cdFx0dHJ5XG5cdFx0e1xuXHRcdFx0dGhpcy5fem9uZUV4dExvZ0dyaWQuc2V0RGF0YVNvdXJjZShbXSk7XG5cdFx0XHR0aGlzLl9yb29tRXh0TG9nR3JpZC5zZXREYXRhU291cmNlKFtdKTtcblx0XHR9XG5cdFx0Y2F0Y2ggKGUpIHsgLyogSWdub3JlICovIH1cblxuXHRcdC8vIExlYXZlIGVkaXQgbW9kZVxuXHRcdHRoaXMuX29uQ2FuY2VsQnRDbGljaygpO1xuXG5cdFx0Ly8gUmVhcnJhbmdlIG1vbml0b3JpbmcgaW50ZXJmYWNlXG5cdFx0dGhpcy5fc2V0TW9uaXRvcmluZ0ludGVyZmFjZSgpO1xuXG5cdFx0Ly8gQ2xlYXIgdGFiIG5hdmlnYXRvclxuXHRcdHRoaXMuX2NsZWFyVGFicyhtb25pdG9yZWRUeXBlKTtcblx0fVxuXG5cdF9vbkVkaXRCdENsaWNrKClcblx0e1xuXHRcdGlmICghdGhpcy5faXNFZGl0aW5nKVxuXHRcdHtcblx0XHRcdC8vIFNob3cgZWRpdCBjb250cm9sc1xuXHRcdFx0JCgnI3pubS1lZGl0Q29udHJvbHMnKS5zaG93KCk7XG5cblx0XHRcdC8vIEhpZGUgZWRpdCBidXR0b25cblx0XHRcdCQoJyN6bm0tZWRpdEJ0JykuaGlkZSgpO1xuXG5cdFx0XHQvLyBFbmFibGUgZWRpdGFibGUgZmllbGRzXG5cdFx0XHR0aGlzLl9pbnRlcmZhY2VCdWlsZGVyLmRpc2FibGVJbnRlcmZhY2UoZmFsc2UpO1xuXG5cdFx0XHR0aGlzLl9pc0VkaXRNb2RlID0gdHJ1ZTtcblx0XHR9XG5cdH1cblxuXHRfb25DYW5jZWxCdENsaWNrKClcblx0e1xuXHRcdGlmICh0aGlzLl9pc0VkaXRpbmcpXG5cdFx0e1xuXHRcdFx0Ly8gSGlkZSBlZGl0IGNvbnRyb2xzXG5cdFx0XHQkKCcjem5tLWVkaXRDb250cm9scycpLmhpZGUoKTtcblxuXHRcdFx0Ly8gU2hvdyBlZGl0IGJ1dHRvblxuXHRcdFx0JCgnI3pubS1lZGl0QnQnKS5zaG93KCk7XG5cblx0XHRcdC8vIERpc2FibGUgZWRpdGFibGUgZmllbGRzXG5cdFx0XHR0aGlzLl9pbnRlcmZhY2VCdWlsZGVyLmRpc2FibGVJbnRlcmZhY2UodHJ1ZSk7XG5cblx0XHRcdHRoaXMuX2lzRWRpdE1vZGUgPSBmYWxzZTtcblxuXHRcdFx0Ly8gSGlkZSB2YWxpZGF0aW9uIG1lc3NhZ2VzXG5cdFx0XHR0aGlzLl9pbnRlcmZhY2VCdWlsZGVyLnJlc2V0VmFsaWRhdGlvbigpO1xuXG5cdFx0XHQvLyBSZXF1ZXN0IGRhdGEgdG8gdXBkYXRlIGludGVyZmFjZSAodXBkYXRpbmcgc3VzcGVuZGVkIGluIGVkaXQgbW9kZSlcblx0XHRcdHRoaXMuX3JlcXVlc3REYXRhKHRydWUpO1xuXHRcdH1cblx0fVxuXG5cdF9vblN1Ym1pdEJ0Q2xpY2soKVxuXHR7XG5cdFx0aWYgKHRoaXMuX2lzRWRpdGluZylcblx0XHR7XG5cdFx0XHQvLyBDaGVjayB2YWxpZGl0eVxuXHRcdFx0aWYgKHRoaXMuX2ludGVyZmFjZUJ1aWxkZXIuY2hlY2tJc1ZhbGlkKCkpXG5cdFx0XHR7XG5cdFx0XHRcdGxldCBjaGFuZ2VzID0gdGhpcy5faW50ZXJmYWNlQnVpbGRlci5nZXRDaGFuZ2VkRGF0YSgpO1xuXG5cdFx0XHRcdGlmIChjaGFuZ2VzLnNpemUoKSA+IDApXG5cdFx0XHRcdHtcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKGNoYW5nZXMuZ2V0RHVtcCgpKVxuXG5cdFx0XHRcdFx0Ly8gU2VuZCBzZXR0aW5ncyB0byBzZXJ2ZXIgaW5zdGFuY2Vcblx0XHRcdFx0XHRsZXQgcGFyYW1zID0gbmV3IFNGUzJYLlNGU09iamVjdCgpO1xuXHRcdFx0XHRcdHBhcmFtcy5wdXRTRlNBcnJheSgnc2V0dGluZ3MnLCBjaGFuZ2VzKTtcblx0XHRcdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCd6b25lJywgdGhpcy5fbW9uaXRvcmVkWm9uZSk7XG5cblx0XHRcdFx0XHRpZiAodGhpcy5fbW9uaXRvcmVkVHlwZSA9PSB0aGlzLk1PTklUT1JFRF9UWVBFX1JPT00pXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Ly8gU3VibWl0IHJvb20gc2V0dGluZ3Ncblx0XHRcdFx0XHRcdHBhcmFtcy5wdXRVdGZTdHJpbmcoJ3Jvb20nLCB0aGlzLl9tb25pdG9yZWROYW1lKTtcblx0XHRcdFx0XHRcdHRoaXMuc2VuZEV4dGVuc2lvblJlcXVlc3QodGhpcy5SRVFfU0VUX1JPT01fU0VUVElOR1MsIHBhcmFtcyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHRoaXMuX21vbml0b3JlZFR5cGUgPT0gdGhpcy5NT05JVE9SRURfVFlQRV9VU0VSKVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdC8vIFN1Ym1pdCB1c2VyIHNldHRpbmdzXG5cdFx0XHRcdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCd1c2VyJywgdGhpcy5fbW9uaXRvcmVkTmFtZSk7XG5cdFx0XHRcdFx0XHR0aGlzLnNlbmRFeHRlbnNpb25SZXF1ZXN0KHRoaXMuUkVRX1NFVF9VU0VSX1NFVFRJTkdTLCBwYXJhbXMpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Ly8gU3VibWl0IHpvbmUgc2V0dGluZ3Ncblx0XHRcdFx0XHRcdHRoaXMuc2VuZEV4dGVuc2lvblJlcXVlc3QodGhpcy5SRVFfU0VUX1pPTkVfU0VUVElOR1MsIHBhcmFtcyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gTGVhdmUgZWRpdCBtb2RlXG5cdFx0XHRcdFx0dGhpcy5fb25DYW5jZWxCdENsaWNrKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdHtcblx0XHRcdFx0Ly8gU2hvdyBhbGVydFxuXHRcdFx0XHR0aGlzLnNoZWxsQ3RybC5zaG93U2ltcGxlQWxlcnQoJ1VuYWJsZSB0byBzdWJtaXQgY2hhbmdlcyBkdWUgdG8gYW4gaW52YWxpZCB2YWx1ZTsgcGxlYXNlIHZlcmlmeSB0aGUgaGlnaGxpZ2h0ZWQgZm9ybSBmaWVsZHMgaW4gYWxsIHRhYnMuJywgdHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0X29uVGltZVJhbmdlQ2hhbmdlKClcblx0e1xuXHRcdGxldCB2YWx1ZXMgPSB0aGlzLl90aW1lU2xpZGVyLnZhbHVlKCk7XG5cblx0XHRpZiAodmFsdWVzWzBdID09IHZhbHVlc1sxXSlcblx0XHR7XG5cdFx0XHRpZiAodmFsdWVzWzFdID09IC0yNClcblx0XHRcdFx0dmFsdWVzWzFdID0gLTIzO1xuXG5cdFx0XHR2YWx1ZXNbMF0gPSB2YWx1ZXNbMV0gLSAxO1xuXG5cdFx0XHQvLyBSZXNldCB0aGUgdGltZSByYW5nZSBzbGlkZXIgdmFsdWUgKHdlIG5lZWQgdG8gdXNlIHNldFRpbWVvdXRcblx0XHRcdC8vIGJhY2F1c2UgZG9pbmcgaXQgaW4gdGhlIGNoYW5nZSBldmVudCBsaXN0ZW5lciBkb2Vzbid0IHJlZHJhdyB0aGUgc2xpZGVyKVxuXHRcdFx0c2V0VGltZW91dCgkLnByb3h5KCBmdW5jdGlvbih2YWx1ZXMpIHsgdGhpcy5fdGltZVNsaWRlci52YWx1ZSh2YWx1ZXMpOyB9LCB0aGlzKSwgMTAsIHZhbHVlcyk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fdXNlckNvdW50Q2hhcnQucmFuZ2UgPSB2YWx1ZXM7XG5cdH1cblxuXHRfb25XaW5kb3dSZXNpemUoKVxuXHR7XG5cdFx0Ly8gUmVkcmF3IGNoYXJ0c1xuXHRcdHRoaXMuX3VzZXJDb3VudENoYXJ0LnJlZHJhdygpO1xuXHRcdHRoaXMuX3BhY2tldFF1ZXVlQ2hhcnQucmVkcmF3KCk7XG5cdFx0dGhpcy5fZHJvcHBlZE1zZ0NoYXJ0LnJlZHJhdygpO1xuXHRcdHRoaXMuX3dyaXR0ZW5EYXRhQ2hhcnQucmVkcmF3KCk7XG5cdFx0dGhpcy5fcmVhZERhdGFDaGFydC5yZWRyYXcoKTtcblxuXHRcdC8vIFJlZHJhdyB0aW1lIHJhbmdlIHNsaWRlclxuXHRcdHRoaXMuX3RpbWVTbGlkZXIucmVzaXplKCk7XG5cdH1cblxuXHRfb25Xb3Jkc1JlbG9hZEJ0Q2xpY2soKVxuXHR7XG5cdFx0aWYgKHRoaXMuX21vbml0b3JlZFR5cGUgPT0gdGhpcy5NT05JVE9SRURfVFlQRV9aT05FKVxuXHRcdHtcblx0XHRcdC8vIFNlbmQgcmVxdWVzdCB0byBleHRlbnNpb25cblx0XHRcdGxldCBwYXJhbXMgPSBuZXcgU0ZTMlguU0ZTT2JqZWN0KCk7XG5cdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCd6b25lJywgdGhpcy5fbW9uaXRvcmVkTmFtZSk7XG5cblx0XHRcdHRoaXMuc2VuZEV4dGVuc2lvblJlcXVlc3QodGhpcy5SRVFfUkVMT0FEX1dPUkRTLCBwYXJhbXMpO1xuXHRcdH1cblx0fVxuXG5cdF9vblpvbmVFeHRSZWxvYWRCdENsaWNrKClcblx0e1xuXHRcdGlmICh0aGlzLl9tb25pdG9yZWRUeXBlID09IHRoaXMuTU9OSVRPUkVEX1RZUEVfWk9ORSlcblx0XHR7XG5cdFx0XHQvLyBTZW5kIHJlcXVlc3QgdG8gZXh0ZW5zaW9uXG5cdFx0XHRsZXQgcGFyYW1zID0gbmV3IFNGUzJYLlNGU09iamVjdCgpO1xuXHRcdFx0cGFyYW1zLnB1dFV0ZlN0cmluZygnem9uZScsIHRoaXMuX21vbml0b3JlZE5hbWUpO1xuXG5cdFx0XHR0aGlzLnNlbmRFeHRlbnNpb25SZXF1ZXN0KHRoaXMuUkVRX1JFTE9BRF9aT05FX0VYVCwgcGFyYW1zKTtcblx0XHR9XG5cdH1cblxuXHRfb25LaWNrQnRDbGljaygpXG5cdHtcblx0XHRpZiAodGhpcy5fbW9uaXRvcmVkVHlwZSA9PSB0aGlzLk1PTklUT1JFRF9UWVBFX1VTRVIpXG5cdFx0e1xuXHRcdFx0Ly8gU2VuZCByZXF1ZXN0IHRvIGV4dGVuc2lvblxuXHRcdFx0bGV0IHBhcmFtcyA9IG5ldyBTRlMyWC5TRlNPYmplY3QoKTtcblx0XHRcdHBhcmFtcy5wdXRVdGZTdHJpbmcoJ3pvbmUnLCB0aGlzLl9tb25pdG9yZWRab25lKTtcblx0XHRcdHBhcmFtcy5wdXRVdGZTdHJpbmcoJ3VzZXInLCB0aGlzLl9tb25pdG9yZWROYW1lKTtcblx0XHRcdHBhcmFtcy5wdXRVdGZTdHJpbmcoJ21zZycsICQoJyN6bm0ta2lja01zZ0luJykudmFsKCkpO1xuXHRcdFx0cGFyYW1zLnB1dEludCgnZGVsYXknLCAodGhpcy5fa2lja0RlbGF5SW4udmFsdWUoKSAhPSBudWxsID8gTnVtYmVyKHRoaXMuX2tpY2tEZWxheUluLnZhbHVlKCkpIDogdGhpcy5LSUNLX0JBTl9ERUZBVUxUX0RFTEFZKSk7XG5cdFx0XHRcblx0XHRcdHRoaXMuc2VuZEV4dGVuc2lvblJlcXVlc3QodGhpcy5SRVFfS0lDS19VU0VSLCBwYXJhbXMpO1xuXG5cdFx0XHQvLyBSZXNldCBtZXNzYWdlXG5cdFx0XHQkKCcjem5tLWtpY2tNc2dJbicpLnZhbCgnJyk7XG5cdFx0fVxuXHR9XG5cblx0X29uQmFuQnRDbGljaygpXG5cdHtcblx0XHRpZiAodGhpcy5fbW9uaXRvcmVkVHlwZSA9PSB0aGlzLk1PTklUT1JFRF9UWVBFX1VTRVIpXG5cdFx0e1xuXHRcdFx0Ly8gU2VuZCByZXF1ZXN0IHRvIGV4dGVuc2lvblxuXHRcdFx0bGV0IHBhcmFtcyA9IG5ldyBTRlMyWC5TRlNPYmplY3QoKTtcblx0XHRcdHBhcmFtcy5wdXRVdGZTdHJpbmcoJ3pvbmUnLCB0aGlzLl9tb25pdG9yZWRab25lKTtcblx0XHRcdHBhcmFtcy5wdXRVdGZTdHJpbmcoJ3VzZXInLCB0aGlzLl9tb25pdG9yZWROYW1lKTtcblx0XHRcdHBhcmFtcy5wdXRVdGZTdHJpbmcoJ21zZycsICQoJyN6bm0tYmFuTXNnSW4nKS52YWwoKSk7XG5cdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCdtb2RlJywgdGhpcy5fYmFuTW9kZURkLnNlbGVjdCgpID4gMCA/IHRoaXMuX2Jhbk1vZGVEZC52YWx1ZSgpIDogJ05BTUUnKTtcblx0XHRcdHBhcmFtcy5wdXRJbnQoJ2RlbGF5JywgKHRoaXMuX2JhbkRlbGF5SW4udmFsdWUoKSAhPSBudWxsID8gTnVtYmVyKHRoaXMuX2JhbkRlbGF5SW4udmFsdWUoKSkgOiB0aGlzLktJQ0tfQkFOX0RFRkFVTFRfREVMQVkpKTtcblxuXHRcdFx0bGV0IGR1cmF0aW9uID0gdGhpcy5fYmFuRHVyYXRpb25Jbi52YWx1ZSgpICE9IG51bGwgPyBOdW1iZXIodGhpcy5fYmFuRHVyYXRpb25Jbi52YWx1ZSgpKSA6IDE7XG5cblx0XHRcdGlmICh0aGlzLl9iYW5EdXJVbml0RGQudmFsdWUoKSA9PSAnaG91cnMnKVxuXHRcdFx0XHRkdXJhdGlvbiA9IGR1cmF0aW9uICogNjA7XG5cdFx0XHRlbHNlIGlmICh0aGlzLl9iYW5EdXJVbml0RGQudmFsdWUoKSA9PSAnZGF5cycpXG5cdFx0XHRcdGR1cmF0aW9uID0gZHVyYXRpb24gKiA2MCAqIDI0O1xuXG5cdFx0XHRwYXJhbXMucHV0SW50KCdkdXJhdGlvbicsIGR1cmF0aW9uKTtcblxuXHRcdFx0dGhpcy5zZW5kRXh0ZW5zaW9uUmVxdWVzdCh0aGlzLlJFUV9CQU5fVVNFUiwgcGFyYW1zKTtcblxuXHRcdFx0Ly8gUmVzZXQgbWVzc2FnZVxuXHRcdFx0JCgnI3pubS1iYW5Nc2dJbicpLnZhbCgnJyk7XG5cdFx0fVxuXHR9XG5cblx0Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0Ly8gUFJJVkFURSBNRVRIT0RTXG5cdC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0X3NldE1vbml0b3JpbmdJbnRlcmZhY2UoKVxuXHR7XG5cdFx0Y29uc3QgZW5hYmxlZCA9ICh0aGlzLl9tb25pdG9yZWRUeXBlICE9IG51bGwgJiYgdGhpcy5fbW9uaXRvcmVkTmFtZSAhPSBudWxsKTtcblxuXHRcdC8vIFNob3cvaGlkZSBoZWFkZXIgYW5kIGZvb3RlclxuXHRcdGlmIChlbmFibGVkKVxuXHRcdHtcblx0XHRcdHRoaXMuX3N3aXRjaFZpZXcoYHpubS0ke3RoaXMuX21vbml0b3JlZFR5cGV9TW9uaXRvcmApO1xuXG5cdFx0XHQvLyBIZWFkZXIgdGl0bGVcblx0XHRcdGxldCB0aXRsZSA9ICdOb3cgbW9uaXRvcmluZyAnO1xuXG5cdFx0XHRpZiAodGhpcy5fbW9uaXRvcmVkVHlwZSA9PSB0aGlzLk1PTklUT1JFRF9UWVBFX1VTRVIpXG5cdFx0XHRcdHRpdGxlICs9IGBVc2VyOiA8c3Ryb25nPiR7dGhpcy5fbW9uaXRvcmVkTmFtZX08L3N0cm9uZz4gKFpvbmU6ICR7dGhpcy5fbW9uaXRvcmVkWm9uZX0pYDtcblx0XHRcdGVsc2UgaWYgKHRoaXMuX21vbml0b3JlZFR5cGUgPT0gdGhpcy5NT05JVE9SRURfVFlQRV9ST09NKVxuXHRcdFx0XHR0aXRsZSArPSBgUm9vbTogPHN0cm9uZz4ke3RoaXMuX21vbml0b3JlZE5hbWV9PC9zdHJvbmc+IChab25lOiAke3RoaXMuX21vbml0b3JlZFpvbmV9KWA7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHRpdGxlICs9IGBab25lOiA8c3Ryb25nPiR7dGhpcy5fbW9uaXRvcmVkWm9uZX08L3N0cm9uZz5gO1xuXG5cdFx0XHQkKCcjem5tLW1vbml0b3JlZEhlYWRlcicpLmh0bWwodGl0bGUpO1xuXHRcdFx0JCgnI3pubS1tb25pdG9yZWRGb290ZXInKS5zaG93KCk7XG5cblx0XHRcdC8vIFNob3cgcGFuZWxcblx0XHRcdHRoaXMuX3N3aXRjaFBhbmVsKCd6bm0tbWFpblBhbmVsJyk7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHR0aGlzLl9zd2l0Y2hWaWV3KCd6bm0tc2VsZWN0Jyk7XG5cblx0XHRcdCQoJyN6bm0tbW9uaXRvcmVkSGVhZGVyJykuaHRtbCgnJyk7XG5cdFx0XHQkKCcjem5tLW1vbml0b3JlZEZvb3RlcicpLmhpZGUoKTtcblxuXHRcdFx0Ly8gU2hvdyBwYW5lbFxuXHRcdFx0dGhpcy5fc3dpdGNoUGFuZWwoJ3pubS1zaWRlYmFyUGFuZWwnKTtcblx0XHR9XG5cdH1cblxuXHRfc3dpdGNoVmlldyh2aWV3SWQpXG5cdHtcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnem5tLXZpZXdzdGFjaycpLnNlbGVjdGVkRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHZpZXdJZCk7XG5cdH1cblxuXHRfc3dpdGNoUGFuZWwocGFuZWxJZClcblx0e1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd6bm0tdmlldycpLnNlbGVjdGVkUGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwYW5lbElkKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBCdWlsZCB0aGUgcG9sbGluZyByZXF1ZXN0IHRvIGJlIHNlbnQgdG8gdGhlIHNlcnZlciwgYmFzZWQgb24gdGhlIHNlbGVjdGlvbnMgYW5kIG90aGVyIHNldHRpbmdzIGluIHRoZSBhY2NvcmRpb24uXG5cdCAqL1xuXHRfcmVxdWVzdERhdGEobmV3SWQgPSBmYWxzZSwgZ2V0Wm9uZVVzZXJDb3VudEhpc3RvcnkgPSBmYWxzZSlcblx0e1xuXHRcdC8vIENsZWFyIHByZXZpb3VzIHJlcXVlc3Qgc2NoZWR1bGluZ1xuXHRcdGNsZWFyVGltZW91dCh0aGlzLl9yZXF1ZXN0VGltZXIpO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgY29ubmVjdGlvbiBpcyBzdGlsbCBhdmFpbGFibGVcblx0XHRpZiAodGhpcy5zbWFydEZveC5pc0Nvbm5lY3RlZClcblx0XHR7XG5cdFx0XHRpZiAobmV3SWQpXG5cdFx0XHRcdHRoaXMuX2N1cnJlbnRSZXF1ZXN0SWQrKztcblxuXHRcdFx0Ly8gQnVpbGQgcmVxdWVzdCBwYXJhbWV0ZXJzXG5cdFx0XHRsZXQgcGFyYW1zID0gbmV3IFNGUzJYLlNGU09iamVjdCgpO1xuXG5cdFx0XHQvLyBUaGUgdXBkYXRlZCB6b25lcy9yb29tcy91c2VycyBsaXN0cyBhcmUgcmVxdWVzdGVkIGlmIHRoZSBjb3JyZXNwb25kaW5nIHBhbmVsIGlzIGRpc3BsYXllZCBvbmx5XG5cdFx0XHRjb25zdCBnZXRab25lcyA9ICh0aGlzLl9hY3RpdmVQYW5lbFR5cGUgPT0gJ3pvbmUnKTtcblx0XHRcdGNvbnN0IGdldFJvb21zID0gKHRoaXMuX2FjdGl2ZVBhbmVsVHlwZSA9PSAncm9vbScgJiYgdGhpcy5fc2VsZWN0ZWRab25lICE9IHVuZGVmaW5lZCk7XG5cdFx0XHRjb25zdCBnZXRVc2VycyA9ICh0aGlzLl9hY3RpdmVQYW5lbFR5cGUgPT0gJ3VzZXInICYmIHRoaXMuX3NlbGVjdGVkWm9uZSAhPSB1bmRlZmluZWQpO1xuXG5cdFx0XHQvLyAtLS0gWk9ORVMgLS0tXG5cdFx0XHRwYXJhbXMucHV0Qm9vbCgnem9uZXMnLCBnZXRab25lcyk7XG5cblx0XHRcdC8vIFJPT01TICYgVVNFUlNcblx0XHRcdGlmIChnZXRSb29tcyB8fCBnZXRVc2Vycylcblx0XHRcdHtcblx0XHRcdFx0Ly8gQ29tbW9uIGZpbHRlcmluZyBwYXJhbXM6XG5cblx0XHRcdFx0Ly8gYSkgem9uZSBuYW1lXG5cdFx0XHRcdHBhcmFtcy5wdXRVdGZTdHJpbmcoJ3pvbmUnLCB0aGlzLl9zZWxlY3RlZFpvbmUubmFtZSk7XG5cblx0XHRcdFx0Ly8gYikgZ3JvdXAgbmFtZVxuXHRcdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCdncm91cCcsIHRoaXMuX3NlbGVjdGVkR3JvdXAubmFtZSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJPT01TXG5cdFx0XHRwYXJhbXMucHV0Qm9vbCgncm9vbXMnLCBnZXRSb29tcyk7XG5cdFx0XHRpZiAoZ2V0Um9vbXMpXG5cdFx0XHR7XG5cdFx0XHRcdC8vIEZpbHRlcmluZyBwYXJhbXM6XG5cblx0XHRcdFx0Ly8gYykgYWR2YW5jZWQgZmlsdGVyaW5nIHBhcmFtc1xuXHRcdFx0XHRpZiAoJCgnI3pubS1hcHBseVJvb21GaWx0ZXJDQicpLnByb3AoJ2NoZWNrZWQnKSAmJiB0aGlzLl9yb29tRmlsdGVyLmZpbHRlckV4cHJlc3Npb24gIT0gbnVsbClcblx0XHRcdFx0XHRwYXJhbXMucHV0U0ZTQXJyYXkoJ3JGaWx0ZXInLCB0aGlzLl9yb29tRmlsdGVyLmZpbHRlckV4cHJlc3Npb24udG9TRlNBcnJheSgpKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVVNFUlNcblx0XHRcdHBhcmFtcy5wdXRCb29sKCd1c2VycycsIGdldFVzZXJzKTtcblx0XHRcdGlmIChnZXRVc2Vycylcblx0XHRcdHtcblx0XHRcdFx0Ly8gRmlsdGVyaW5nIHBhcmFtczpcblxuXHRcdFx0XHQvLyBjKSByb29tIG5hbWVcblx0XHRcdFx0aWYgKHRoaXMuX3NlbGVjdGVkUm9vbSlcblx0XHRcdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCdyb29tJywgdGhpcy5fc2VsZWN0ZWRSb29tLm5hbWUpO1xuXG5cdFx0XHRcdC8vIGQpIGFkdmFuY2VkIGZpbHRlcmluZyBwYXJhbXNcblx0XHRcdFx0aWYgKCQoJyN6bm0tYXBwbHlVc2VyRmlsdGVyQ0InKS5wcm9wKCdjaGVja2VkJykgJiYgdGhpcy5fdXNlckZpbHRlci5maWx0ZXJFeHByZXNzaW9uICE9IG51bGwpXG5cdFx0XHRcdFx0cGFyYW1zLnB1dFNGU0FycmF5KCd1RmlsdGVyJywgdGhpcy5fdXNlckZpbHRlci5maWx0ZXJFeHByZXNzaW9uLnRvU0ZTQXJyYXkoKSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIC0tLSBDVVJSRU5UTFkgTU9OSVRPUkVEIERBVEEgLS0tXG5cdFx0XHRpZiAodGhpcy5fbW9uaXRvcmVkVHlwZSAhPSBudWxsICYmIHRoaXMuX21vbml0b3JlZE5hbWUgIT0gbnVsbClcblx0XHRcdHtcblx0XHRcdFx0bGV0IG1vbml0b3JlZE9iaiA9IHRoaXMuX2dldEJhc2ljTW9uaXRvcmVkT2JqZWN0KCk7XG5cblx0XHRcdFx0aWYgKHRoaXMuX21vbml0b3JlZFR5cGUgPT0gdGhpcy5NT05JVE9SRURfVFlQRV9aT05FKVxuXHRcdFx0XHRcdG1vbml0b3JlZE9iai5wdXRCb29sKCd1YycsIGdldFpvbmVVc2VyQ291bnRIaXN0b3J5KTtcblxuXHRcdFx0XHRwYXJhbXMucHV0U0ZTT2JqZWN0KCdtb25pdG9yZWQnLCBtb25pdG9yZWRPYmopO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZXQgcmVxdWVzdCBpZDsgd2hlbiBhIHJlc3BvbnNlIGlzIHJlY2VpdmVkLCB3ZSBjaGVjayBpdHMgaWQgbWF0Y2hlcyB0aGUgY3VycmVudCByZXF1ZXN0IGlkOiBpZiBub3QsIHRoZSByZXNwb25zZSBpcyBkaXNjYXJkZWRcblx0XHRcdHBhcmFtcy5wdXRJbnQoJ2lkJywgdGhpcy5fY3VycmVudFJlcXVlc3RJZCk7XG5cblx0XHRcdC8vIFNlbmQgcmVxdWVzdCB0byBleHRlbnNpb25cblx0XHRcdHRoaXMuc2VuZEV4dGVuc2lvblJlcXVlc3QodGhpcy5SRVFfR0VUX0RBVEEsIHBhcmFtcyk7XG5cblx0XHRcdC8vIFNjaGVkdWxlIG5leHQgcmVxdWVzdFxuXHRcdFx0dGhpcy5fcmVxdWVzdFRpbWVyID0gc2V0VGltZW91dCgkLnByb3h5KHRoaXMuX3JlcXVlc3REYXRhLCB0aGlzKSwgTnVtYmVyKHRoaXMuX2ludGVydmFsRHJvcERvd24udmFsdWUoKSkgKiAxMDAwKTtcblx0XHR9XG5cdH1cblxuXHRfZ2V0QmFzaWNNb25pdG9yZWRPYmplY3QoKVxuXHR7XG5cdFx0bGV0IG1vbml0b3JlZE9iaiA9IG5ldyBTRlMyWC5TRlNPYmplY3QoKTtcblxuXHRcdG1vbml0b3JlZE9iai5wdXRVdGZTdHJpbmcoJ3pvbmUnLCB0aGlzLl9tb25pdG9yZWRab25lKTtcblx0XHRtb25pdG9yZWRPYmoucHV0VXRmU3RyaW5nKCd0eXBlJywgdGhpcy5fbW9uaXRvcmVkVHlwZSk7XG5cdFx0bW9uaXRvcmVkT2JqLnB1dFV0ZlN0cmluZygnbmFtZScsIHRoaXMuX21vbml0b3JlZE5hbWUpO1xuXG5cdFx0cmV0dXJuIG1vbml0b3JlZE9iajtcblx0fVxuXG5cdF9zZXRab25lc0RhdGFQcm92aWRlcih6b25lc0RhdGEpXG5cdHtcblx0XHR0aGlzLl9zZXRMaXN0RGF0YVByb3ZpZGVyKHRoaXMuX3pvbmVMaXN0Qm94LCB6b25lc0RhdGEsIHRydWUpO1xuXHR9XG5cblx0X3NldFJvb21zRGF0YVByb3ZpZGVyKHJvb21zRGF0YSlcblx0e1xuXHRcdHRoaXMuX3NldExpc3REYXRhUHJvdmlkZXIodGhpcy5fcm9vbUxpc3RCb3gsIHJvb21zRGF0YSwgdHJ1ZSk7XG5cblx0XHQvLyBTZXQgUmVtb3ZlIGJ1dHRvbiBzdGF0ZVxuXHRcdCQoJyN6bm0tcmVtb3ZlUm9vbUJ0JykuYXR0cignZGlzYWJsZWQnLCB0aGlzLl9zZWxlY3RlZFJvb20gPT0gdW5kZWZpbmVkKTtcblx0fVxuXG5cdF9zZXRVc2Vyc0RhdGFQcm92aWRlcih1c2Vyc0RhdGEpXG5cdHtcblx0XHR0aGlzLl9zZXRMaXN0RGF0YVByb3ZpZGVyKHRoaXMuX3VzZXJMaXN0Qm94LCB1c2Vyc0RhdGEpO1xuXHR9XG5cblx0X3NldExpc3REYXRhUHJvdmlkZXIobGlzdFdpZGdldCwgbGlzdERhdGEsIGNvdW50VXNlcnMgPSBmYWxzZSlcblx0e1xuXHRcdC8vIFNhdmUgcmVmZXJlbmNlIHRvIHNlbGVjdGVkIGl0ZW0gbmFtZVxuXHRcdC8vIE5PVEU6IGFzIHdlIGFyZSBzdWJzdGl0dXRpbmcgdGhlIHdob2xlIGRhdGEgc291cmNlLCB3ZSBuZWVkIGl0IHRvIHJlLXNlbGVjdCB0aGUgc2FtZSBpdGVtIGFmdGVyIHVwZGF0ZVxuXHRcdGxldCBzZWxlY3RlZERhdGFJdGVtID0gbGlzdFdpZGdldC5kYXRhSXRlbShsaXN0V2lkZ2V0LnNlbGVjdCgpKTtcblx0XHRsZXQgc2VsZWN0ZWREYXRhSXRlbU5hbWUgPSBzZWxlY3RlZERhdGFJdGVtID8gc2VsZWN0ZWREYXRhSXRlbS5uYW1lIDogbnVsbDtcblxuXHRcdGxldCBkYXRhQXJyYXkgPSBbXTtcblxuXHRcdC8vIENvbnZlcnQgZGF0YSBjb21pbmcgZnJvbSBzZXJ2ZXJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxpc3REYXRhLnNpemUoKTsgaSsrKVxuXHRcdHtcblx0XHRcdGxldCBpdGVtRGF0YSA9IGxpc3REYXRhLmdldFNGU09iamVjdChpKTtcblxuXHRcdFx0bGV0IGl0ZW0gPSB7fTtcblx0XHRcdGl0ZW0ubmFtZSA9IGl0ZW1EYXRhLmdldFV0ZlN0cmluZygnbmFtZScpO1xuXG5cdFx0XHRpZiAoY291bnRVc2Vycylcblx0XHRcdFx0aXRlbS51c2VycyA9IGl0ZW1EYXRhLmdldEludCgndXNlcnMnKTtcblxuXHRcdFx0ZGF0YUFycmF5LnB1c2goaXRlbSk7XG5cdFx0fVxuXG5cdFx0Ly8gQ3JlYXRlIG5ldyBkYXRhIHNvdXJjZVxuXHRcdGxldCBsaXN0RFMgPSBuZXcga2VuZG8uZGF0YS5EYXRhU291cmNlKHtcblx0XHRcdGRhdGE6IGRhdGFBcnJheSxcblx0XHRcdHNjaGVtYToge1xuXHRcdFx0XHRtb2RlbDoge1xuXHRcdFx0XHRcdGlkOiAnbmFtZSdcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdHNvcnQ6IHtcblx0XHRcdFx0ZmllbGQ6ICduYW1lJyxcblx0XHRcdFx0ZGlyOiAnYXNjJ1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gQXNzaWduIGRhdGEgc291cmNlIHRvIGxpc3Rcblx0XHRsaXN0V2lkZ2V0LnNldERhdGFTb3VyY2UobGlzdERTKTtcblxuXHRcdC8vIFNlbGVjdCBhZ2FpbiBwcmV2aW91c2x5IHNlbGVjdGVkIGl0ZW1cblx0XHRpZiAoc2VsZWN0ZWREYXRhSXRlbU5hbWUgIT0gbnVsbClcblx0XHR7XG5cdFx0XHRzZWxlY3RlZERhdGFJdGVtID0gbGlzdERTLmdldChzZWxlY3RlZERhdGFJdGVtTmFtZSk7XG5cblx0XHRcdGlmIChzZWxlY3RlZERhdGFJdGVtKVxuXHRcdFx0e1xuXHRcdFx0XHRsZXQgc2VsZWN0ZWRFbGVtZW50ID0gbGlzdFdpZGdldC53cmFwcGVyLmZpbmQoJ1tkYXRhLXVpZD1cIicgKyBzZWxlY3RlZERhdGFJdGVtLnVpZCArICdcIl0nKTtcblx0XHRcdFx0bGlzdFdpZGdldC5zZWxlY3Qoc2VsZWN0ZWRFbGVtZW50KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSZXNldCBtYWluIGNvbnRyb2wgc3RhdGVcblx0XHR0aGlzLl9zZXRNYWluQ29udHJvbHNFbmFibGVkKCk7XG5cdH1cblxuXHRfc2V0R3JvdXBzRGF0YVByb3ZpZGVyKGdyb3Vwc0RhdGEpXG5cdHtcblx0XHQvLyBDcmVhdGUgR3JvdXBzIGFycmF5LCBhZGRpbmcgY29tbW9uIGVudHJpZXNcblx0XHRsZXQgZ3JvdXBzQXJyYXkgPSBbXG5cdFx0XHR0aGlzLl9nZXRHcm91cE9iaignJywgdGhpcy5BTllfTEFCRUwpLFxuXHRcdFx0dGhpcy5fZ2V0R3JvdXBPYmoodGhpcy5ERUZBVUxUX0dST1VQX05BTUUpXG5cdFx0XTtcblxuXHRcdC8vIFNhdmUgcmVmZXJlbmNlIHRvIHNlbGVjdGVkIGdyb3VwIG5hbWVcblx0XHQvLyBOT1RFOiBhcyB3ZSBhcmUgc3Vic3RpdHV0aW5nIHRoZSB3aG9sZSBkYXRhIHNvdXJjZSwgd2UgbmVlZCBpdCB0byByZS1zZWxlY3QgdGhlIHNhbWUgaXRlbSBhZnRlciB1cGRhdGVcblx0XHRsZXQgc2VsZWN0ZWREYXRhSXRlbSA9IHRoaXMuX3NlbGVjdGVkR3JvdXA7XG5cdFx0bGV0IHNlbGVjdGVkRGF0YUl0ZW1OYW1lID0gc2VsZWN0ZWREYXRhSXRlbSA/IHNlbGVjdGVkRGF0YUl0ZW0ubmFtZSA6IG51bGw7XG5cblx0XHRpZiAoZ3JvdXBzRGF0YSAhPSBudWxsKVxuXHRcdHtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXBzRGF0YS5sZW5ndGg7IGkrKylcblx0XHRcdHtcblx0XHRcdFx0aWYgKGdyb3Vwc0RhdGFbaV0gIT0gdGhpcy5ERUZBVUxUX0dST1VQX05BTUUpIC8vIERlZmF1bHQgZ3JvdXAgd2FzIGFkZGVkIGJlZm9yZVxuXHRcdFx0XHRcdGdyb3Vwc0FycmF5LnB1c2godGhpcy5fZ2V0R3JvdXBPYmooZ3JvdXBzRGF0YVtpXSkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENyZWF0ZSBuZXcgZGF0YSBzb3VyY2Vcblx0XHRsZXQgZ3JvdXBEUyA9IG5ldyBrZW5kby5kYXRhLkRhdGFTb3VyY2Uoe1xuXHRcdFx0ZGF0YTogZ3JvdXBzQXJyYXksXG5cdFx0XHRzY2hlbWE6IHtcblx0XHRcdFx0bW9kZWw6IHtcblx0XHRcdFx0XHRpZDogJ25hbWUnXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEFzc2lnbiBkYXRhIHNvdXJjZSB0byBkcm9wZG93blxuXHRcdHRoaXMuX2dyb3Vwc0Ryb3BEb3duLnNldERhdGFTb3VyY2UoZ3JvdXBEUyk7XG5cblx0XHQvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0XHQvLyBTZWxlY3QgcHJldmlvdXNseSBzZWxlY3RlZCBpdGVtXG5cdFx0c2VsZWN0ZWREYXRhSXRlbSA9IGdyb3VwRFMuZ2V0KHNlbGVjdGVkRGF0YUl0ZW1OYW1lKTtcblxuXHRcdC8vIElmIGdyb3VwIGlzIG5vdCBmb3VuZCwgc2VsZWN0IHRoZSBkZWZhdWx0IG9uZVxuXHRcdGlmIChzZWxlY3RlZERhdGFJdGVtID09IHVuZGVmaW5lZClcblx0XHRcdHNlbGVjdGVkRGF0YUl0ZW0gPSBncm91cERTLmdldCh0aGlzLkRFRkFVTFRfR1JPVVBfTkFNRSk7XG5cblx0XHR0aGlzLl9ncm91cHNEcm9wRG93bi5zZWxlY3QoZnVuY3Rpb24oZGF0YUl0ZW0pIHtcblx0XHRcdHJldHVybiBkYXRhSXRlbS5uYW1lID09PSBzZWxlY3RlZERhdGFJdGVtLm5hbWU7XG5cdFx0fSk7XG5cdH1cblxuXHRfZ2V0R3JvdXBPYmoobmFtZSwgbGFiZWwgPSBudWxsKVxuXHR7XG5cdFx0cmV0dXJuIHtcblx0XHRcdG5hbWU6IG5hbWUsXG5cdFx0XHRsYWJlbDogKGxhYmVsICE9IG51bGwgPyBsYWJlbCA6IG5hbWUpXG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFVwZGF0ZSB0aGUgU2NvcGUgbGFiZWwgaW4gdGhlIFJvb21zIHBhbmVsIGFuZCBpbiB0aGUgVXNlcnMgcGFuZWwuXG5cdCAqL1xuXHRfc2V0U2NvcGVMYWJlbCgpXG5cdHtcblx0XHRsZXQgcm9vbVNjb3BlID0gJyc7XG5cdFx0bGV0IHVzZXJTY29wZSA9ICcnO1xuXG5cdFx0aWYgKHRoaXMuX3NlbGVjdGVkWm9uZSlcblx0XHR7XG5cdFx0XHRsZXQgem9uZU5hbWUgPSB0aGlzLl9zZWxlY3RlZFpvbmUubmFtZTtcblx0XHRcdHJvb21TY29wZSA9IHRoaXMuX2dldFNjb3BlTGFiZWxQYXJ0KCdab25lOicsIHpvbmVOYW1lKTtcblxuXHRcdFx0bGV0IHNlbGVjdGVkR3JvdXAgPSB0aGlzLl9zZWxlY3RlZEdyb3VwO1xuXHRcdFx0bGV0IGdyb3VwTmFtZSA9IChzZWxlY3RlZEdyb3VwICYmIHNlbGVjdGVkR3JvdXAubmFtZSAhPSAnJykgPyBzZWxlY3RlZEdyb3VwLm5hbWUgOiB0aGlzLkFOWV9MQUJFTDtcblx0XHRcdGxldCByb29tTmFtZSA9ICh0aGlzLl9zZWxlY3RlZFJvb20pID8gdGhpcy5fc2VsZWN0ZWRSb29tLm5hbWUgOiB0aGlzLkFOWV9MQUJFTDtcblxuXHRcdFx0dXNlclNjb3BlID0gdGhpcy5fZ2V0U2NvcGVMYWJlbFBhcnQoJ1pvbmU6Jywgem9uZU5hbWUpICsgJzxicj4nICsgdGhpcy5fZ2V0U2NvcGVMYWJlbFBhcnQoJ0dyb3VwOicsIGdyb3VwTmFtZSkgKyAnPGJyPicgKyB0aGlzLl9nZXRTY29wZUxhYmVsUGFydCgnUm9vbTonLCByb29tTmFtZSk7XG5cdFx0fVxuXG5cdFx0JCgnI3pubS1yb29tU2NvcGVMYicpLmh0bWwocm9vbVNjb3BlKTtcblx0XHQkKCcjem5tLXVzZXJTY29wZUxiJykuaHRtbCh1c2VyU2NvcGUpO1xuXHR9XG5cblx0X2dldFNjb3BlTGFiZWxQYXJ0KGxhYmVsLCB0ZXh0KVxuXHR7XG5cdFx0cmV0dXJuIGA8c3BhbiBjbGFzcz1cInRleHQtbXV0ZWRcIj4ke2xhYmVsfTwvc3Bhbj4gPHNwYW4+JHt0ZXh0fTwvc3Bhbj5gO1xuXHR9XG5cblx0X3Jlc2V0Um9vbUxpc3QoKVxuXHR7XG5cdFx0dGhpcy5fcm9vbUxpc3RCb3guc2V0RGF0YVNvdXJjZShbXSk7XG5cblx0XHQvLyBBbHNvIGRpc2FibGUgUmVtb3ZlIGJ1dHRvblxuXHRcdCQoJyN6bm0tcmVtb3ZlUm9vbUJ0JykuYXR0cignZGlzYWJsZWQnLCB0cnVlKTtcblx0fVxuXG5cdF9yZXNldFVzZXJMaXN0KClcblx0e1xuXHRcdHRoaXMuX3VzZXJMaXN0Qm94LnNldERhdGFTb3VyY2UoW10pO1xuXHR9XG5cblx0X3NldE1haW5Db250cm9sc0VuYWJsZWQoKVxuXHR7XG5cdFx0bGV0IGVuYWJsZWQgPSAodGhpcy5fYWN0aXZlUGFuZWxUeXBlID09ICd6b25lJyAmJiB0aGlzLl9zZWxlY3RlZFpvbmUgIT0gdW5kZWZpbmVkKVxuXHRcdFx0XHRcdHx8ICh0aGlzLl9hY3RpdmVQYW5lbFR5cGUgPT0gJ3Jvb20nICYmIHRoaXMuX3NlbGVjdGVkUm9vbSAhPSB1bmRlZmluZWQpXG5cdFx0XHRcdFx0fHwgKHRoaXMuX2FjdGl2ZVBhbmVsVHlwZSA9PSAndXNlcicgJiYgdGhpcy5fc2VsZWN0ZWRVc2VyICE9IHVuZGVmaW5lZCk7XG5cblx0XHQkKCcjem5tLW1haW5Db250cm9scycpLmF0dHIoJ2Rpc2FibGVkJywgIWVuYWJsZWQpO1xuXG5cdFx0JCgnI3pubS1tb25pdG9yVGFyZ2V0TGInKS50ZXh0KGVuYWJsZWQgPyBjYXBpdGFsaXplRmlyc3QodGhpcy5fYWN0aXZlUGFuZWxUeXBlKSA6ICdzZWxlY3Rpb24nKTtcblx0XHQkKCcjem5tLW1lc3NhZ2VJbicpLmF0dHIoJ3BsYWNlaG9sZGVyJywgJ01lc3NhZ2UgdG8gJyArIChlbmFibGVkID8gY2FwaXRhbGl6ZUZpcnN0KHRoaXMuX2FjdGl2ZVBhbmVsVHlwZSkgOiAnc2VsZWN0aW9uJykpO1xuXHR9XG5cblx0X3Nob3dMaW1pdEV4Y2VlZGVkV2FybmluZyhpY29uLCB0aXRsZSlcblx0e1xuXHRcdGljb24uYXR0cigndGl0bGUnLCB0aXRsZSk7XG5cblx0XHRpZiAodGl0bGUgIT0gJycpXG5cdFx0XHRpY29uLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcblx0XHRlbHNlXG5cdFx0XHRpY29uLmFkZENsYXNzKCdoaWRkZW4nKTtcblx0fVxuXG5cdF9zaG93Um9vbUNyZWF0aW9uUGFuZWwocm9vbVNldHRpbmdzKVxuXHR7XG5cdFx0Ly8gQnVpbGQgdXNlciBpbnRlcmZhY2UgYmFzZWQgb24gcGFzc2VkIGRhdGFcblx0XHR0aGlzLl9yb29tQ3JlYXRpb25JQnVpbGRlci5idWlsZEludGVyZmFjZShyb29tU2V0dGluZ3MsICd6bm0tcm9vbUNyZWF0b3JUYWJOYXYnLCBmYWxzZSwgJ3JjJyk7XG5cblx0XHQvLyBFbmFibGUgc2Nyb2xsaW5nIHRhYnNcblx0XHQkKCcjem5tLXJvb21DcmVhdG9yVGFiTmF2ID4gI3RhYnMnKS5zY3JvbGxpbmdUYWJzKHtcblx0XHRcdGJvb3RzdHJhcFZlcnNpb246IDQsXG5cdFx0XHRzY3JvbGxUb1RhYkVkZ2U6IHRydWUsXG5cdFx0XHRlbmFibGVTd2lwaW5nOiB0cnVlLFxuXHRcdFx0ZGlzYWJsZVNjcm9sbEFycm93c09uRnVsbHlTY3JvbGxlZDogdHJ1ZSxcblx0XHRcdGNzc0NsYXNzTGVmdEFycm93OiAnZmEgZmEtY2hldnJvbi1sZWZ0Jyxcblx0XHRcdGNzc0NsYXNzUmlnaHRBcnJvdzogJ2ZhIGZhLWNoZXZyb24tcmlnaHQnXG5cdFx0fSk7XG5cblx0XHQvLyBSZXNldCBOb3RpZnkgY2xpZW50cyBjaGVja2JveFxuXHRcdCQoJyN6bm0tbm90aWZ5Q2xpZW50c0NCJykucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuXG5cdFx0Ly8gU2V0IGxpc3RlbmVyIGZvciBjdXN0b20gYWN0aW9ucyB0cmlnZ2VyZWQgYnkgY29uZmlndXJhdGlvbiBpbnRlcmZhY2Vcblx0XHQkKCcjem5tLXJvb21DcmVhdG9yVGFiTmF2Jykub24oJ3ZhbHVlLXNldCcsICQucHJveHkodGhpcy5fb25Db25maWdWYWx1ZVNldCwgdGhpcykpO1xuXG5cdFx0Ly8gRGlzcGxheSBwYW5lbFxuXHRcdCQoJyN6bm0tY3JlYXRlUm9vbU1vZGFsJykubW9kYWwoJ3Nob3cnKTtcblxuXHRcdC8vIFJlc2V0IGFuZCBoaWRlIGVycm9yIG1lc3NhZ2Vcblx0XHR0aGlzLl9yZXNldFJvb21DcmVhdGlvbkVycm9yKCk7XG5cdH1cblxuXHRfcmVzZXRSb29tQ3JlYXRpb25FcnJvcigpXG5cdHtcblx0XHQvLyBSZXNldCBhbmQgaGlkZSBlcnJvciBtZXNzYWdlXG5cdFx0JCgnI3pubS1jcmVhdGVSb29tRXJyb3InKS50ZXh0KCcnKTtcblx0XHQkKCcjem5tLWNyZWF0ZVJvb21FcnJvcicpLmhpZGUoKTtcblx0fVxuXG5cdF92YWxpZGF0ZU5ld1Jvb21OYW1lKGNoYW5nZXMpXG5cdHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGNoYW5nZXMuc2l6ZSgpOyBpKyspXG5cdFx0e1xuXHRcdFx0Y29uc3Qgc2V0dGluZyA9IGNoYW5nZXMuZ2V0U0ZTT2JqZWN0KGkpO1xuXG5cdFx0XHRpZiAoc2V0dGluZy5jb250YWluc0tleSgnbmFtZScpICYmIHNldHRpbmcuZ2V0VXRmU3RyaW5nKCduYW1lJykgPT0gJ25hbWUnKVxuXHRcdFx0e1xuXHRcdFx0XHQvLyBHZXQgbmFtZSB2YWx1ZVxuXHRcdFx0XHRjb25zdCBuYW1lID0gc2V0dGluZy5nZXRUZXh0KCd2YWx1ZScpO1xuXG5cdFx0XHRcdC8vIEdldCBkYXRhIHNvdXJjZVxuXHRcdFx0XHRjb25zdCBkcyA9IHRoaXMuX3Jvb21MaXN0Qm94LmRhdGFTb3VyY2UuZGF0YSgpO1xuXG5cdFx0XHRcdC8vIENoZWNrIGlmIG5hbWUgZXhpc3RzIGluIGRhdGEgc291cmNlXG5cdFx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgZHMubGVuZ3RoOyBqKyspXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRpZiAoZHNbal0ubmFtZSA9PSBuYW1lKVxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRfZW5hYmxlQ3JlYXRlUm9vbVBhbmVsKGVuYWJsZSlcblx0e1xuXHRcdGxldCBtb2RhbEVsZW1lbnQgPSAkKCcjem5tLWNyZWF0ZVJvb21Nb2RhbCcpO1xuXG5cdFx0Ly8gRW5hYmxlIG1vZGFsIGNsb3NlIGJ1dHRvbnNcblx0XHQkKCdidXR0b25bZGF0YS1kaXNtaXNzPVwibW9kYWxcIl0nLCBtb2RhbEVsZW1lbnQpLmF0dHIoJ2Rpc2FibGVkJywgIWVuYWJsZSk7XG5cblx0XHQvLyBFbmFibGUgY3JlYXRlIGJ1dHRvblxuXHRcdCQoJyN6bm0tcm9vbUNyZWF0b3JDcmVhdGVCdCcsIG1vZGFsRWxlbWVudCkuYXR0cignZGlzYWJsZWQnLCAhZW5hYmxlKTtcblxuXHRcdC8vIEVuYWJsZSBjaGVja2JveFxuXHRcdCQoJyN6bm0tbm90aWZ5Q2xpZW50c0NCJywgbW9kYWxFbGVtZW50KS5hdHRyKCdkaXNhYmxlZCcsICFlbmFibGUpO1xuXG5cdFx0Ly8gRW5hYmxlIGNvbmZpZ3VyYXRpb24gaW50ZXJmYWNlXG5cdFx0dGhpcy5fcm9vbUNyZWF0aW9uSUJ1aWxkZXIuZGlzYWJsZUludGVyZmFjZSghZW5hYmxlKTtcblx0fVxuXG5cdF9jbGVhclRhYnMobW9uaXRvcmVkVHlwZSlcblx0e1xuXHRcdC8vIERlc3Ryb3kgc2Nyb2xsaW5nIHRhYnNcblx0XHQkKGAjem5tLSR7bW9uaXRvcmVkVHlwZX1UYWJOYXZpZ2F0b3IgI3RhYnNgKS5zY3JvbGxpbmdUYWJzKCdkZXN0cm95Jyk7XG5cblx0XHQvLyBSZW1vdmUgYWxsIHRhYiBuYXZpZ2F0b3IgY29udGVudFxuXHRcdHRoaXMuX2ludGVyZmFjZUJ1aWxkZXIuZGVzdHJveUludGVyZmFjZSgpO1xuXG5cdFx0Ly8gU2V0IGFsbCB0YWIgcGFuZWxzIGFzIGluYWN0aXZlXG5cdFx0JChgI3pubS0ke21vbml0b3JlZFR5cGV9VGFiTmF2aWdhdG9yICN0YWJQYW5lbHMgLnRhYi1wYW5lYCkucmVtb3ZlQ2xhc3MoJ3Nob3cgYWN0aXZlJyk7XG5cblx0XHQvLyBSZW1vdmUgdGFiIGNoYW5nZSBldmVudCBsaXN0ZW5lclxuXHRcdCQoJ2FbZGF0YS10b2dnbGU9XCJ0YWJcIl0nKS5vZmYoJ3Nob3duLmJzLnRhYicpO1xuXG5cdFx0dGhpcy5fc2tpcEluaXRUYWJzID0gZmFsc2U7XG5cdH1cblxuXHRfc2hvd1pvbmVUcmFmZmljRGF0YShkYXRhKVxuXHR7XG5cdFx0Ly8gQnVpbGQgdXNlciBjb3VudCBtb25pdG9yIGhpc3Rvcnlcblx0XHRpZiAoZGF0YS5jb250YWluc0tleSgnaGlzdG9yeScpKVxuXHRcdHtcblx0XHRcdGxldCB1c2VyQ291bnREYXRhID0gZGF0YS5nZXRJbnRBcnJheSgnaGlzdG9yeScpO1xuXHRcdFx0bGV0IHNhbXBsaW5nUmF0ZU1pbnMgPSBkYXRhLmdldEludCgncmF0ZScpO1xuXG5cdFx0XHR0aGlzLl91c2VyQ291bnRDaGFydC5hZGRIaXN0b3J5RW50cmllcyh1c2VyQ291bnREYXRhLCBzYW1wbGluZ1JhdGVNaW5zICogNjApO1xuXHRcdH1cblxuXHRcdC8vIEFkZCBsYXN0IHVzZXIgY291bnQgdmFsdWVcblx0XHR0aGlzLl91c2VyQ291bnRDaGFydC5hZGRFbnRyeShkYXRhLmdldEludCgnY3VycmVudCcpKTtcblx0fVxuXG5cdF9hZGRMb2dFbnRyeVRvR3JpZChncmlkLCBpdGVtKVxuXHR7XG5cdFx0bGV0IGRzID0gZ3JpZC5kYXRhU291cmNlO1xuXG5cdFx0Ly8gQ2hlY2sgaXRlbXMgbGltaXRcblx0XHRpZiAoZHMudG90YWwoKSA9PSB0aGlzLk1BWF9FWFRFTlNJT05fTE9HX1NJWkUpXG5cdFx0XHRkcy5yZW1vdmUoZHMuYXQoMCkpO1xuXG5cdFx0ZHMuYWRkKGl0ZW0pO1xuXHR9XG5cblx0X3Nob3dVc2VyU3RhdHNEYXRhKGRhdGEpXG5cdHtcblx0XHQvLyBQYWNrZXQgcXVldWUgZmlsbGluZyAlXG5cdFx0bGV0IHBhY2tldFF1ZXVlID0gcm91bmRUb0RlY2ltYWxzKGRhdGEuZ2V0RmxvYXQoJ3BhY2tldCcpLCAyKTtcblx0XHR0aGlzLl9wYWNrZXRRdWV1ZUNoYXJ0LnNldERhdGFTb3VyY2UoW3tjYXRlZ29yeTogJ1F1ZXVlJywgdmFsdWU6IHBhY2tldFF1ZXVlfV0pO1xuXG5cdFx0Ly8gRHJvcHBlZCBtZXNzYWdlc1xuXHRcdGxldCBkcm9wcGVkTXNnID0gZGF0YS5nZXRJbnQoJ2Ryb3BwZWQnKTtcblx0XHR0aGlzLl9kcm9wcGVkTXNnQ2hhcnQuc2V0RGF0YVNvdXJjZShbe2NhdGVnb3J5OiAnRHJvcHBlZCcsIHZhbHVlOiBkcm9wcGVkTXNnfV0pO1xuXG5cdFx0Ly8gV3JpdHRlbiBkYXRhIGFtb3VudFxuXHRcdGxldCB3cml0dGVuRGF0YU9iaiA9IHNjYWxlQnl0ZXMoZGF0YS5nZXRMb25nKCd3Qnl0ZXMnKSwgMik7XG5cdFx0dGhpcy5fd3JpdHRlbkRhdGFDaGFydC5zZXREYXRhU291cmNlKFt7Y2F0ZWdvcnk6ICdXcml0dGVuJywgdmFsdWU6IHdyaXR0ZW5EYXRhT2JqLnZhbHVlLCB1bml0OiB3cml0dGVuRGF0YU9iai51bml0fV0pO1xuXG5cdFx0Ly8gUmVhZCBkYXRhIGFtb3VudFxuXHRcdGxldCByZWFkRGF0YU9iaiA9IHNjYWxlQnl0ZXMoZGF0YS5nZXRMb25nKCdyQnl0ZXMnKSwgMik7XG5cdFx0dGhpcy5fcmVhZERhdGFDaGFydC5zZXREYXRhU291cmNlKFt7Y2F0ZWdvcnk6ICdSZWFkJywgdmFsdWU6IHJlYWREYXRhT2JqLnZhbHVlLCB1bml0OiByZWFkRGF0YU9iai51bml0fV0pO1xuXHR9XG5cblx0X3NldEdlb0xvY2F0aW9uVUkoZ2VvTG9jRGF0YSlcblx0e1xuXHRcdGNvbnN0IGxvY2F0aW9uID0gZ2VvTG9jRGF0YS5nZXRVdGZTdHJpbmcoJ2xvY2F0aW9uJyk7XG5cdFx0Y29uc3QgZXJyb3IgPSBnZW9Mb2NEYXRhLmdldFV0ZlN0cmluZygnZXJyb3InKTtcblx0XHRjb25zdCBsYXRpdHVkZSA9IGdlb0xvY0RhdGEuZ2V0VXRmU3RyaW5nKCdsYXRpdHVkZScpO1xuXHRcdGNvbnN0IGxvbmdpdHVkZSA9IGdlb0xvY0RhdGEuZ2V0VXRmU3RyaW5nKCdsb25naXR1ZGUnKTtcblxuXHRcdC8vIFNob3cgbG9jYXRpb25cblx0XHQkKCcjem5tLWdlb0xvY2F0aW9uTGInKS50ZXh0KGxvY2F0aW9uKTtcblxuXHRcdC8vIExvZyBlcnJvclxuXHRcdGlmIChlcnJvciAhPSAnJylcblx0XHRcdHRoaXMuc2hlbGxDdHJsLmxvZ01lc3NhZ2UoZXJyb3IsICd3YXJuJyk7XG5cblx0XHQvLyBFbmFibGUvZGlzYWJsZSBTaG93IG1hcCBidXR0b25cblx0XHRpZiAobGF0aXR1ZGUgIT0gJycgJiYgbG9uZ2l0dWRlICE9ICcnKVxuXHRcdHtcblx0XHRcdCQoJyN6bm0tc2hvd01hcEJ0JykuYXR0cignZGlzYWJsZWQnLCBmYWxzZSk7XG5cblx0XHRcdGNvbnN0IHVybCA9IGBodHRwczovL3d3dy5nb29nbGUuY29tL21hcHMvc2VhcmNoLz9hcGk9MSZxdWVyeT0ke051bWJlcihsYXRpdHVkZSkgKyAnLCcgKyBOdW1iZXIobG9uZ2l0dWRlKX1gO1xuXHRcdFx0JCgnI3pubS1zaG93TWFwQnQnKS5hdHRyKCdocmVmJywgdXJsKTtcblx0XHR9XG5cdH1cblxuXHRfY2xlYXJHZW9Mb2NhdGlvblVJKClcblx0e1xuXHRcdCQoJyN6bm0tZ2VvTG9jYXRpb25MYicpLnRleHQoJycpO1xuXHRcdCQoJyN6bm0tc2hvd01hcEJ0JykuYXR0cignZGlzYWJsZWQnLCB0cnVlKTtcblx0XHQkKCcjem5tLXNob3dNYXBCdCcpLmF0dHIoJ2hyZWYnLCAnIycpO1xuXHR9XG5cblx0Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0Ly8gUFJJVkFURSBHRVRURVJTXG5cdC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0Z2V0IF9hY3RpdmVQYW5lbFR5cGUoKVxuXHR7XG5cdFx0cmV0dXJuIHRoaXMuX2FjY29yZGlvbi5zZWxlY3QoKS5kYXRhKCdpdGVtVHlwZScpO1xuXHR9XG5cblx0Z2V0IF9zZWxlY3RlZFpvbmUoKVxuXHR7XG5cdFx0cmV0dXJuIHRoaXMuX3pvbmVMaXN0Qm94LmRhdGFJdGVtKHRoaXMuX3pvbmVMaXN0Qm94LnNlbGVjdCgpKTtcblx0fVxuXG5cdGdldCBfc2VsZWN0ZWRHcm91cCgpXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5fZ3JvdXBzRHJvcERvd24uZGF0YUl0ZW0odGhpcy5fZ3JvdXBzRHJvcERvd24uc2VsZWN0KCkpO1xuXHR9XG5cblx0Z2V0IF9zZWxlY3RlZFJvb20oKVxuXHR7XG5cdFx0cmV0dXJuIHRoaXMuX3Jvb21MaXN0Qm94LmRhdGFJdGVtKHRoaXMuX3Jvb21MaXN0Qm94LnNlbGVjdCgpKTtcblx0fVxuXG5cdGdldCBfc2VsZWN0ZWRVc2VyKClcblx0e1xuXHRcdHJldHVybiB0aGlzLl91c2VyTGlzdEJveC5kYXRhSXRlbSh0aGlzLl91c2VyTGlzdEJveC5zZWxlY3QoKSk7XG5cdH1cblxuXHRnZXQgX2lzRWRpdGluZygpXG5cdHtcblx0XHRyZXR1cm4gKHRoaXMuX21vbml0b3JlZFR5cGUgIT0gbnVsbCAmJiB0aGlzLl9tb25pdG9yZWROYW1lICE9IG51bGwgJiYgdGhpcy5faXNFZGl0TW9kZSk7XG5cdH1cbn1cbiIsImV4cG9ydCBjbGFzcyBSb29tUHJvcGVydGllc0RhdGFcbntcblx0c3RhdGljIGdldCBMQUJFTFMoKSB7XG5cdFx0bGV0IG1hcCA9IG5ldyBNYXAoKTtcblxuXHRcdG1hcC5zZXQoU0ZTMlguUm9vbVByb3BlcnRpZXMuTkFNRSwgJ25hbWUnKTtcblx0XHRtYXAuc2V0KFNGUzJYLlJvb21Qcm9wZXJ0aWVzLkdST1VQX0lELCAnZ3JvdXBJZCcpO1xuXHRcdG1hcC5zZXQoU0ZTMlguUm9vbVByb3BlcnRpZXMuTUFYX1VTRVJTLCAnbWF4VXNlcnMnKTtcblx0XHRtYXAuc2V0KFNGUzJYLlJvb21Qcm9wZXJ0aWVzLk1BWF9TUEVDVEFUT1JTLCAnbWF4U3BlY3RhdG9ycycpO1xuXHRcdG1hcC5zZXQoU0ZTMlguUm9vbVByb3BlcnRpZXMuVVNFUl9DT1VOVCwgJ3VzZXJDb3VudCcpO1xuXHRcdG1hcC5zZXQoU0ZTMlguUm9vbVByb3BlcnRpZXMuU1BFQ1RBVE9SX0NPVU5ULCAnc3BlY3RhdG9yQ291bnQnKTtcblx0XHRtYXAuc2V0KFNGUzJYLlJvb21Qcm9wZXJ0aWVzLklTX0dBTUUsICdpc0dhbWUnKTtcblx0XHRtYXAuc2V0KFNGUzJYLlJvb21Qcm9wZXJ0aWVzLklTX1BSSVZBVEUsICdpc1ByaXZhdGUnKTtcblx0XHRtYXAuc2V0KFNGUzJYLlJvb21Qcm9wZXJ0aWVzLkhBU19GUkVFX1BMQVlFUl9TTE9UUywgJ2hhc0ZyZWVQbGF5ZXJTbG90cycpO1xuXHRcdG1hcC5zZXQoU0ZTMlguUm9vbVByb3BlcnRpZXMuSVNfVFlQRV9TRlNHQU1FLCAnaXNTRlNHYW1lVHlwZScpO1xuXG5cdFx0cmV0dXJuIG1hcDtcblx0fVxuXG5cdHN0YXRpYyBnZXRMYWJlbChwcm9wTmFtZSlcblx0e1xuXHRcdHJldHVybiAnUm9vbS4nICsgUm9vbVByb3BlcnRpZXNEYXRhLkxBQkVMUy5nZXQocHJvcE5hbWUpO1xuXHR9XG5cblx0c3RhdGljIGdldCBwcm9wZXJ0aWVzQXJyYXkoKVxuXHR7XG5cdFx0Y29uc3QgYXJyID0gW107XG5cblx0XHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBSb29tUHJvcGVydGllc0RhdGEuTEFCRUxTLmVudHJpZXMoKSlcblx0XHR7XG5cdFx0XHRhcnIucHVzaCh7XG5cdFx0XHRcdGxhYmVsOiBSb29tUHJvcGVydGllc0RhdGEuZ2V0TGFiZWwoa2V5KSxcblx0XHRcdFx0dmFsdWU6IGtleVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFycjtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgVXNlclByb3BlcnRpZXNEYXRhXG57XG5cdHN0YXRpYyBnZXQgTEFCRUxTKCkge1xuXHRcdGxldCBtYXAgPSBuZXcgTWFwKCk7XG5cblx0XHRtYXAuc2V0KFNGUzJYLlVzZXJQcm9wZXJ0aWVzLk5BTUUsICduYW1lJyk7XG5cdFx0bWFwLnNldChTRlMyWC5Vc2VyUHJvcGVydGllcy5JU19QTEFZRVIsICdpc1BsYXllcicpO1xuXHRcdG1hcC5zZXQoU0ZTMlguVXNlclByb3BlcnRpZXMuSVNfU1BFQ1RBVE9SLCAnaXNTcGVjdGF0b3InKTtcblx0XHRtYXAuc2V0KFNGUzJYLlVzZXJQcm9wZXJ0aWVzLklTX05QQywgJ2lzTlBDJyk7XG5cdFx0bWFwLnNldChTRlMyWC5Vc2VyUHJvcGVydGllcy5QUklWSUxFR0VfSUQsICdwcml2aWxlZ2VJZCcpO1xuXG5cdFx0cmV0dXJuIG1hcDtcblx0fVxuXG5cdHN0YXRpYyBnZXRMYWJlbChwcm9wTmFtZSlcblx0e1xuXHRcdHJldHVybiAnVXNlci4nICsgVXNlclByb3BlcnRpZXNEYXRhLkxBQkVMUy5nZXQocHJvcE5hbWUpO1xuXHR9XG5cblx0c3RhdGljIGdldCBwcm9wZXJ0aWVzQXJyYXkoKVxuXHR7XG5cdFx0Y29uc3QgYXJyID0gW107XG5cblx0XHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBVc2VyUHJvcGVydGllc0RhdGEuTEFCRUxTLmVudHJpZXMoKSlcblx0XHR7XG5cdFx0XHRhcnIucHVzaCh7XG5cdFx0XHRcdGxhYmVsOiBVc2VyUHJvcGVydGllc0RhdGEuZ2V0TGFiZWwoa2V5KSxcblx0XHRcdFx0dmFsdWU6IGtleVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFycjtcblx0fVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUM3R0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FDbktBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FDdGFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUN2SEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FDdC9EQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBIiwic291cmNlUm9vdCI6IiJ9